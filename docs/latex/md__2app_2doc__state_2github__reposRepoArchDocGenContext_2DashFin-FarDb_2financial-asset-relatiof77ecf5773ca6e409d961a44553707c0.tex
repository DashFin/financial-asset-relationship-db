\chapter{Dash\+Fin/financial-\/asset-\/relationship-\/db Wiki}
\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0}{}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0}\index{DashFin/financial-\/asset-\/relationship-\/db Wiki@{DashFin/financial-\/asset-\/relationship-\/db Wiki}}
\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1282}%
\Hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1282}%


Version\+: 2\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1283}{}\doxysection{\texorpdfstring{Overview}{Overview}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1283}
\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1284}{}\doxysubsection{\texorpdfstring{Home}{Home}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1284}


{\bfseries{Relevant source files}}\begin{adjustwidth}{1em}{0em}
The following files were used as context for generating this wiki page\+:


\begin{DoxyItemize}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/README.md}{\texttt{ README.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/ARCHITECTURE.md}{\texttt{ ARCHITECTURE.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/CONTRIBUTING.md}{\texttt{ CONTRIBUTING.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/AI_RULES.md}{\texttt{ AI\+\_\+\+RULES.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/SUMMARY.md}{\texttt{ SUMMARY.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/AUDIT_REPORT.md}{\texttt{ AUDIT\+\_\+\+REPORT.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/frontend/README.md}{\texttt{ frontend/\+README.\+md}}
\end{DoxyItemize}\end{adjustwidth}
\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1285}{}\doxysection{\texorpdfstring{Home}{Home}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1285}
The Financial Asset Relationship Database is a system designed for the 3D visualization of interconnected financial assets. It supports a wide range of major asset classes, including Equities, Bonds, Commodities, Currencies, and Regulatory Events. The core purpose is to provide a comprehensive, interactive tool for cross-\/asset analysis, automatic relationship discovery, and modeling the impact of corporate and regulatory events on the financial network. Sources\+: \mbox{[}README.\+md\+:3-\/4\mbox{]}()

The project offers two distinct user interface and backend combinations\+: an original implementation using a Gradio UI with direct Python logic, and a newer, decoupled architecture featuring a Next.\+js frontend communicating with a Fast\+API backend via a REST API. Both implementations leverage the same core logic for graph analysis and visualization generation. Sources\+: \mbox{[}README.\+md\+:10-\/12, 30-\/32\mbox{]}(), \mbox{[}\doxylink{ARCHITECTURE_8md}{ARCHITECTURE.\+md}\+:3-\/23\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1286}{}\doxysubsection{\texorpdfstring{System Architecture}{System Architecture}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1286}
The system is structured into four primary layers\+: User Interface, API, Core Business Logic, and Data. This layered design allows for flexibility, such as supporting multiple frontend applications (Gradio and Next.\+js) that consume the core logic in different ways. Sources\+: \mbox{[}\doxylink{ARCHITECTURE_8md}{ARCHITECTURE.\+md}\+:3-\/63\mbox{]}()

The diagram below illustrates the high-\/level system architecture, showing the two parallel paths from the user interface to the core logic.


\begin{DoxyCode}{0}
\DoxyCodeLine{graph\ TD}
\DoxyCodeLine{\ \ \ \ subgraph\ User\ Interface\ Layer}
\DoxyCodeLine{\ \ \ \ \ \ \ \ A1[Gradio\ UI\ on\ Port\ 7860]}
\DoxyCodeLine{\ \ \ \ \ \ \ \ A2[Next.js\ UI\ on\ Port\ 3000]}
\DoxyCodeLine{\ \ \ \ end}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ subgraph\ API\ Layer}
\DoxyCodeLine{\ \ \ \ \ \ \ \ B1[Direct\ Python\ Calls]}
\DoxyCodeLine{\ \ \ \ \ \ \ \ B2[FastAPI\ Backend\ on\ Port\ 8000]}
\DoxyCodeLine{\ \ \ \ end}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ subgraph\ Core\ Business\ Logic\ Layer}
\DoxyCodeLine{\ \ \ \ \ \ \ \ C[AssetRelationshipGraph\ <br>\ src/logic/asset\_graph.py]}
\DoxyCodeLine{\ \ \ \ end}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ subgraph\ Data\ Layer}
\DoxyCodeLine{\ \ \ \ \ \ \ \ D1[Financial\ Models\ <br>\ src/models/financial\_models.py]}
\DoxyCodeLine{\ \ \ \ \ \ \ \ D2[Data\ Sources\ <br>\ yfinance,\ sample\_data.py]}
\DoxyCodeLine{\ \ \ \ end}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ A1\ -\/-\/>\ B1}
\DoxyCodeLine{\ \ \ \ A2\ -\/-\/>\ B2}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ B1\ -\/-\/>\ C}
\DoxyCodeLine{\ \ \ \ B2\ -\/-\/>\ C}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ C\ -\/-\/>\ D1}
\DoxyCodeLine{\ \ \ \ C\ -\/-\/>\ D2}

\end{DoxyCode}


Sources\+: \mbox{[}\doxylink{ARCHITECTURE_8md}{ARCHITECTURE.\+md}\+:3-\/63\mbox{]}(), \mbox{[}\doxylink{CONTRIBUTING_8md}{CONTRIBUTING.\+md}\+:175-\/185\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1287}{}\doxysubsubsection{\texorpdfstring{Key Components}{Key Components}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1287}
\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{3}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Component   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Source File(s)    }\\\cline{1-3}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Component   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Source File(s)    }\\\cline{1-3}
\endhead
{\bfseries{Gradio UI}}   &The original interactive web interface for demos and direct interaction with Python logic.   &{\ttfamily \doxylink{app_8py}{app.\+py}}    \\\cline{1-3}
{\bfseries{Next.\+js Frontend}}   &A modern, responsive web application built with React and Type\+Script.   &{\ttfamily frontend/}    \\\cline{1-3}
{\bfseries{Fast\+API Backend}}   &A REST API server that exposes the core logic to the Next.\+js frontend.   &{\ttfamily \doxylink{api_2main_8py}{api/main.\+py}}    \\\cline{1-3}
{\bfseries{{\ttfamily \doxylink{classAssetRelationshipGraph}{Asset\+Relationship\+Graph}}}}   &The core engine responsible for graph algorithms, relationship discovery, and metric calculations.   &{\ttfamily \doxylink{asset__graph_8py}{src/logic/asset\+\_\+graph.\+py}}    \\\cline{1-3}
{\bfseries{Financial Models}}   &Dataclasses defining the structure for all asset types (e.\+g., {\ttfamily Equity}, {\ttfamily Bond}).   &{\ttfamily \doxylink{financial__models_8py}{src/models/financial\+\_\+models.\+py}}    \\\cline{1-3}
{\bfseries{Data Sources}}   &Modules for fetching data, either from static samples or real-\/time sources like Yahoo Finance.   &{\ttfamily src/data/}   \\\cline{1-3}
\end{longtabu}


Sources\+: \mbox{[}README.\+md\+:100-\/112\mbox{]}(), \mbox{[}\doxylink{ARCHITECTURE_8md}{ARCHITECTURE.\+md}\+:70-\/90\mbox{]}(), \mbox{[}\doxylink{frontend_2README_8md}{frontend/\+README.\+md}\+:40-\/52\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1288}{}\doxysubsection{\texorpdfstring{Features}{Features}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1288}
The platform provides a rich set of features for financial analysis and visualization.

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{2}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Feature   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-2}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Feature   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-2}
\endhead
{\bfseries{3D Network Visualization}}   &An interactive 3D graph of asset relationships, rendered using Plotly.    \\\cline{1-2}
{\bfseries{Cross-\/\+Asset Analysis}}   &Automatically discovers and models relationships between different asset classes.    \\\cline{1-2}
{\bfseries{Regulatory Integration}}   &Models the impact of corporate events and SEC filings on the asset network.    \\\cline{1-2}
{\bfseries{Real-\/time Metrics}}   &Provides network statistics like density, degree, and relationship strength analysis.   \\\cline{1-2}
\end{longtabu}


Sources\+: \mbox{[}README.\+md\+:71-\/75\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1289}{}\doxysubsubsection{\texorpdfstring{Supported Asset Classes}{Supported Asset Classes}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1289}
The database is designed to handle a variety of financial instruments.

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{2}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Asset Class   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Key Attributes    }\\\cline{1-2}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Asset Class   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Key Attributes    }\\\cline{1-2}
\endhead
{\bfseries{Equities}}   &P/E ratios, dividend yields, EPS    \\\cline{1-2}
{\bfseries{Fixed Income (Bonds)}}   &Yield, duration, credit ratings    \\\cline{1-2}
{\bfseries{Commodities}}   &Futures and spot prices, contract specifications    \\\cline{1-2}
{\bfseries{Currencies}}   &FX pairs, exchange rates, monetary policy links    \\\cline{1-2}
{\bfseries{Regulatory Events}}   &Earnings, SEC filings, M\&A activities   \\\cline{1-2}
\end{longtabu}


Sources\+: \mbox{[}README.\+md\+:78-\/84\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1290}{}\doxysubsubsection{\texorpdfstring{Relationship Types}{Relationship Types}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1290}
The system can identify and model several types of relationships between assets.


\begin{DoxyItemize}
\item {\bfseries{Sector Affinity}}\+: Assets in the same industry sector.
\item {\bfseries{Corporate Links}}\+: Bonds issued by a stock company.
\item {\bfseries{Commodity Exposure}}\+: Equity companies exposed to commodity prices.
\item {\bfseries{Currency Risk}}\+: FX exposure for non-\/\+USD assets.
\item {\bfseries{Income Comparison}}\+: Comparing stock dividends vs. bond yields.
\item {\bfseries{Event Impact}}\+: A regulatory event affecting multiple assets.
\end{DoxyItemize}

Sources\+: \mbox{[}README.\+md\+:87-\/94\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1291}{}\doxysubsection{\texorpdfstring{Data Model and Flow}{Data Model and Flow}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1291}
The core data model revolves around Assets, their Relationships, and the influence of Regulatory Events. Relationship strength is normalized on a 0.\+0 to 1.\+0 scale, while regulatory impact is scored from -\/1 (negative) to +1 (positive). Sources\+: \mbox{[}README.\+md\+:118-\/120\mbox{]}()

The following diagram shows the basic entity relationships.


\begin{DoxyCode}{0}
\DoxyCodeLine{erDiagram}
\DoxyCodeLine{\ \ \ \ ASSET\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ string\ id}
\DoxyCodeLine{\ \ \ \ \ \ \ \ string\ symbol}
\DoxyCodeLine{\ \ \ \ \ \ \ \ string\ name}
\DoxyCodeLine{\ \ \ \ \ \ \ \ AssetClass\ asset\_class}
\DoxyCodeLine{\ \ \ \ \ \ \ \ string\ sector}
\DoxyCodeLine{\ \ \ \ \ \ \ \ float\ price}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ RELATIONSHIP\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ string\ source\_id}
\DoxyCodeLine{\ \ \ \ \ \ \ \ string\ target\_id}
\DoxyCodeLine{\ \ \ \ \ \ \ \ string\ type}
\DoxyCodeLine{\ \ \ \ \ \ \ \ float\ strength}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ REGULATORY\_EVENT\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ string\ id}
\DoxyCodeLine{\ \ \ \ \ \ \ \ string\ name}
\DoxyCodeLine{\ \ \ \ \ \ \ \ date\ event\_date}
\DoxyCodeLine{\ \ \ \ \ \ \ \ float\ impact\_score}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ ASSET\ ||-\/-\/o\{\ RELATIONSHIP\ :\ "{}has"{}}
\DoxyCodeLine{\ \ \ \ REGULATORY\_EVENT\ ||-\/-\/|\{\ ASSET\ :\ "{}impacts"{}}

\end{DoxyCode}


Sources\+: \mbox{[}README.\+md\+:114-\/120\mbox{]}(), \mbox{[}\doxylink{AUDIT__REPORT_8md}{AUDIT\+\_\+\+REPORT.\+md}\+:32-\/35\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1292}{}\doxysubsubsection{\texorpdfstring{Data Flow for Relationship Discovery}{Data Flow for Relationship Discovery}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1292}
The process of building the asset graph follows a clear data flow from ingestion to visualization.


\begin{DoxyCode}{0}
\DoxyCodeLine{flowchart\ TD}
\DoxyCodeLine{\ \ \ \ A[Data\ Ingestion\ <br>\ yfinance\ /\ sample\_data.py]\ -\/-\/>\ B(Asset\ Object\ Creation\ <br>\ Equity,\ Bond,\ etc.)}
\DoxyCodeLine{\ \ \ \ B\ -\/-\/>\ C\{AssetRelationshipGraph\}}
\DoxyCodeLine{\ \ \ \ C\ -\/-\/>\ D(Relationship\ Building\ <br>\ \_find\_relationships)}
\DoxyCodeLine{\ \ \ \ D\ -\/-\/>\ E(Graph\ Construction\ <br>\ Nodes\ and\ Edges)}
\DoxyCodeLine{\ \ \ \ E\ -\/-\/>\ F(3D\ Position\ Calculation\ <br>\ Deterministic\ seed=42)}
\DoxyCodeLine{\ \ \ \ F\ -\/-\/>\ G\{Output\ Generation\}}
\DoxyCodeLine{\ \ \ \ G\ -\/-\/>\ H[JSON\ for\ API]}
\DoxyCodeLine{\ \ \ \ G\ -\/-\/>\ I[Plotly\ Figure\ for\ Gradio]}

\end{DoxyCode}


Sources\+: \mbox{[}\doxylink{ARCHITECTURE_8md}{ARCHITECTURE.\+md}\+:183-\/207\mbox{]}(), \mbox{[}README.\+md\+:133-\/134\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1293}{}\doxysubsection{\texorpdfstring{Technology Stack}{Technology Stack}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1293}
The project utilizes a modern Python and Java\+Script/\+Type\+Script stack. The choice of libraries is governed by a set of rules to ensure consistency. Sources\+: \mbox{[}\doxylink{AI__RULES_8md}{AI\+\_\+\+RULES.\+md}\+:5-\/24\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1294}{}\doxysubsubsection{\texorpdfstring{Backend \& Core Logic}{Backend \& Core Logic}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1294}
\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{2}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Technology   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Purpose    }\\\cline{1-2}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Technology   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Purpose    }\\\cline{1-2}
\endhead
{\bfseries{Python 3.\+8+}}   &Foundational programming language.    \\\cline{1-2}
{\bfseries{Fast\+API}}   &High-\/performance REST API framework.    \\\cline{1-2}
{\bfseries{Gradio}}   &UI framework for the original interactive demo.    \\\cline{1-2}
{\bfseries{Pandas}}   &Data manipulation and analysis.    \\\cline{1-2}
{\bfseries{Num\+Py}}   &Numerical operations and array computations.    \\\cline{1-2}
{\bfseries{Plotly}}   &Generation of all interactive charts and 3D graphs.    \\\cline{1-2}
{\bfseries{yfinance}}   &Fetching real-\/time and historical financial market data.    \\\cline{1-2}
{\bfseries{dataclasses \& enum}}   &Defining structured data models and enumerations.   \\\cline{1-2}
\end{longtabu}


Sources\+: \mbox{[}\doxylink{AI__RULES_8md}{AI\+\_\+\+RULES.\+md}\+:7-\/24\mbox{]}(), \mbox{[}\doxylink{ARCHITECTURE_8md}{ARCHITECTURE.\+md}\+:168-\/180\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1295}{}\doxysubsubsection{\texorpdfstring{Frontend}{Frontend}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1295}
\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{2}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Technology   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Purpose    }\\\cline{1-2}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Technology   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Purpose    }\\\cline{1-2}
\endhead
{\bfseries{Next.\+js 14}}   &React framework for the modern UI.    \\\cline{1-2}
{\bfseries{React 18}}   &UI component library.    \\\cline{1-2}
{\bfseries{Type\+Script}}   &Type safety for Java\+Script.    \\\cline{1-2}
{\bfseries{Tailwind CSS}}   &Utility-\/first CSS framework for styling.    \\\cline{1-2}
{\bfseries{Plotly.\+js}}   &Rendering 3D visualizations in the browser.    \\\cline{1-2}
{\bfseries{Axios}}   &HTTP client for communicating with the Fast\+API backend.   \\\cline{1-2}
\end{longtabu}


Sources\+: \mbox{[}\doxylink{ARCHITECTURE_8md}{ARCHITECTURE.\+md}\+:154-\/165\mbox{]}(), \mbox{[}\doxylink{frontend_2README_8md}{frontend/\+README.\+md}\+:55-\/56\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1296}{}\doxysubsection{\texorpdfstring{Development and Testing}{Development and Testing}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1296}
The project is equipped with a comprehensive development and testing workflow, enforced by pre-\/commit hooks and a CI/\+CD pipeline. Sources\+: \mbox{[}\doxylink{CONTRIBUTING_8md}{CONTRIBUTING.\+md}\+:65-\/81\mbox{]}(), \mbox{[}\doxylink{SUMMARY_8md}{SUMMARY.\+md}\+:43-\/57\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1297}{}\doxysubsubsection{\texorpdfstring{Development Workflow}{Development Workflow}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1297}
A standardized workflow is used for all contributions.


\begin{DoxyCode}{0}
\DoxyCodeLine{flowchart\ TD}
\DoxyCodeLine{\ \ \ \ A(Create\ Branch\ <br>\ e.g.,\ feature/your-\/feature)\ -\/-\/>\ B(Make\ Changes\ <br>\ Code,\ Tests,\ Docs)}
\DoxyCodeLine{\ \ \ \ B\ -\/-\/>\ C(Run\ Local\ Checks\ <br>\ make\ check)}
\DoxyCodeLine{\ \ \ \ C\ -\/-\/>\ D(Commit\ Changes\ <br>\ Descriptive\ Messages)}
\DoxyCodeLine{\ \ \ \ D\ -\/-\/>\ E(Push\ and\ Create\ PR)}
\DoxyCodeLine{\ \ \ \ E\ -\/-\/>\ F\{PR\ Review\}}
\DoxyCodeLine{\ \ \ \ F\ -\/-\/>\ G(Merge\ to\ main)}
\DoxyCodeLine{\ \ \ \ G\ -\/-\/>\ H(Delete\ Branch)}

\end{DoxyCode}


Sources\+: \mbox{[}\doxylink{CONTRIBUTING_8md}{CONTRIBUTING.\+md}\+:51-\/100\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1298}{}\doxysubsubsection{\texorpdfstring{Development Commands}{Development Commands}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1298}
A {\ttfamily Makefile} provides shortcuts for common development tasks.

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{2}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Command   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-2}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Command   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-2}
\endhead
{\ttfamily make install-\/dev}   &Install all production and development dependencies.    \\\cline{1-2}
{\ttfamily make pre-\/commit}   &Install pre-\/commit hooks for automated quality checks.    \\\cline{1-2}
{\ttfamily make format}   &Format code with {\ttfamily black} and {\ttfamily isort}.    \\\cline{1-2}
{\ttfamily make lint}   &Run linters ({\ttfamily flake8}, {\ttfamily pylint}).    \\\cline{1-2}
{\ttfamily make type-\/check}   &Run the {\ttfamily mypy} type checker.    \\\cline{1-2}
{\ttfamily make test}   &Run the {\ttfamily pytest} test suite with coverage.    \\\cline{1-2}
{\ttfamily make check}   &Run all checks (format, lint, type-\/check, test) at once.   \\\cline{1-2}
\end{longtabu}


Sources\+: \mbox{[}\doxylink{SUMMARY_8md}{SUMMARY.\+md}\+:60-\/76\mbox{]}(), \mbox{[}\doxylink{CONTRIBUTING_8md}{CONTRIBUTING.\+md}\+:41-\/44, 72-\/81\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1299}{}\doxysubsubsection{\texorpdfstring{Testing}{Testing}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1299}
The project maintains a high standard of testing for both backend and frontend code.


\begin{DoxyItemize}
\item {\bfseries{Backend (Python)}}\+: {\ttfamily pytest} is used for unit and integration testing. Tests are located in the {\ttfamily tests/} directory and are structured into {\ttfamily unit/} and {\ttfamily integration/} subdirectories.
\item {\bfseries{Frontend (Type\+Script)}}\+: {\ttfamily Jest} and {\ttfamily React Testing Library} are used for component and utility testing. Tests are located in the {\ttfamily frontend/\+\_\+\+\_\+tests\+\_\+\+\_\+/} directory.
\end{DoxyItemize}

Sources\+: \mbox{[}README.\+md\+:140-\/151\mbox{]}(), \mbox{[}\doxylink{CONTRIBUTING_8md}{CONTRIBUTING.\+md}\+:124-\/161\mbox{]}(), \mbox{[}\doxylink{frontend_2README_8md}{frontend/\+README.\+md}\+:27-\/38\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1300}{}\doxysubsection{\texorpdfstring{Conclusion}{Conclusion}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1300}
The Financial Asset Relationship Database is a well-\/architected system that provides powerful visualization and analysis capabilities for financial data. Its modular design supports multiple frontends and a clear separation of concerns between the UI, API, and core logic. The project is further strengthened by a robust development and testing process, ensuring code quality and maintainability. Sources\+: \mbox{[}\doxylink{AUDIT__REPORT_8md}{AUDIT\+\_\+\+REPORT.\+md}\+:21-\/41, 235-\/240\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1301}{}\doxysubsubsection{\texorpdfstring{Quick Start Guide}{Quick Start Guide}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1301}


{\bfseries{Relevant source files}}\begin{adjustwidth}{1em}{0em}


The following files were used as context for generating this wiki page\+:


\begin{DoxyItemize}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/README.md}{\texttt{ README.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/run-dev.sh}{\texttt{ run-\/dev.\+sh}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/run-dev.bat}{\texttt{ run-\/dev.\+bat}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/docker-compose.yml}{\texttt{ docker-\/compose.\+yml}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/QUICK_START.md}{\texttt{ QUICK\+\_\+\+START.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/DOCKER.md}{\texttt{ DOCKER.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/frontend/README.md}{\texttt{ frontend/\+README.\+md}}
\end{DoxyItemize}

\end{adjustwidth}
\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1302}{}\doxysection{\texorpdfstring{Quick Start Guide}{Quick Start Guide}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1302}
This guide provides instructions to quickly set up and run the Financial Asset Relationship Database application. It covers three primary methods\+: the modern Next.\+js/\+Fast\+API stack (recommended), the original Gradio interface, and a containerized Docker deployment. Each method is designed to get a developer running in under 5 minutes.

The project offers a comprehensive 3D visualization system for interconnected financial assets, including equities, bonds, commodities, and currencies. For more detailed deployment information, refer to the Vercel deployment guide or the system architecture overview.

Sources\+: \mbox{[}README.\+md\+:3-\/4\mbox{]}(), \mbox{[}\doxylink{QUICK__START_8md}{QUICK\+\_\+\+START.\+md}\+:3-\/4\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1303}{}\doxysubsection{\texorpdfstring{Prerequisites}{Prerequisites}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1303}
Before you begin, ensure you have the following software installed on your system.

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{2}{|X[-1]}|}
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Software   }&\cellcolor{\tableheadbgcolor}\textbf{ Minimum Version    }\\\cline{1-2}
\endfirsthead
\hline
\endfoot
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Software   }&\cellcolor{\tableheadbgcolor}\textbf{ Minimum Version    }\\\cline{1-2}
\endhead
Python   &3.\+10+    \\\cline{1-2}
Node.\+js   &18+   \\\cline{1-2}
\end{longtabu}


Sources\+: \mbox{[}README.\+md\+:7-\/9\mbox{]}(), \mbox{[}\doxylink{QUICK__START_8md}{QUICK\+\_\+\+START.\+md}\+:5-\/7\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1304}{}\doxysubsection{\texorpdfstring{Option 1\+: Next.\+js Frontend + Fast\+API Backend (Recommended)}{Option 1\+: Next.\+js Frontend + Fast\+API Backend (Recommended)}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1304}
This is the modern approach, providing a rich web interface powered by a REST API. You can use automated scripts for a one-\/command setup or follow the manual steps for more control.

Sources\+: \mbox{[}README.\+md\+:28-\/30\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1305}{}\doxysubsubsection{\texorpdfstring{Automated Setup (Scripts)}{Automated Setup (Scripts)}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1305}
The repository includes convenience scripts to start both the backend and frontend servers simultaneously.

This diagram illustrates the process initiated by the {\ttfamily run-\/dev} scripts.


\begin{DoxyCode}{0}
\DoxyCodeLine{flowchart\ TD}
\DoxyCodeLine{\ \ \ \ A[Start\ Script]\ -\/-\/>\ B\{Check\ OS\};}
\DoxyCodeLine{\ \ \ \ B\ -\/-\/>|Linux/macOS|\ C[run-\/dev.sh];}
\DoxyCodeLine{\ \ \ \ B\ -\/-\/>|Windows|\ D[run-\/dev.bat];}
\DoxyCodeLine{\ \ \ \ C\ -\/-\/>\ E[Start\ FastAPI\ Backend\ on\ Port\ 8000];}
\DoxyCodeLine{\ \ \ \ D\ -\/-\/>\ E;}
\DoxyCodeLine{\ \ \ \ E\ -\/-\/>\ F[Start\ Next.js\ Frontend\ on\ Port\ 3000];}
\DoxyCodeLine{\ \ \ \ F\ -\/-\/>\ G[Application\ Ready];}

\end{DoxyCode}


Sources\+: \mbox{[}run-\/dev.\+sh\mbox{]}(), \mbox{[}run-\/dev.\+bat\mbox{]}()

To run the automated setup\+:

{\bfseries{Linux/mac\+OS}}


\begin{DoxyCode}{0}
\DoxyCodeLine{./run-\/dev.sh}

\end{DoxyCode}


{\bfseries{Windows}}


\begin{DoxyCode}{0}
\DoxyCodeLine{run-\/dev.bat}

\end{DoxyCode}


These scripts will perform the necessary setup, including installing dependencies and launching the servers.

Sources\+: \mbox{[}README.\+md\+:33-\/39\mbox{]}(), \mbox{[}\doxylink{QUICK__START_8md}{QUICK\+\_\+\+START.\+md}\+:9-\/19\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1306}{}\doxysubsubsection{\texorpdfstring{Manual Setup}{Manual Setup}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1306}
If you prefer to run the services separately, follow these steps.\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1307}{}\doxysubsubsubsection{\texorpdfstring{1. Start the Fast\+API Backend}{1. Start the Fast\+API Backend}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1307}

\begin{DoxyCode}{0}
\DoxyCodeLine{\#\ Activate\ virtual\ environment\ (e.g.,\ source\ .venv/bin/activate)}
\DoxyCodeLine{pip\ install\ -\/r\ requirements.txt}
\DoxyCodeLine{python\ -\/m\ uvicorn\ api.main:app\ -\/-\/reload\ -\/-\/port\ 8000}

\end{DoxyCode}


Sources\+: \mbox{[}README.\+md\+:44-\/46\mbox{]}(), \mbox{[}\doxylink{QUICK__START_8md}{QUICK\+\_\+\+START.\+md}\+:25-\/33\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1308}{}\doxysubsubsubsection{\texorpdfstring{2. Start the Next.\+js Frontend}{2. Start the Next.\+js Frontend}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1308}
Open a new terminal for this step.


\begin{DoxyCode}{0}
\DoxyCodeLine{cd\ frontend}
\DoxyCodeLine{npm\ install}
\DoxyCodeLine{npm\ run\ dev}

\end{DoxyCode}


Sources\+: \mbox{[}README.\+md\+:49-\/51\mbox{]}(), \mbox{[}\doxylink{QUICK__START_8md}{QUICK\+\_\+\+START.\+md}\+:36-\/44\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1309}{}\doxysubsubsection{\texorpdfstring{Accessing the Application}{Accessing the Application}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1309}
Once running, the different parts of the application are accessible at the following URLs.

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{2}{|X[-1]}|}
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Service   }&\cellcolor{\tableheadbgcolor}\textbf{ URL    }\\\cline{1-2}
\endfirsthead
\hline
\endfoot
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Service   }&\cellcolor{\tableheadbgcolor}\textbf{ URL    }\\\cline{1-2}
\endhead
Next.\+js Frontend   &{\ttfamily \href{http://localhost:3000}{\texttt{ http\+://localhost\+:3000}}}    \\\cline{1-2}
Fast\+API Backend   &{\ttfamily \href{http://localhost:8000}{\texttt{ http\+://localhost\+:8000}}}    \\\cline{1-2}
API Documentation (Swagger)   &{\ttfamily \href{http://localhost:8000/docs}{\texttt{ http\+://localhost\+:8000/docs}}}   \\\cline{1-2}
\end{longtabu}


Sources\+: \mbox{[}README.\+md\+:54-\/56\mbox{]}(), \mbox{[}\doxylink{QUICK__START_8md}{QUICK\+\_\+\+START.\+md}\+:20-\/22\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1310}{}\doxysubsection{\texorpdfstring{Option 2\+: Gradio UI (Original)}{Option 2\+: Gradio UI (Original)}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1310}
This method runs the original Python-\/based Gradio interface.


\begin{DoxyEnumerate}
\item {\bfseries{Clone the repository and set up a Python virtual environment.}}

{\ttfamily bash git clone \texorpdfstring{$<$}{<}repository-\/url\texorpdfstring{$>$}{>} cd financial-\/asset-\/relationship-\/db python -\/m venv .venv }

Sources\+: \mbox{[}README.\+md\+:12-\/15\mbox{]}()
\item {\bfseries{Activate the environment.}}
\begin{DoxyItemize}
\item mac\+OS/\+Linux\+: {\ttfamily source .venv/bin/activate}
\item Windows\+: {\ttfamily .venv\textbackslash{}Scripts\textbackslash{}activate.\+bat} Sources\+: \mbox{[}README.\+md\+:18-\/26\mbox{]}()
\end{DoxyItemize}
\item {\bfseries{Install dependencies.}}

{\ttfamily bash pip install -\/r requirements.\+txt }

Sources\+: \mbox{[}README.\+md\+:29-\/31\mbox{]}()
\item {\bfseries{Run the application.}} {\ttfamily bash python \doxylink{app_8py}{app.\+py} } The application will be available at {\ttfamily \href{http://localhost:7860}{\texttt{ http\+://localhost\+:7860}}}. Sources\+: \mbox{[}README.\+md\+:34-\/36\mbox{]}()
\end{DoxyEnumerate}\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1311}{}\doxysubsection{\texorpdfstring{Option 3\+: Docker Installation}{Option 3\+: Docker Installation}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1311}
For a containerized setup that encapsulates all dependencies, use Docker.\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1312}{}\doxysubsubsection{\texorpdfstring{Docker Compose (Recommended)}{Docker Compose (Recommended)}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1312}
The {\ttfamily docker-\/compose.\+yml} file defines the application service.

This diagram shows the services defined in the Docker Compose configuration.


\begin{DoxyCode}{0}
\DoxyCodeLine{graph\ TD}
\DoxyCodeLine{\ \ \ \ subgraph\ Docker\ Environment}
\DoxyCodeLine{\ \ \ \ \ \ \ \ A(app\_service)}
\DoxyCodeLine{\ \ \ \ end}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ A\ -\/-\/>|Exposes\ Port\ 7860|\ B(Host\ Machine);}
\DoxyCodeLine{\ \ \ \ B\ -\/-\/>\ C(User);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ style\ A\ fill:\#f9f,stroke:\#333,stroke-\/width:2px}

\end{DoxyCode}


Sources\+: \mbox{[}docker-\/compose.\+yml\mbox{]}()

To build and run the application using Docker Compose\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{docker-\/compose\ up\ -\/-\/build}

\end{DoxyCode}


This command builds the image for the {\ttfamily app} service and starts the container, making the Gradio UI available on {\ttfamily \href{http://localhost:7860}{\texttt{ http\+://localhost\+:7860}}}.

The {\ttfamily docker-\/compose.\+yml} defines a single service named {\ttfamily app}.


\begin{DoxyCode}{0}
\DoxyCodeLine{\#\ docker-\/compose.yml}
\DoxyCodeLine{services:}
\DoxyCodeLine{\ \ app:}
\DoxyCodeLine{\ \ \ \ build:\ .}
\DoxyCodeLine{\ \ \ \ ports:}
\DoxyCodeLine{\ \ \ \ \ \ -\/\ "{}7860:7860"{}}
\DoxyCodeLine{\ \ \ \ volumes:}
\DoxyCodeLine{\ \ \ \ \ \ -\/\ ./src:/app/src}

\end{DoxyCode}


Sources\+: \mbox{[}README.\+md\+:61-\/63\mbox{]}(), \mbox{[}\doxylink{DOCKER_8md}{DOCKER.\+md}\+:5-\/9\mbox{]}(), \mbox{[}docker-\/compose.\+yml\+:2-\/8\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1313}{}\doxysubsubsection{\texorpdfstring{Direct Docker Commands}{Direct Docker Commands}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1313}
Alternatively, you can build and run the Docker image directly without Docker Compose.


\begin{DoxyEnumerate}
\item {\bfseries{Build the image\+:}} {\ttfamily bash docker build -\/t financial-\/asset-\/db . }
\item {\bfseries{Run the container\+:}} {\ttfamily bash docker run -\/p 7860\+:7860 financial-\/asset-\/db } Sources\+: \mbox{[}README.\+md\+:66-\/69\mbox{]}(), \mbox{[}\doxylink{DOCKER_8md}{DOCKER.\+md}\+:12-\/15\mbox{]}()
\end{DoxyEnumerate}\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1314}{}\doxysubsection{\texorpdfstring{Summary}{Summary}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1314}
This guide has outlined three distinct methods for running the application. For modern web development, the {\bfseries{Next.\+js + Fast\+API}} stack is recommended and can be started with a single script. The {\bfseries{Gradio UI}} offers a simpler, Python-\/only alternative. Finally, {\bfseries{Docker}} provides a consistent, isolated environment ideal for both development and deployment.

Sources\+: \mbox{[}README.\+md\mbox{]}(), \mbox{[}\doxylink{QUICK__START_8md}{QUICK\+\_\+\+START.\+md}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1315}{}\doxysubsubsection{\texorpdfstring{Project Goals and Vision}{Project Goals and Vision}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1315}


{\bfseries{Relevant source files}}\begin{adjustwidth}{1em}{0em}


The following files were used as context for generating this wiki page\+:


\begin{DoxyItemize}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/README.md}{\texttt{ README.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/ARCHITECTURE.md}{\texttt{ ARCHITECTURE.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/AI_RULES.md}{\texttt{ AI\+\_\+\+RULES.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/CONTRIBUTING.md}{\texttt{ CONTRIBUTING.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/IMPROVEMENTS.md}{\texttt{ IMPROVEMENTS.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/INTEGRATION_SUMMARY.md}{\texttt{ INTEGRATION\+\_\+\+SUMMARY.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/AUDIT_REPORT.md}{\texttt{ AUDIT\+\_\+\+REPORT.\+md}}
\end{DoxyItemize}

\end{adjustwidth}
\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1316}{}\doxysection{\texorpdfstring{Project Goals and Vision}{Project Goals and Vision}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1316}
The Financial Asset Relationship Database project is envisioned as a comprehensive system for visualizing and analyzing the intricate relationships between financial assets. Its core purpose is to provide an interactive 3D network graph that models the connections across major asset classes, including equities, bonds, commodities, currencies, and regulatory events. This allows for cross-\/asset analysis and understanding the impact of corporate and regulatory activities on the financial ecosystem.

The project\textquotesingle{}s vision extends to being a modern, scalable, and extensible platform. It supports dual user interfacesâ€”a classic Gradio UI for rapid prototyping and a modern Next.\+js frontend with a Fast\+API backend for a production-\/grade user experience. The architecture is designed to be modular, separating data models, business logic, and presentation layers to facilitate future enhancements and maintainability.

Sources\+: \mbox{[}README.\+md\+:3-\/4\mbox{]}(), \mbox{[}\doxylink{ARCHITECTURE_8md}{ARCHITECTURE.\+md}\+:3-\/19\mbox{]}(), \mbox{[}\doxylink{INTEGRATION__SUMMARY_8md}{INTEGRATION\+\_\+\+SUMMARY.\+md}\+:3-\/6\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1317}{}\doxysubsection{\texorpdfstring{Core Mission\+: Visualizing Financial Networks}{Core Mission\+: Visualizing Financial Networks}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1317}
The primary goal is to transform complex, abstract financial data into an intuitive, interactive 3D visualization. This helps users discover and analyze relationships that are not immediately obvious from tabular data.\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1318}{}\doxysubsubsection{\texorpdfstring{Key Features}{Key Features}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1318}
\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{3}{|X[-1]}|}
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Feature   }&\cellcolor{\tableheadbgcolor}\textbf{ Description   }&\cellcolor{\tableheadbgcolor}\textbf{ Source    }\\\cline{1-3}
\endfirsthead
\hline
\endfoot
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Feature   }&\cellcolor{\tableheadbgcolor}\textbf{ Description   }&\cellcolor{\tableheadbgcolor}\textbf{ Source    }\\\cline{1-3}
\endhead
{\bfseries{3D Network Visualization}}   &An interactive 3D graph of asset relationships, rendered using Plotly.   &\mbox{[}README.\+md\+:52\mbox{]}(), \mbox{[}\doxylink{frontend_2README_8md}{frontend/\+README.\+md}\+:43\mbox{]}()    \\\cline{1-3}
{\bfseries{Cross-\/\+Asset Analysis}}   &Automatically discovers and models relationships between different asset classes.   &\mbox{[}README.\+md\+:53\mbox{]}()    \\\cline{1-3}
{\bfseries{Regulatory Integration}}   &Models the impact of corporate events and SEC filings on the asset network.   &\mbox{[}README.\+md\+:54\mbox{]}()    \\\cline{1-3}
{\bfseries{Real-\/time Metrics}}   &Provides a dashboard with network statistics and relationship strength analysis.   &\mbox{[}README.\+md\+:55\mbox{]}(), \mbox{[}\doxylink{frontend_2README_8md}{frontend/\+README.\+md}\+:44\mbox{]}()   \\\cline{1-3}
\end{longtabu}


Sources\+: \mbox{[}README.\+md\+:51-\/55\mbox{]}(), \mbox{[}\doxylink{frontend_2README_8md}{frontend/\+README.\+md}\+:42-\/45\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1319}{}\doxysubsubsection{\texorpdfstring{Data Model Vision}{Data Model Vision}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1319}
The project\textquotesingle{}s data model is centered around three core entities\+: Assets, Relationships, and Regulatory Events. The vision is to create a rich, interconnected graph where these entities influence each other.

The diagram below illustrates the conceptual data model.


\begin{DoxyCode}{0}
\DoxyCodeLine{erDiagram}
\DoxyCodeLine{\ \ \ \ ASSET\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ string\ id\ PK}
\DoxyCodeLine{\ \ \ \ \ \ \ \ string\ symbol}
\DoxyCodeLine{\ \ \ \ \ \ \ \ string\ name}
\DoxyCodeLine{\ \ \ \ \ \ \ \ AssetClass\ asset\_class}
\DoxyCodeLine{\ \ \ \ \ \ \ \ string\ sector}
\DoxyCodeLine{\ \ \ \ \ \ \ \ float\ price}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ RELATIONSHIP\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ string\ source\_id\ FK}
\DoxyCodeLine{\ \ \ \ \ \ \ \ string\ target\_id\ FK}
\DoxyCodeLine{\ \ \ \ \ \ \ \ string\ type}
\DoxyCodeLine{\ \ \ \ \ \ \ \ float\ strength}
\DoxyCodeLine{\ \ \ \ \ \ \ \ bool\ is\_bidirectional}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ REGULATORY\_EVENT\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ string\ id\ PK}
\DoxyCodeLine{\ \ \ \ \ \ \ \ string\ name}
\DoxyCodeLine{\ \ \ \ \ \ \ \ RegulatoryActivity\ activity\_type}
\DoxyCodeLine{\ \ \ \ \ \ \ \ date\ event\_date}
\DoxyCodeLine{\ \ \ \ \ \ \ \ float\ impact\_score}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ ASSET\ ||-\/-\/o\{\ RELATIONSHIP\ :\ "{}has"{}}
\DoxyCodeLine{\ \ \ \ REGULATORY\_EVENT\ ||-\/-\/|\{\ ASSET\ :\ "{}impacts"{}}

\end{DoxyCode}


{\itshape Sources\+: \mbox{[}README.\+md\+:73-\/80\mbox{]}(), \mbox{[}\doxylink{financial__models_8py}{src/models/financial\+\_\+models.\+py} (inferred from project structure)\mbox{]}()}\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1320}{}\doxysubsection{\texorpdfstring{Supported Asset Ecosystem}{Supported Asset Ecosystem}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1320}
The project aims to cover all major financial asset classes to provide a holistic view of the market.

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{3}{|X[-1]}|}
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Asset Class   }&\cellcolor{\tableheadbgcolor}\textbf{ Key Attributes   }&\cellcolor{\tableheadbgcolor}\textbf{ Source    }\\\cline{1-3}
\endfirsthead
\hline
\endfoot
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Asset Class   }&\cellcolor{\tableheadbgcolor}\textbf{ Key Attributes   }&\cellcolor{\tableheadbgcolor}\textbf{ Source    }\\\cline{1-3}
\endhead
{\bfseries{Equities}}   &P/E Ratios, Dividend Yields, EPS, Sector   &\mbox{[}README.\+md\+:58\mbox{]}()    \\\cline{1-3}
{\bfseries{Fixed Income (Bonds)}}   &Yield, Duration, Credit Ratings   &\mbox{[}README.\+md\+:59\mbox{]}()    \\\cline{1-3}
{\bfseries{Commodities}}   &Futures and Spot Prices, Contract Specifications   &\mbox{[}README.\+md\+:60\mbox{]}()    \\\cline{1-3}
{\bfseries{Currencies}}   &FX Pairs, Exchange Rates, Monetary Policy Links   &\mbox{[}README.\+md\+:61\mbox{]}()    \\\cline{1-3}
{\bfseries{Regulatory Events}}   &Earnings, SEC Filings, M\&A Activities, Impact Score   &\mbox{[}README.\+md\+:62\mbox{]}()   \\\cline{1-3}
\end{longtabu}


{\itshape Sources\+: \mbox{[}README.\+md\+:57-\/62\mbox{]}(), \mbox{[}\doxylink{AI__RULES_8md}{AI\+\_\+\+RULES.\+md}\+:16\mbox{]}()}\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1321}{}\doxysubsubsection{\texorpdfstring{Relationship Discovery}{Relationship Discovery}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1321}
A core goal is the automatic discovery of relationships between assets. This logic is encapsulated in the {\ttfamily \doxylink{classAssetRelationshipGraph}{Asset\+Relationship\+Graph}} and is designed to be extensible.

The following diagram shows the process of building relationships.


\begin{DoxyCode}{0}
\DoxyCodeLine{flowchart\ TD}
\DoxyCodeLine{\ \ \ \ A[Start:\ Ingest\ Assets]\ -\/-\/>\ B\{Iterate\ All\ Asset\ Pairs\};}
\DoxyCodeLine{\ \ \ \ B\ -\/-\/>\ C\{Find\ Relationship\ Type\};}
\DoxyCodeLine{\ \ \ \ C\ -\/-\/>\ D\{Is\ Relationship\ Found?\};}
\DoxyCodeLine{\ \ \ \ D\ -\/-\/\ Yes\ -\/-\/>\ E[Create\ Relationship\ Edge];}
\DoxyCodeLine{\ \ \ \ E\ -\/-\/>\ F[Calculate\ Strength\ (0.0-\/1.0)];}
\DoxyCodeLine{\ \ \ \ F\ -\/-\/>\ G[Add\ to\ Graph];}
\DoxyCodeLine{\ \ \ \ G\ -\/-\/>\ B;}
\DoxyCodeLine{\ \ \ \ D\ -\/-\/\ No\ -\/-\/>\ B;}
\DoxyCodeLine{\ \ \ \ B\ -\/-\/\ Done\ -\/-\/>\ H[Graph\ Complete];}

\end{DoxyCode}


{\itshape Sources\+: \mbox{[}\doxylink{ARCHITECTURE_8md}{ARCHITECTURE.\+md}\+:104-\/122\mbox{]}(), \mbox{[}README.\+md\+:95\mbox{]}()}

The system identifies several types of relationships\+:

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{3}{|X[-1]}|}
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Relationship Type   }&\cellcolor{\tableheadbgcolor}\textbf{ Description   }&\cellcolor{\tableheadbgcolor}\textbf{ Source    }\\\cline{1-3}
\endfirsthead
\hline
\endfoot
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Relationship Type   }&\cellcolor{\tableheadbgcolor}\textbf{ Description   }&\cellcolor{\tableheadbgcolor}\textbf{ Source    }\\\cline{1-3}
\endhead
{\bfseries{Sector Affinity}}   &Assets belonging to the same industry sector.   &\mbox{[}README.\+md\+:65\mbox{]}()    \\\cline{1-3}
{\bfseries{Corporate Links}}   &Bonds issued by a publicly traded company (equity).   &\mbox{[}README.\+md\+:66\mbox{]}()    \\\cline{1-3}
{\bfseries{Commodity Exposure}}   &Equity companies whose business is tied to commodity prices.   &\mbox{[}README.\+md\+:67\mbox{]}()    \\\cline{1-3}
{\bfseries{Currency Risk}}   &FX exposure for assets not denominated in USD.   &\mbox{[}README.\+md\+:68\mbox{]}()    \\\cline{1-3}
{\bfseries{Income Comparison}}   &Comparing stock dividends against bond yields.   &\mbox{[}README.\+md\+:69\mbox{]}()    \\\cline{1-3}
{\bfseries{Event Impact}}   &A single regulatory event affecting multiple assets.   &\mbox{[}README.\+md\+:70\mbox{]}()   \\\cline{1-3}
\end{longtabu}


{\itshape Sources\+: \mbox{[}README.\+md\+:64-\/70\mbox{]}()}\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1322}{}\doxysubsection{\texorpdfstring{Technical Vision and Architecture}{Technical Vision and Architecture}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1322}
The project\textquotesingle{}s technical vision emphasizes modernity, scalability, and developer experience. This is achieved through a dual-\/frontend architecture and a clear separation of concerns.

This diagram shows the high-\/level system architecture.


\begin{DoxyCode}{0}
\DoxyCodeLine{graph\ TD}
\DoxyCodeLine{\ \ \ \ subgraph\ User\_Interfaces}
\DoxyCodeLine{\ \ \ \ \ \ \ \ UI\_Next[Next.js\ UI\ on\ Port\ 3000]}
\DoxyCodeLine{\ \ \ \ \ \ \ \ UI\_Gradio[Gradio\ UI\ on\ Port\ 7860]}
\DoxyCodeLine{\ \ \ \ end}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ subgraph\ API\_Layer}
\DoxyCodeLine{\ \ \ \ \ \ \ \ API[FastAPI\ Backend\ on\ Port\ 8000]}
\DoxyCodeLine{\ \ \ \ end}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ subgraph\ Core\_Logic}
\DoxyCodeLine{\ \ \ \ \ \ \ \ GraphEngine[AssetRelationshipGraph]}
\DoxyCodeLine{\ \ \ \ \ \ \ \ Viz[Visualization\ Logic]}
\DoxyCodeLine{\ \ \ \ \ \ \ \ DataModels[Financial\ Data\ Models]}
\DoxyCodeLine{\ \ \ \ end}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ subgraph\ Data\_Sources}
\DoxyCodeLine{\ \ \ \ \ \ \ \ RealData[Real-\/time\ Data\ Fetcher]}
\DoxyCodeLine{\ \ \ \ \ \ \ \ SampleData[Static\ Sample\ Data]}
\DoxyCodeLine{\ \ \ \ end}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ UI\_Next\ -\/-\/\ REST\ API\ -\/-\/>\ API;}
\DoxyCodeLine{\ \ \ \ API\ -\/-\/\ Function\ Calls\ -\/-\/>\ GraphEngine;}
\DoxyCodeLine{\ \ \ \ UI\_Gradio\ -\/-\/\ Direct\ Function\ Calls\ -\/-\/>\ GraphEngine;}
\DoxyCodeLine{\ \ \ \ GraphEngine\ -\/-\/>\ Viz;}
\DoxyCodeLine{\ \ \ \ GraphEngine\ -\/-\/>\ DataModels;}
\DoxyCodeLine{\ \ \ \ GraphEngine\ -\/-\/>\ RealData;}
\DoxyCodeLine{\ \ \ \ GraphEngine\ -\/-\/>\ SampleData;}

\end{DoxyCode}


{\itshape Sources\+: \mbox{[}\doxylink{ARCHITECTURE_8md}{ARCHITECTURE.\+md}\+:3-\/82\mbox{]}(), \mbox{[}\doxylink{INTEGRATION__SUMMARY_8md}{INTEGRATION\+\_\+\+SUMMARY.\+md}\+:64-\/90\mbox{]}()}\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1323}{}\doxysubsubsection{\texorpdfstring{API-\/\+First Approach}{API-\/\+First Approach}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1323}
The introduction of a Fast\+API backend signifies a move towards an API-\/first design. This decouples the frontend from the backend logic, allowing for more flexible and scalable development.

The sequence diagram below shows a typical data flow for the Next.\+js frontend.


\begin{DoxyCode}{0}
\DoxyCodeLine{sequenceDiagram}
\DoxyCodeLine{\ \ \ \ participant\ User\ as\ "{}User\ Browser"{}}
\DoxyCodeLine{\ \ \ \ participant\ NextApp\ as\ "{}Next.js\ Frontend"{}}
\DoxyCodeLine{\ \ \ \ participant\ FastAPI\ as\ "{}FastAPI\ Backend"{}}
\DoxyCodeLine{\ \ \ \ participant\ GraphEngine\ as\ "{}Core\ Graph\ Logic"{}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ User-\/>>NextApp:\ Load\ page}
\DoxyCodeLine{\ \ \ \ NextApp-\/>>FastAPI:\ GET\ /api/visualization}
\DoxyCodeLine{\ \ \ \ FastAPI-\/>>GraphEngine:\ get\_3d\_visualization\_data()}
\DoxyCodeLine{\ \ \ \ GraphEngine-\/-\/>>FastAPI:\ Return\ \{nodes,\ edges\}}
\DoxyCodeLine{\ \ \ \ FastAPI-\/-\/>>NextApp:\ JSON\ Response}
\DoxyCodeLine{\ \ \ \ NextApp-\/-\/>>User:\ Render\ 3D\ Graph\ with\ Plotly}

\end{DoxyCode}


{\itshape Sources\+: \mbox{[}\doxylink{ARCHITECTURE_8md}{ARCHITECTURE.\+md}\+:85-\/102\mbox{]}(), \mbox{[}\doxylink{INTEGRATION__SUMMARY_8md}{INTEGRATION\+\_\+\+SUMMARY.\+md}\+:20-\/33\mbox{]}()}\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1324}{}\doxysubsection{\texorpdfstring{Development Philosophy and Quality}{Development Philosophy and Quality}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1324}
The project vision includes a strong emphasis on high-\/quality code, robust testing, and a streamlined development workflow. This is supported by a suite of modern development tools and clear contribution guidelines.

{\itshape Sources\+: \mbox{[}\doxylink{CONTRIBUTING_8md}{CONTRIBUTING.\+md}\mbox{]}(), \mbox{[}\doxylink{AUDIT__REPORT_8md}{AUDIT\+\_\+\+REPORT.\+md}\+:10-\/14\mbox{]}()}\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1325}{}\doxysubsubsection{\texorpdfstring{Development Tooling}{Development Tooling}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1325}
\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{3}{|X[-1]}|}
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Tool   }&\cellcolor{\tableheadbgcolor}\textbf{ Purpose   }&\cellcolor{\tableheadbgcolor}\textbf{ Source    }\\\cline{1-3}
\endfirsthead
\hline
\endfoot
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Tool   }&\cellcolor{\tableheadbgcolor}\textbf{ Purpose   }&\cellcolor{\tableheadbgcolor}\textbf{ Source    }\\\cline{1-3}
\endhead
{\ttfamily pytest}   &Backend testing framework.   &\mbox{[}README.\+md\+:102\mbox{]}(), \mbox{[}\doxylink{CONTRIBUTING_8md}{CONTRIBUTING.\+md}\+:129\mbox{]}()    \\\cline{1-3}
{\ttfamily Jest}   &Frontend testing framework.   &\mbox{[}\doxylink{frontend_2README_8md}{frontend/\+README.\+md}\+:30\mbox{]}()    \\\cline{1-3}
{\ttfamily black}, {\ttfamily isort}   &Automatic code formatting for Python.   &\mbox{[}\doxylink{CONTRIBUTING_8md}{CONTRIBUTING.\+md}\+:103\mbox{]}(), \mbox{[}\doxylink{AUDIT__REPORT_8md}{AUDIT\+\_\+\+REPORT.\+md}\+:150\mbox{]}()    \\\cline{1-3}
{\ttfamily flake8}, {\ttfamily pylint}   &Python linting to enforce code style.   &\mbox{[}\doxylink{CONTRIBUTING_8md}{CONTRIBUTING.\+md}\+:106\mbox{]}(), \mbox{[}\doxylink{AUDIT__REPORT_8md}{AUDIT\+\_\+\+REPORT.\+md}\+:149\mbox{]}()    \\\cline{1-3}
{\ttfamily mypy}   &Static type checking for Python.   &\mbox{[}\doxylink{CONTRIBUTING_8md}{CONTRIBUTING.\+md}\+:109\mbox{]}(), \mbox{[}\doxylink{AUDIT__REPORT_8md}{AUDIT\+\_\+\+REPORT.\+md}\+:151\mbox{]}()    \\\cline{1-3}
{\ttfamily pre-\/commit}   &Runs automated quality checks before each commit.   &\mbox{[}\doxylink{CONTRIBUTING_8md}{CONTRIBUTING.\+md}\+:44-\/47\mbox{]}(), \mbox{[}\doxylink{AUDIT__REPORT_8md}{AUDIT\+\_\+\+REPORT.\+md}\+:183-\/191\mbox{]}()    \\\cline{1-3}
{\ttfamily Git\+Hub Actions}   &Continuous Integration (CI) to run checks automatically.   &\mbox{[}\doxylink{AUDIT__REPORT_8md}{AUDIT\+\_\+\+REPORT.\+md}\+:158-\/166\mbox{]}()   \\\cline{1-3}
\end{longtabu}


{\itshape Sources\+: \mbox{[}\doxylink{CONTRIBUTING_8md}{CONTRIBUTING.\+md}\mbox{]}(), \mbox{[}\doxylink{AUDIT__REPORT_8md}{AUDIT\+\_\+\+REPORT.\+md}\mbox{]}(), \mbox{[}README.\+md\mbox{]}()}\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1326}{}\doxysubsubsection{\texorpdfstring{Guiding Principles}{Guiding Principles}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1326}

\begin{DoxyItemize}
\item {\bfseries{Modularity}}\+: Code is organized into small, focused files with a clear separation of concerns ({\ttfamily src/models}, {\ttfamily src/logic}, etc.).
\item {\bfseries{Readability}}\+: Emphasis on clean, well-\/commented code with meaningful names.
\item {\bfseries{Testing}}\+: A high standard for test coverage is expected, with a goal of over 80\%. New features and bug fixes must include tests.
\item {\bfseries{Consistency}}\+: Adherence to defined coding styles (PEP 8, Black) and project conventions.
\item {\bfseries{Documentation}}\+: Public functions and classes require docstrings, and key architectural decisions are documented in Markdown files.
\end{DoxyItemize}

{\itshape Sources\+: \mbox{[}\doxylink{AI__RULES_8md}{AI\+\_\+\+RULES.\+md}\+:43-\/53\mbox{]}(), \mbox{[}\doxylink{CONTRIBUTING_8md}{CONTRIBUTING.\+md}\+:80-\/127\mbox{]}(), \mbox{[}\doxylink{AUDIT__REPORT_8md}{AUDIT\+\_\+\+REPORT.\+md}\+:20-\/40\mbox{]}()}\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1327}{}\doxysubsection{\texorpdfstring{Future Vision and Extensibility}{Future Vision and Extensibility}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1327}
The project is designed to be a foundation for more advanced financial analysis tools. The architectural choices and documented improvement areas point to a clear vision for future growth.\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1328}{}\doxysubsubsection{\texorpdfstring{Potential Future Features}{Potential Future Features}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1328}
\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{3}{|X[-1]}|}
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Feature Area   }&\cellcolor{\tableheadbgcolor}\textbf{ Description   }&\cellcolor{\tableheadbgcolor}\textbf{ Source    }\\\cline{1-3}
\endfirsthead
\hline
\endfoot
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Feature Area   }&\cellcolor{\tableheadbgcolor}\textbf{ Description   }&\cellcolor{\tableheadbgcolor}\textbf{ Source    }\\\cline{1-3}
\endhead
{\bfseries{Data Persistence}}   &Storing asset and relationship data in a database like SQLite or Postgre\+SQL.   &\mbox{[}\doxylink{IMPROVEMENTS_8md}{IMPROVEMENTS.\+md}\+:200-\/207\mbox{]}()    \\\cline{1-3}
{\bfseries{Real-\/time Updates}}   &Using Web\+Sockets to stream live data and automatically refresh visualizations.   &\mbox{[}\doxylink{IMPROVEMENTS_8md}{IMPROVEMENTS.\+md}\+:268-\/273\mbox{]}()    \\\cline{1-3}
{\bfseries{Advanced Analytics}}   &Integrating machine learning for relationship prediction, anomaly detection, and trend analysis.   &\mbox{[}\doxylink{IMPROVEMENTS_8md}{IMPROVEMENTS.\+md}\+:262-\/266\mbox{]}()    \\\cline{1-3}
{\bfseries{Service-\/\+Oriented Architecture}}   &Abstracting logic into a service layer with repositories for better testability and maintenance.   &\mbox{[}\doxylink{IMPROVEMENTS_8md}{IMPROVEMENTS.\+md}\+:194-\/216\mbox{]}()    \\\cline{1-3}
{\bfseries{Enhanced Monitoring}}   &Adding health check endpoints, Prometheus metrics, and structured logging for observability.   &\mbox{[}\doxylink{IMPROVEMENTS_8md}{IMPROVEMENTS.\+md}\+:237-\/259\mbox{]}()   \\\cline{1-3}
\end{longtabu}


{\itshape Sources\+: \mbox{[}\doxylink{IMPROVEMENTS_8md}{IMPROVEMENTS.\+md}\mbox{]}(), \mbox{[}\doxylink{INTEGRATION__SUMMARY_8md}{INTEGRATION\+\_\+\+SUMMARY.\+md}\+:181-\/188\mbox{]}()}\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1329}{}\doxysubsection{\texorpdfstring{Conclusion}{Conclusion}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1329}
The project\textquotesingle{}s goal is to be more than just a visualization tool; it aims to be an extensible, high-\/quality, and modern platform for financial data analysis. The vision combines a powerful analytical engine with a user-\/friendly interface, supported by a robust and scalable technical architecture. By prioritizing clean code, comprehensive testing, and clear documentation, the project is well-\/positioned for future growth and community contribution.

{\itshape Sources\+: \mbox{[}\doxylink{AUDIT__REPORT_8md}{AUDIT\+\_\+\+REPORT.\+md}\+:275-\/281\mbox{]}(), \mbox{[}README.\+md\+:3-\/4\mbox{]}()}\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1330}{}\doxysubsection{\texorpdfstring{System Architecture}{System Architecture}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1330}
\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1331}{}\doxysubsubsection{\texorpdfstring{Architecture Overview}{Architecture Overview}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1331}


{\bfseries{Relevant source files}}\begin{adjustwidth}{1em}{0em}


The following files were used as context for generating this wiki page\+:


\begin{DoxyItemize}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/ARCHITECTURE.md}{\texttt{ ARCHITECTURE.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/README.md}{\texttt{ README.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/docker-compose.yml}{\texttt{ docker-\/compose.\+yml}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/AUDIT_REPORT.md}{\texttt{ AUDIT\+\_\+\+REPORT.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/AI_RULES.md}{\texttt{ AI\+\_\+\+RULES.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/CONTRIBUTING.md}{\texttt{ CONTRIBUTING.\+md}}
\end{DoxyItemize}\end{adjustwidth}
\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1332}{}\doxysection{\texorpdfstring{Architecture Overview}{Architecture Overview}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1332}
This document provides a comprehensive overview of the system architecture for the Financial Asset Relationship Database. The project is designed to visualize the complex interconnections between financial assets across various classes, including equities, bonds, commodities, and currencies. The architecture supports two distinct user interfacesâ€”a modern Next.\+js web application and an original Gradio-\/based demoâ€”both powered by a robust Python backend.

The system is structured into four primary layers\+: a User Interface Layer, an API Layer, a Core Business Logic Layer, and a Data Layer. This separation of concerns allows for modularity and scalability, enabling different frontend experiences to consume the same underlying relationship discovery engine. For more information on deployment and integration, see DEPLOYMENT.md and INTEGRATION\+\_\+\+SUMMARY.md.

Sources\+: \mbox{[}README.\+md\+:3-\/4\mbox{]}(), \mbox{[}\doxylink{ARCHITECTURE_8md}{ARCHITECTURE.\+md}\+:3-\/33\mbox{]}(), \mbox{[}\doxylink{AUDIT__REPORT_8md}{AUDIT\+\_\+\+REPORT.\+md}\+:15-\/17\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1333}{}\doxysubsection{\texorpdfstring{System Architecture}{System Architecture}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1333}
The system is composed of four distinct layers, facilitating a clean separation of concerns between data, logic, and presentation.

This diagram illustrates the high-\/level system architecture, showing the two UI options and their connection to the backend logic.


\begin{DoxyCode}{0}
\DoxyCodeLine{graph\ TD}
\DoxyCodeLine{\ \ \ \ subgraph\ User\_Interface\_Layer}
\DoxyCodeLine{\ \ \ \ \ \ \ \ Gradio\_UI["{}Gradio\ UI\ (Port\ 7860)"{}]}
\DoxyCodeLine{\ \ \ \ \ \ \ \ NextJS\_UI["{}Next.js\ UI\ (Port\ 3000)"{}]}
\DoxyCodeLine{\ \ \ \ end}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ subgraph\ API\_Layer}
\DoxyCodeLine{\ \ \ \ \ \ \ \ FastAPI["{}FastAPI\ Backend\ (Port\ 8000)"{}]}
\DoxyCodeLine{\ \ \ \ end}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ subgraph\ Core\_Business\_Logic\_Layer}
\DoxyCodeLine{\ \ \ \ \ \ \ \ AssetGraph["{}AssetRelationshipGraph\ (src/logic/asset\_graph.py)"{}]}
\DoxyCodeLine{\ \ \ \ \ \ \ \ Visualizations["{}Visualization\ Layer\ (src/visualizations/)"{}]}
\DoxyCodeLine{\ \ \ \ end}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ subgraph\ Data\_Layer}
\DoxyCodeLine{\ \ \ \ \ \ \ \ Models["{}Financial\ Models\ (src/models/financial\_models.py)"{}]}
\DoxyCodeLine{\ \ \ \ \ \ \ \ DataSources["{}Data\ Sources\ (src/data/)"{}]}
\DoxyCodeLine{\ \ \ \ end}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ NextJS\_UI\ -\/-\/\ "{}HTTP\ REST\ API"{}\ -\/-\/>\ FastAPI}
\DoxyCodeLine{\ \ \ \ Gradio\_UI\ -\/-\/\ "{}Direct\ Function\ Calls"{}\ -\/-\/>\ AssetGraph}
\DoxyCodeLine{\ \ \ \ FastAPI\ -\/-\/\ "{}Function\ Calls"{}\ -\/-\/>\ AssetGraph}
\DoxyCodeLine{\ \ \ \ AssetGraph\ -\/-\/>\ Visualizations}
\DoxyCodeLine{\ \ \ \ AssetGraph\ -\/-\/>\ Models}
\DoxyCodeLine{\ \ \ \ AssetGraph\ -\/-\/>\ DataSources}

\end{DoxyCode}


Sources\+: \mbox{[}\doxylink{ARCHITECTURE_8md}{ARCHITECTURE.\+md}\+:5-\/48\mbox{]}(), \mbox{[}README.\+md\+:104-\/118\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1334}{}\doxysubsubsection{\texorpdfstring{Key Components}{Key Components}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1334}
\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{3}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Component   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Source File    }\\\cline{1-3}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Component   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Source File    }\\\cline{1-3}
\endhead
{\ttfamily \doxylink{app_8py}{app.\+py}}   &The main application entry point for the Gradio web interface and its event handlers.   &{\ttfamily README.\+md\+:105}    \\\cline{1-3}
{\ttfamily \doxylink{api_2main_8py}{api/main.\+py}}   &The Fast\+API backend that serves the REST API for the Next.\+js frontend.   &{\ttfamily \doxylink{ARCHITECTURE_8md}{ARCHITECTURE.\+md}\+:20-\/29}    \\\cline{1-3}
{\ttfamily \doxylink{asset__graph_8py}{src/logic/asset\+\_\+graph.\+py}}   &Contains the core graph algorithms and the relationship discovery engine.   &{\ttfamily README.\+md\+:106}    \\\cline{1-3}
{\ttfamily \doxylink{financial__models_8py}{src/models/financial\+\_\+models.\+py}}   &Defines the domain model dataclasses (e.\+g., {\ttfamily Asset}, {\ttfamily Equity}) and enums.   &{\ttfamily README.\+md\+:107}    \\\cline{1-3}
{\ttfamily \doxylink{sample__data_8py}{src/data/sample\+\_\+data.\+py}}   &Responsible for creating the sample dataset used in the application.   &{\ttfamily README.\+md\+:108}    \\\cline{1-3}
{\ttfamily src/visualizations/}   &Contains modules for generating Plotly-\/based charts and 3D graphs.   &{\ttfamily README.\+md\+:109}    \\\cline{1-3}
{\ttfamily src/reports/}   &Includes logic for generating schema and business rules documentation.   &{\ttfamily README.\+md\+:110}   \\\cline{1-3}
\end{longtabu}


Sources\+: \mbox{[}README.\+md\+:104-\/118\mbox{]}(), \mbox{[}\doxylink{CONTRIBUTING_8md}{CONTRIBUTING.\+md}\+:197-\/203\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1335}{}\doxysubsection{\texorpdfstring{Component Interaction Flow}{Component Interaction Flow}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1335}
The system supports two primary interaction flows depending on the user interface being used.\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1336}{}\doxysubsubsection{\texorpdfstring{Next.\+js Frontend Flow}{Next.\+js Frontend Flow}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1336}
The Next.\+js frontend communicates with the backend via a REST API, providing a decoupled and modern web experience.

The following sequence diagram shows a typical user interaction to view the 3D graph from the Next.\+js UI.


\begin{DoxyCode}{0}
\DoxyCodeLine{sequenceDiagram}
\DoxyCodeLine{\ \ \ \ participant\ User\ as\ "{}User"{}}
\DoxyCodeLine{\ \ \ \ participant\ NextJS\ as\ "{}Next.js\ UI\ (Port\ 3000)"{}}
\DoxyCodeLine{\ \ \ \ participant\ FastAPI\ as\ "{}FastAPI\ Backend\ (Port\ 8000)"{}}
\DoxyCodeLine{\ \ \ \ participant\ CoreLogic\ as\ "{}Core\ Logic\ (AssetRelationshipGraph)"{}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ User-\/>>NextJS:\ Clicks\ "{}View\ 3D\ Graph"{}}
\DoxyCodeLine{\ \ \ \ NextJS-\/>>FastAPI:\ GET\ /api/visualization}
\DoxyCodeLine{\ \ \ \ activate\ FastAPI}
\DoxyCodeLine{\ \ \ \ FastAPI-\/>>CoreLogic:\ get\_3d\_visualization\_data()}
\DoxyCodeLine{\ \ \ \ activate\ CoreLogic}
\DoxyCodeLine{\ \ \ \ CoreLogic-\/-\/>>FastAPI:\ \{nodes:\ [...],\ edges:\ [...]\}}
\DoxyCodeLine{\ \ \ \ deactivate\ CoreLogic}
\DoxyCodeLine{\ \ \ \ FastAPI-\/-\/>>NextJS:\ 200\ OK\ (JSON\ Response)}
\DoxyCodeLine{\ \ \ \ deactivate\ FastAPI}
\DoxyCodeLine{\ \ \ \ NextJS-\/>>User:\ Renders\ 3D\ Visualization}

\end{DoxyCode}


Sources\+: \mbox{[}\doxylink{ARCHITECTURE_8md}{ARCHITECTURE.\+md}\+:52-\/71\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1337}{}\doxysubsubsection{\texorpdfstring{Gradio UI Flow}{Gradio UI Flow}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1337}
The Gradio UI, being a Python-\/native framework, interacts directly with the core logic functions without an intermediate API layer.

This sequence diagram illustrates how the Gradio UI refreshes the visualization through direct function calls.


\begin{DoxyCode}{0}
\DoxyCodeLine{sequenceDiagram}
\DoxyCodeLine{\ \ \ \ participant\ User\ as\ "{}User"{}}
\DoxyCodeLine{\ \ \ \ participant\ Gradio\ as\ "{}Gradio\ UI\ (Port\ 7860)"{}}
\DoxyCodeLine{\ \ \ \ participant\ CoreLogic\ as\ "{}Core\ Logic\ (AssetRelationshipGraph)"{}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ User-\/>>Gradio:\ Clicks\ "{}Refresh\ Visualization"{}}
\DoxyCodeLine{\ \ \ \ Gradio-\/>>CoreLogic:\ refresh\_visualization\_outputs()<br/>(Direct\ function\ call)}
\DoxyCodeLine{\ \ \ \ activate\ CoreLogic}
\DoxyCodeLine{\ \ \ \ CoreLogic-\/-\/>>Gradio:\ Plotly\ Figure\ Object}
\DoxyCodeLine{\ \ \ \ deactivate\ CoreLogic}
\DoxyCodeLine{\ \ \ \ Gradio-\/>>User:\ Updates\ Visualization\ in\ UI}

\end{DoxyCode}


Sources\+: \mbox{[}\doxylink{ARCHITECTURE_8md}{ARCHITECTURE.\+md}\+:73-\/89\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1338}{}\doxysubsection{\texorpdfstring{Technology Stack}{Technology Stack}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1338}
The project utilizes a combination of Python for the backend and core logic, and a choice between Python (Gradio) or a Type\+Script/\+React (Next.\+js) stack for the frontend.

Sources\+: \mbox{[}\doxylink{AI__RULES_8md}{AI\+\_\+\+RULES.\+md}\+:5-\/20\mbox{]}(), \mbox{[}\doxylink{ARCHITECTURE_8md}{ARCHITECTURE.\+md}\+:92-\/120\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1339}{}\doxysubsubsection{\texorpdfstring{Backend \& Core Logic}{Backend \& Core Logic}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1339}
\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{2}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Technology   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Role    }\\\cline{1-2}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Technology   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Role    }\\\cline{1-2}
\endhead
{\bfseries{Python 3.\+8+}}   &Foundational programming language for all backend and logic.    \\\cline{1-2}
{\bfseries{Fast\+API}}   &High-\/performance REST API framework for the Next.\+js frontend.    \\\cline{1-2}
{\bfseries{Uvicorn}}   &ASGI server to run the Fast\+API application.    \\\cline{1-2}
{\bfseries{Pydantic}}   &Data validation and settings management.    \\\cline{1-2}
{\bfseries{Num\+Py}}   &High-\/performance numerical operations and graph algorithms.    \\\cline{1-2}
{\bfseries{Pandas}}   &Data manipulation and analysis.    \\\cline{1-2}
{\bfseries{yfinance}}   &Fetching real-\/time and historical financial market data.    \\\cline{1-2}
{\bfseries{dataclasses \& enum}}   &Defining structured data models and enumerations.   \\\cline{1-2}
\end{longtabu}


Sources\+: \mbox{[}\doxylink{AI__RULES_8md}{AI\+\_\+\+RULES.\+md}\+:7-\/20\mbox{]}(), \mbox{[}\doxylink{ARCHITECTURE_8md}{ARCHITECTURE.\+md}\+:109-\/120\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1340}{}\doxysubsubsection{\texorpdfstring{Frontend}{Frontend}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1340}
\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{2}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Technology   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Role    }\\\cline{1-2}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Technology   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Role    }\\\cline{1-2}
\endhead
{\bfseries{Next.\+js 14}}   &React framework for the modern web UI.    \\\cline{1-2}
{\bfseries{React 18}}   &UI component library.    \\\cline{1-2}
{\bfseries{Type\+Script}}   &Type safety for the frontend codebase.    \\\cline{1-2}
{\bfseries{Gradio}}   &Framework for the original Python-\/based interactive UI.    \\\cline{1-2}
{\bfseries{Plotly / Plotly.\+js}}   &Exclusive library for all interactive charts and 3D visualizations.    \\\cline{1-2}
{\bfseries{Axios}}   &HTTP client for the Next.\+js frontend to communicate with the API.    \\\cline{1-2}
{\bfseries{Tailwind CSS}}   &Styling for the Next.\+js frontend.   \\\cline{1-2}
\end{longtabu}


Sources\+: \mbox{[}\doxylink{ARCHITECTURE_8md}{ARCHITECTURE.\+md}\+:94-\/107\mbox{]}(), \mbox{[}\doxylink{AI__RULES_8md}{AI\+\_\+\+RULES.\+md}\+:8\mbox{]}(), \mbox{[}\doxylink{AI__RULES_8md}{AI\+\_\+\+RULES.\+md}\+:13\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1341}{}\doxysubsection{\texorpdfstring{Data Layer}{Data Layer}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1341}
The data layer is responsible for defining the structure of financial assets and sourcing the data.\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1342}{}\doxysubsubsection{\texorpdfstring{Data Models}{Data Models}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1342}
The core data models are defined using Python\textquotesingle{}s {\ttfamily dataclasses} for clarity and type safety. The base {\ttfamily Asset} class is inherited by more specific asset types.

This class diagram shows the inheritance structure of the financial asset models.


\begin{DoxyCode}{0}
\DoxyCodeLine{classDiagram}
\DoxyCodeLine{\ \ \ \ class\ Asset\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +id:\ str}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +symbol:\ str}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +name:\ str}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +asset\_class:\ AssetClass}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +price:\ float}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +currency:\ str}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ class\ Equity\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +sector:\ str}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +pe\_ratio:\ float}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ class\ Bond\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +yield:\ float}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +duration:\ float}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ class\ Commodity\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +contract\_size:\ float}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ class\ Currency\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +country:\ str}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ class\ RegulatoryEvent\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +activity:\ RegulatoryActivity}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +impact\_score:\ float}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ Asset\ <|-\/-\/\ Equity}
\DoxyCodeLine{\ \ \ \ Asset\ <|-\/-\/\ Bond}
\DoxyCodeLine{\ \ \ \ Asset\ <|-\/-\/\ Commodity}
\DoxyCodeLine{\ \ \ \ Asset\ <|-\/-\/\ Currency}

\end{DoxyCode}


Sources\+: \mbox{[}\doxylink{AUDIT__REPORT_8md}{AUDIT\+\_\+\+REPORT.\+md}\+:19-\/22\mbox{]}(), \mbox{[}README.\+md\+:93-\/97\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1343}{}\doxysubsubsection{\texorpdfstring{Data Sources}{Data Sources}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1343}
Data is ingested from two primary sources\+:


\begin{DoxyEnumerate}
\item {\bfseries{Static Sample Data}}\+: A predefined set of assets located in {\ttfamily \doxylink{sample__data_8py}{src/data/sample\+\_\+data.\+py}} for demonstration and testing.
\item {\bfseries{Yahoo Finance}}\+: Real-\/time and historical market data is fetched using the {\ttfamily yfinance} library, as defined in {\ttfamily \doxylink{real__data__fetcher_8py}{src/data/real\+\_\+data\+\_\+fetcher.\+py}}.
\end{DoxyEnumerate}

Sources\+: \mbox{[}\doxylink{ARCHITECTURE_8md}{ARCHITECTURE.\+md}\+:42-\/46\mbox{]}(), \mbox{[}\doxylink{AI__RULES_8md}{AI\+\_\+\+RULES.\+md}\+:14\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1344}{}\doxysubsection{\texorpdfstring{Deployment Architecture}{Deployment Architecture}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1344}
The application is designed for both local development and cloud deployment on Vercel.\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1345}{}\doxysubsubsection{\texorpdfstring{Local Development \& Docker}{Local Development \& Docker}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1345}
For local development, developers can run the Fast\+API backend and Next.\+js frontend as separate processes. Alternatively, Docker provides a containerized environment. The {\ttfamily docker-\/compose.\+yml} file defines the service for running the application.


\begin{DoxyCode}{0}
\DoxyCodeLine{\#\ docker-\/compose.yml}
\DoxyCodeLine{services:}
\DoxyCodeLine{\ \ app:}
\DoxyCodeLine{\ \ \ \ build:\ .}
\DoxyCodeLine{\ \ \ \ ports:}
\DoxyCodeLine{\ \ \ \ \ \ -\/\ "{}7860:7860"{}}
\DoxyCodeLine{\ \ \ \ volumes:}
\DoxyCodeLine{\ \ \ \ \ \ -\/\ .:/app}
\DoxyCodeLine{\ \ \ \ environment:}
\DoxyCodeLine{\ \ \ \ \ \ -\/\ GRADIO\_SERVER\_NAME=0.0.0.0}

\end{DoxyCode}


This configuration builds a Docker image from the local Dockerfile and maps port 7860 for the Gradio application.

Sources\+: \mbox{[}README.\+md\+:65-\/76\mbox{]}(), \mbox{[}docker-\/compose.\+yml\+:1-\/9\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1346}{}\doxysubsubsection{\texorpdfstring{Vercel Deployment}{Vercel Deployment}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1346}
The Next.\+js application is optimized for deployment on Vercel. The frontend is served from Vercel\textquotesingle{}s Edge Network, while the Python backend (Fast\+API) is deployed as a Vercel Serverless Function. This provides auto-\/scaling capabilities and a seamless deployment experience integrated with Git.

This diagram shows the Vercel deployment model.


\begin{DoxyCode}{0}
\DoxyCodeLine{graph\ TD}
\DoxyCodeLine{\ \ \ \ User["{}Internet\ Users"{}]\ -\/-\/>|HTTPS|\ Vercel}
\DoxyCodeLine{\ \ \ \ subgraph\ Vercel\ Platform}
\DoxyCodeLine{\ \ \ \ \ \ \ \ NextJS["{}Next.js\ Frontend\ (Edge\ Network)"{}]}
\DoxyCodeLine{\ \ \ \ \ \ \ \ FastAPI["{}Python\ Backend\ (Serverless\ Function)"{}]}
\DoxyCodeLine{\ \ \ \ \ \ \ \ NextJS\ -\/-\/\ "{}Internal\ Network"{}\ -\/-\/>\ FastAPI}
\DoxyCodeLine{\ \ \ \ end}

\end{DoxyCode}


Sources\+: \mbox{[}\doxylink{ARCHITECTURE_8md}{ARCHITECTURE.\+md}\+:158-\/176\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1347}{}\doxysubsection{\texorpdfstring{Conclusion}{Conclusion}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1347}
The architecture of the Financial Asset Relationship Database is designed to be modular, scalable, and flexible. By separating the core relationship engine from the presentation layer, the system can support multiple user experiences (Gradio and Next.\+js) and is well-\/suited for future expansion. The use of a decoupled API layer for the Next.\+js application follows modern web development best practices, while the direct-\/call mechanism for the Gradio app provides a simpler, Python-\/native alternative. The clear project structure and defined technology stack create a solid foundation for collaborative development and future feature enhancements.

Sources\+: \mbox{[}\doxylink{AUDIT__REPORT_8md}{AUDIT\+\_\+\+REPORT.\+md}\+:410-\/413\mbox{]}(), \mbox{[}\doxylink{ARCHITECTURE_8md}{ARCHITECTURE.\+md}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1348}{}\doxysubsubsection{\texorpdfstring{Backend Architecture}{Backend Architecture}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1348}


{\bfseries{Relevant source files}}\begin{adjustwidth}{1em}{0em}


The following files were used as context for generating this wiki page\+:


\begin{DoxyItemize}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/api/main.py}{\texttt{ api/main.\+py}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/src/logic/asset_graph.py}{\texttt{ src/logic/asset\+\_\+graph.\+py}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/src/models/financial_models.py}{\texttt{ src/models/financial\+\_\+models.\+py}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/app.py}{\texttt{ app.\+py}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/ARCHITECTURE.md}{\texttt{ ARCHITECTURE.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/README.md}{\texttt{ README.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/src/data/real_data_fetcher.py}{\texttt{ src/data/real\+\_\+data\+\_\+fetcher.\+py}}
\end{DoxyItemize}

\end{adjustwidth}
\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1349}{}\doxysection{\texorpdfstring{Backend Architecture}{Backend Architecture}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1349}
The backend architecture of the Financial Asset Relationship Database is designed to support two distinct user interfaces\+: a modern Next.\+js web application and the original Gradio-\/based interactive demo. This is achieved through a dual-\/pathway system where a Fast\+API server provides a RESTful API for the Next.\+js frontend, while the Gradio app interacts directly with the core business logic.

At the heart of the system is the {\ttfamily \doxylink{classAssetRelationshipGraph}{Asset\+Relationship\+Graph}}, a Python class that encapsulates all logic for managing financial assets, discovering their relationships, calculating network metrics, and preparing data for 3D visualization. The data layer is defined by a set of {\ttfamily dataclasses} representing various financial instruments and is populated using either sample data or real-\/time information fetched via the {\ttfamily yfinance} library.

Sources\+: \mbox{[}\doxylink{ARCHITECTURE_8md}{ARCHITECTURE.\+md}\mbox{]}(), \mbox{[}README.\+md\+:80-\/88\mbox{]}(), \mbox{[}\doxylink{api_2main_8py}{api/main.\+py}\mbox{]}(), \mbox{[}\doxylink{app_8py}{app.\+py}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1350}{}\doxysubsection{\texorpdfstring{System Components}{System Components}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1350}
The backend is composed of three primary layers\+: the API Layer, the Core Business Logic Layer, and the Data Layer. This modular design allows different frontends to consume the same underlying functionality.

This diagram illustrates the high-\/level system architecture, showing the two frontend applications and how they interface with the backend components.


\begin{DoxyCode}{0}
\DoxyCodeLine{graph\ TD}
\DoxyCodeLine{\ \ \ \ subgraph\ User\_Interface\_Layer}
\DoxyCodeLine{\ \ \ \ \ \ \ \ A[Next.js\ UI\ on\ Port\ 3000]}
\DoxyCodeLine{\ \ \ \ \ \ \ \ B[Gradio\ UI\ on\ Port\ 7860]}
\DoxyCodeLine{\ \ \ \ end}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ subgraph\ API\_Layer}
\DoxyCodeLine{\ \ \ \ \ \ \ \ C[FastAPI\ Backend\ on\ Port\ 8000]}
\DoxyCodeLine{\ \ \ \ end}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ subgraph\ Core\_Business\_Logic}
\DoxyCodeLine{\ \ \ \ \ \ \ \ D[AssetRelationshipGraph]}
\DoxyCodeLine{\ \ \ \ \ \ \ \ E[Visualization\ Logic]}
\DoxyCodeLine{\ \ \ \ end}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ subgraph\ Data\_Layer}
\DoxyCodeLine{\ \ \ \ \ \ \ \ F[Financial\ Models]}
\DoxyCodeLine{\ \ \ \ \ \ \ \ G[Data\ Fetchers]}
\DoxyCodeLine{\ \ \ \ end}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ A\ -\/-\/\ "{}HTTP\ REST\ API"{}\ -\/-\/>\ C}
\DoxyCodeLine{\ \ \ \ C\ -\/-\/\ "{}Function\ Calls"{}\ -\/-\/>\ D}
\DoxyCodeLine{\ \ \ \ B\ -\/-\/\ "{}Direct\ Function\ Calls"{}\ -\/-\/>\ D}
\DoxyCodeLine{\ \ \ \ D\ -\/-\/\ "{}Uses"{}\ -\/-\/>\ F}
\DoxyCodeLine{\ \ \ \ D\ -\/-\/\ "{}Uses"{}\ -\/-\/>\ G}
\DoxyCodeLine{\ \ \ \ D\ -\/-\/\ "{}Uses"{}\ -\/-\/>\ E}

\end{DoxyCode}


Sources\+: \mbox{[}\doxylink{ARCHITECTURE_8md}{ARCHITECTURE.\+md}\mbox{]}(), \mbox{[}README.\+md\+:19-\/33\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1351}{}\doxysubsection{\texorpdfstring{API Layer (Fast\+API)}{API Layer (Fast\+API)}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1351}
The Fast\+API application, defined in {\ttfamily \doxylink{api_2main_8py}{api/main.\+py}}, serves as the primary interface for the Next.\+js frontend. It exposes a set of RESTful endpoints to query the financial asset graph. A singleton pattern is used to initialize and reuse a single {\ttfamily \doxylink{classAssetRelationshipGraph}{Asset\+Relationship\+Graph}} instance, which is populated with real data on the first request.

Sources\+: \mbox{[}\doxylink{api_2main_8py}{api/main.\+py}\+:34-\/48\mbox{]}(), \mbox{[}\doxylink{INTEGRATION__SUMMARY_8md}{INTEGRATION\+\_\+\+SUMMARY.\+md}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1352}{}\doxysubsubsection{\texorpdfstring{Key Endpoints}{Key Endpoints}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1352}
The API provides endpoints for retrieving assets, relationships, metrics, and visualization data.

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{4}{|X[-1]}|}
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Method   }&\cellcolor{\tableheadbgcolor}\textbf{ Endpoint   }&\cellcolor{\tableheadbgcolor}\textbf{ Description   }&\cellcolor{\tableheadbgcolor}\textbf{ Core Logic Called    }\\\cline{1-4}
\endfirsthead
\hline
\endfoot
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Method   }&\cellcolor{\tableheadbgcolor}\textbf{ Endpoint   }&\cellcolor{\tableheadbgcolor}\textbf{ Description   }&\cellcolor{\tableheadbgcolor}\textbf{ Core Logic Called    }\\\cline{1-4}
\endhead
{\ttfamily GET}   &{\ttfamily /api/health}   &Health check for the service.   &N/A    \\\cline{1-4}
{\ttfamily GET}   &{\ttfamily /api/assets}   &Retrieves a list of all assets, with optional filtering by class and sector.   &{\ttfamily graph.\+assets}    \\\cline{1-4}
{\ttfamily GET}   &{\ttfamily /api/assets/\{asset\+\_\+id\}}   &Fetches detailed information for a single asset.   &{\ttfamily graph.\+get\+\_\+asset\+\_\+by\+\_\+id()}    \\\cline{1-4}
{\ttfamily GET}   &{\ttfamily /api/relationships}   &Returns all relationships in the graph.   &{\ttfamily graph.\+relationships}    \\\cline{1-4}
{\ttfamily GET}   &{\ttfamily /api/metrics}   &Calculates and returns key network metrics.   &{\ttfamily graph.\+calculate\+\_\+metrics()}    \\\cline{1-4}
{\ttfamily GET}   &{\ttfamily /api/visualization}   &Generates node and edge data for 3D visualization.   &{\ttfamily graph.\+get\+\_\+3d\+\_\+visualization\+\_\+data()}    \\\cline{1-4}
{\ttfamily GET}   &{\ttfamily /api/asset-\/classes}   &Lists all available asset classes.   &{\ttfamily graph.\+get\+\_\+all\+\_\+asset\+\_\+classes()}    \\\cline{1-4}
{\ttfamily GET}   &{\ttfamily /api/sectors}   &Lists all unique sectors present in the data.   &{\ttfamily graph.\+get\+\_\+all\+\_\+sectors()}   \\\cline{1-4}
\end{longtabu}


Sources\+: \mbox{[}\doxylink{api_2main_8py}{api/main.\+py}\+:51-\/168\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1353}{}\doxysubsubsection{\texorpdfstring{Request Flow (Next.\+js)}{Request Flow (Next.\+js)}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1353}
This sequence diagram shows a typical request from the Next.\+js frontend to the Fast\+API backend to retrieve visualization data.


\begin{DoxyCode}{0}
\DoxyCodeLine{sequenceDiagram}
\DoxyCodeLine{\ \ \ \ participant\ User\ as\ "{}User\ (Browser)"{}}
\DoxyCodeLine{\ \ \ \ participant\ NextApp\ as\ "{}Next.js\ Frontend"{}}
\DoxyCodeLine{\ \ \ \ participant\ FastAPI\ as\ "{}FastAPI\ Backend"{}}
\DoxyCodeLine{\ \ \ \ participant\ Graph\ as\ "{}AssetRelationshipGraph"{}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ User-\/>>NextApp:\ Load\ 3D\ Visualization\ Page}
\DoxyCodeLine{\ \ \ \ NextApp-\/>>FastAPI:\ GET\ /api/visualization}
\DoxyCodeLine{\ \ \ \ activate\ FastAPI}
\DoxyCodeLine{\ \ \ \ Note\ over\ FastAPI:\ get\_graph()\ singleton\ is\ called}
\DoxyCodeLine{\ \ \ \ FastAPI-\/>>Graph:\ get\_3d\_visualization\_data()}
\DoxyCodeLine{\ \ \ \ activate\ Graph}
\DoxyCodeLine{\ \ \ \ Graph-\/-\/>>FastAPI:\ \{nodes:\ [...],\ edges:\ [...]\}}
\DoxyCodeLine{\ \ \ \ deactivate\ Graph}
\DoxyCodeLine{\ \ \ \ FastAPI-\/-\/>>NextApp:\ 200\ OK\ with\ JSON\ data}
\DoxyCodeLine{\ \ \ \ deactivate\ FastAPI}
\DoxyCodeLine{\ \ \ \ NextApp-\/>>User:\ Render\ Plotly.js\ graph}

\end{DoxyCode}


Sources\+: \mbox{[}\doxylink{api_2main_8py}{api/main.\+py}\+:133-\/140\mbox{]}(), \mbox{[}\doxylink{ARCHITECTURE_8md}{ARCHITECTURE.\+md}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1354}{}\doxysubsection{\texorpdfstring{Core Business Logic Layer}{Core Business Logic Layer}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1354}
The core logic is centralized in the {\ttfamily \doxylink{classAssetRelationshipGraph}{Asset\+Relationship\+Graph}} class. This class is responsible for the in-\/memory representation and manipulation of the financial asset network.

Sources\+: \mbox{[}\doxylink{asset__graph_8py}{src/logic/asset\+\_\+graph.\+py}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1355}{}\doxysubsubsection{\texorpdfstring{{\ttfamily Asset\+Relationship\+Graph} Class}{{\ttfamily Asset\+Relationship\+Graph} Class}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1355}
This class manages the lifecycle of assets and their relationships.


\begin{DoxyCode}{0}
\DoxyCodeLine{classDiagram}
\DoxyCodeLine{\ \ \ \ class\ AssetRelationshipGraph\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +List\string~Asset\string~\ assets}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +List\string~Relationship\string~\ relationships}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +add\_asset(asset:\ Asset)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +add\_relationship(source\_id,\ target\_id,\ type,\ strength)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +build\_relationships()}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +calculate\_metrics()\ :\ dict}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +get\_3d\_visualization\_data()\ :\ dict}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +get\_asset\_by\_id(asset\_id)\ :\ Asset}
\DoxyCodeLine{\ \ \ \ \ \ \ \ -\/\_find\_relationships(asset1,\ asset2)}
\DoxyCodeLine{\ \ \ \ \}}

\end{DoxyCode}


Sources\+: \mbox{[}\doxylink{asset__graph_8py}{src/logic/asset\+\_\+graph.\+py}\+:21-\/255\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1356}{}\doxysubsubsection{\texorpdfstring{Relationship Discovery}{Relationship Discovery}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1356}
The {\ttfamily build\+\_\+relationships()} method orchestrates the discovery of connections between assets. It iterates through all unique pairs of assets and calls {\ttfamily \+\_\+find\+\_\+relationships()} to identify potential links based on predefined rules.

This flowchart shows the logic for building relationships.


\begin{DoxyCode}{0}
\DoxyCodeLine{flowchart\ TD}
\DoxyCodeLine{\ \ \ \ A[Start\ build\_relationships]\ -\/-\/>\ B\{Iterate\ through\ all\ unique\ pairs\ of\ assets\ (asset1,\ asset2)\}}
\DoxyCodeLine{\ \ \ \ B\ -\/-\/>\ C[Call\ \_find\_relationships(asset1,\ asset2)]}
\DoxyCodeLine{\ \ \ \ C\ -\/-\/>\ D\{Relationship\ found?\}}
\DoxyCodeLine{\ \ \ \ D\ -\/-\/\ Yes\ -\/-\/>\ E[Create\ Relationship\ object]}
\DoxyCodeLine{\ \ \ \ E\ -\/-\/>\ F[Add\ to\ graph.relationships]}
\DoxyCodeLine{\ \ \ \ F\ -\/-\/>\ B}
\DoxyCodeLine{\ \ \ \ D\ -\/-\/\ No\ -\/-\/>\ B}
\DoxyCodeLine{\ \ \ \ B\ -\/-\/\ Loop\ finished\ -\/-\/>\ G[End]}

\end{DoxyCode}


Sources\+: \mbox{[}\doxylink{asset__graph_8py}{src/logic/asset\+\_\+graph.\+py}\+:100-\/120\mbox{]}()

The {\ttfamily \+\_\+find\+\_\+relationships} method contains the specific business rules, such as identifying assets in the same sector or linking a corporate bond to its parent equity.

Sources\+: \mbox{[}\doxylink{asset__graph_8py}{src/logic/asset\+\_\+graph.\+py}\+:122-\/171\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1357}{}\doxysubsection{\texorpdfstring{Data Layer}{Data Layer}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1357}
The data layer consists of data models that define the structure of financial assets and the logic for fetching data from external or internal sources.\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1358}{}\doxysubsubsection{\texorpdfstring{Data Models}{Data Models}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1358}
The project uses Python\textquotesingle{}s {\ttfamily dataclasses} to create strongly-\/typed and structured data models for all financial assets. A base {\ttfamily Asset} class defines common attributes, and specific classes like {\ttfamily Equity}, {\ttfamily Bond}, and {\ttfamily Commodity} inherit from it.

Sources\+: \mbox{[}\doxylink{financial__models_8py}{src/models/financial\+\_\+models.\+py}\mbox{]}()

This diagram shows the inheritance hierarchy of the financial asset models.


\begin{DoxyCode}{0}
\DoxyCodeLine{classDiagram}
\DoxyCodeLine{\ \ \ \ direction\ LR}
\DoxyCodeLine{\ \ \ \ class\ Asset\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ <<dataclass>>}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +id:\ str}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +symbol:\ str}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +name:\ str}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +asset\_class:\ AssetClass}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +price:\ float}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +currency:\ str}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ class\ Equity\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ <<dataclass>>}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +sector:\ str}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +market\_cap:\ float}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ class\ Bond\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ <<dataclass>>}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +issuer:\ str}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +credit\_rating:\ str}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ class\ Commodity\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ <<dataclass>>}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +unit:\ str}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ class\ Currency\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ <<dataclass>>}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +country:\ str}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ Asset\ <|-\/-\/\ Equity}
\DoxyCodeLine{\ \ \ \ Asset\ <|-\/-\/\ Bond}
\DoxyCodeLine{\ \ \ \ Asset\ <|-\/-\/\ Commodity}
\DoxyCodeLine{\ \ \ \ Asset\ <|-\/-\/\ Currency}

\end{DoxyCode}


Sources\+: \mbox{[}\doxylink{financial__models_8py}{src/models/financial\+\_\+models.\+py}\+:25-\/108\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1359}{}\doxysubsubsection{\texorpdfstring{Data Fetching}{Data Fetching}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1359}
Data is primarily sourced from {\ttfamily yfinance} for real-\/time and historical market data, as specified in the project\textquotesingle{}s rules. The function {\ttfamily populate\+\_\+graph\+\_\+with\+\_\+real\+\_\+data} in {\ttfamily \doxylink{real__data__fetcher_8py}{src/data/real\+\_\+data\+\_\+fetcher.\+py}} is responsible for fetching data for a predefined list of tickers and populating the graph.

Sources\+: \mbox{[}\doxylink{real__data__fetcher_8py}{src/data/real\+\_\+data\+\_\+fetcher.\+py}\+:15-\/115\mbox{]}(), \mbox{[}\doxylink{AI__RULES_8md}{AI\+\_\+\+RULES.\+md}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1360}{}\doxysubsection{\texorpdfstring{Gradio Integration}{Gradio Integration}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1360}
The original {\ttfamily \doxylink{app_8py}{app.\+py}} provides a Gradio-\/based user interface. Unlike the Next.\+js application, it does not use the Fast\+API layer. Instead, its event handlers make direct synchronous calls to the {\ttfamily \doxylink{classAssetRelationshipGraph}{Asset\+Relationship\+Graph}} instance and associated visualization functions.

This architecture demonstrates a simpler, direct-\/coupling approach suitable for rapid prototyping and interactive demos.

This diagram shows the direct interaction between the Gradio UI and the core logic.


\begin{DoxyCode}{0}
\DoxyCodeLine{graph\ TD}
\DoxyCodeLine{\ \ \ \ GradioUI[Gradio\ UI\ Components]\ -\/-\/\ "{}User\ Interaction"{}\ -\/-\/>\ EventHandler[Gradio\ Event\ Handler\ in\ app.py]}
\DoxyCodeLine{\ \ \ \ EventHandler\ -\/-\/\ "{}Direct\ Function\ Call"{}\ -\/-\/>\ CoreLogic[AssetRelationshipGraph]}
\DoxyCodeLine{\ \ \ \ CoreLogic\ -\/-\/\ "{}Returns\ Data/Figure"{}\ -\/-\/>\ EventHandler}
\DoxyCodeLine{\ \ \ \ EventHandler\ -\/-\/\ "{}Updates\ UI"{}\ -\/-\/>\ GradioUI}

\end{DoxyCode}


Sources\+: \mbox{[}\doxylink{app_8py}{app.\+py}\+:117-\/158\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1361}{}\doxysubsection{\texorpdfstring{Summary}{Summary}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1361}
The backend architecture is flexible, supporting both a modern, decoupled frontend via a Fast\+API REST API and a legacy, tightly-\/coupled Gradio UI through direct function calls. The system is centered around the {\ttfamily \doxylink{classAssetRelationshipGraph}{Asset\+Relationship\+Graph}} class, which serves as the single source of truth for business logic, ensuring consistency across both interfaces. The use of {\ttfamily dataclasses} for modeling and a dedicated data-\/fetching layer creates a clear separation of concerns, making the system modular and extensible.

Sources\+: \mbox{[}\doxylink{ARCHITECTURE_8md}{ARCHITECTURE.\+md}\mbox{]}(), \mbox{[}README.\+md\mbox{]}(), \mbox{[}\doxylink{api_2main_8py}{api/main.\+py}\mbox{]}(), \mbox{[}\doxylink{app_8py}{app.\+py}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1362}{}\doxysubsubsection{\texorpdfstring{Frontend Architecture}{Frontend Architecture}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1362}


{\bfseries{Relevant source files}}\begin{adjustwidth}{1em}{0em}


The following files were used as context for generating this wiki page\+:


\begin{DoxyItemize}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/frontend/app/page.tsx}{\texttt{ frontend/app/page.\+tsx}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/frontend/app/lib/api.ts}{\texttt{ frontend/app/lib/api.\+ts}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/frontend/next.config.js}{\texttt{ frontend/next.\+config.\+js}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/frontend/README.md}{\texttt{ frontend/\+README.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/frontend/package.json}{\texttt{ frontend/package.\+json}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/INTEGRATION_SUMMARY.md}{\texttt{ INTEGRATION\+\_\+\+SUMMARY.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/ARCHITECTURE.md}{\texttt{ ARCHITECTURE.\+md}}
\end{DoxyItemize}\end{adjustwidth}
\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1363}{}\doxysection{\texorpdfstring{Frontend Architecture}{Frontend Architecture}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1363}
The frontend for the Financial Asset Relationship Database is a modern web application built with Next.\+js and React. Its primary purpose is to provide an interactive user interface for visualizing and exploring complex financial asset relationships. The application fetches data from a separate Fast\+API backend and presents it through three main features\+: an interactive 3D network graph, a dashboard of key metrics, and a filterable table of assets.

The architecture emphasizes a clear separation of concerns, with dedicated components for each feature, a centralized API client for backend communication, and type safety enforced by Type\+Script. This design makes the application responsive, scalable, and maintainable. For more information on the overall system, see the "{}"{} "{}\+System Architecture"{}.

Sources\+: \mbox{[}\doxylink{frontend_2README_8md}{frontend/\+README.\+md}\mbox{]}(), \mbox{[}\doxylink{INTEGRATION__SUMMARY_8md}{INTEGRATION\+\_\+\+SUMMARY.\+md}\mbox{]}(), \mbox{[}\doxylink{ARCHITECTURE_8md}{ARCHITECTURE.\+md}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1364}{}\doxysubsection{\texorpdfstring{Technology Stack}{Technology Stack}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1364}
The frontend leverages a modern technology stack centered around the React ecosystem. The core technologies and their roles are detailed below.

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{3}{|X[-1]}|}
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Technology   }&\cellcolor{\tableheadbgcolor}\textbf{ Version   }&\cellcolor{\tableheadbgcolor}\textbf{ Role    }\\\cline{1-3}
\endfirsthead
\hline
\endfoot
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Technology   }&\cellcolor{\tableheadbgcolor}\textbf{ Version   }&\cellcolor{\tableheadbgcolor}\textbf{ Role    }\\\cline{1-3}
\endhead
{\bfseries{Next.\+js}}   &{\ttfamily 14.\+2.\+35}   &The React framework for server-\/side rendering, routing, and building the application.    \\\cline{1-3}
{\bfseries{React}}   &{\ttfamily \texorpdfstring{$^\wedge$}{\string^}18.2.\+0}   &The UI library for building components.    \\\cline{1-3}
{\bfseries{Type\+Script}}   &{\ttfamily \texorpdfstring{$^\wedge$}{\string^}5.3.\+0}   &Provides static typing for the entire codebase, ensuring type safety.    \\\cline{1-3}
{\bfseries{Tailwind CSS}}   &{\ttfamily \texorpdfstring{$^\wedge$}{\string^}3.3.\+0}   &A utility-\/first CSS framework for styling the application.    \\\cline{1-3}
{\bfseries{Plotly.\+js}}   &{\ttfamily \texorpdfstring{$^\wedge$}{\string^}2.27.\+0}   &The core library for creating the interactive 3D network visualization.    \\\cline{1-3}
{\bfseries{react-\/plotly.\+js}}   &{\ttfamily \texorpdfstring{$^\wedge$}{\string^}2.6.\+0}   &A React wrapper for Plotly.\+js, integrating it into the component model.    \\\cline{1-3}
{\bfseries{Recharts}}   &{\ttfamily \texorpdfstring{$^\wedge$}{\string^}2.10.\+0}   &A composable charting library used for the metrics dashboard.    \\\cline{1-3}
{\bfseries{Axios}}   &{\ttfamily \texorpdfstring{$^\wedge$}{\string^}1.13.\+2}   &A promise-\/based HTTP client for communicating with the backend REST API.    \\\cline{1-3}
{\bfseries{Jest}}   &{\ttfamily \texorpdfstring{$^\wedge$}{\string^}29.7.\+0}   &The testing framework used for unit and component tests.    \\\cline{1-3}
{\bfseries{React Testing Library}}   &{\ttfamily \texorpdfstring{$^\wedge$}{\string^}14.1.\+2}   &Provides utilities for testing React components in a user-\/centric way.   \\\cline{1-3}
\end{longtabu}


Sources\+: \mbox{[}frontend/package.\+json\mbox{]}(), \mbox{[}\doxylink{frontend_2README_8md}{frontend/\+README.\+md}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1365}{}\doxysubsection{\texorpdfstring{Project Structure}{Project Structure}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1365}
The frontend project is organized into a standard Next.\+js App Router structure. This layout separates concerns, making the codebase easy to navigate and maintain.


\begin{DoxyCode}{0}
\DoxyCodeLine{frontend/}
\DoxyCodeLine{â”œâ”€â”€\ app/}
\DoxyCodeLine{â”‚\ \ \ â”œâ”€â”€\ components/\ \ \ \ \ \ \#\ React\ components}
\DoxyCodeLine{â”‚\ \ \ â”‚\ \ \ â”œâ”€â”€\ AssetList.tsx}
\DoxyCodeLine{â”‚\ \ \ â”‚\ \ \ â”œâ”€â”€\ MetricsDashboard.tsx}
\DoxyCodeLine{â”‚\ \ \ â”‚\ \ \ â””â”€â”€\ NetworkVisualization.tsx}
\DoxyCodeLine{â”‚\ \ \ â”œâ”€â”€\ lib/\ \ \ \ \ \ \ \ \ \ \ \ \#\ Utility\ libraries}
\DoxyCodeLine{â”‚\ \ \ â”‚\ \ \ â”œâ”€â”€\ api.ts\ \ \ \ \ \ \#\ API\ client}
\DoxyCodeLine{â”‚\ \ \ â”‚\ \ \ â””â”€â”€\ index.ts\ \ \ \ \#\ Barrel\ exports}
\DoxyCodeLine{â”‚\ \ \ â”œâ”€â”€\ types/\ \ \ \ \ \ \ \ \ \ \#\ TypeScript\ type\ definitions}
\DoxyCodeLine{â”‚\ \ \ â”‚\ \ \ â””â”€â”€\ api.ts}
\DoxyCodeLine{â”‚\ \ \ â”œâ”€â”€\ globals.css\ \ \ \ \ \#\ Global\ styles}
\DoxyCodeLine{â”‚\ \ \ â”œâ”€â”€\ layout.tsx\ \ \ \ \ \ \#\ Root\ layout}
\DoxyCodeLine{â”‚\ \ \ â””â”€â”€\ page.tsx\ \ \ \ \ \ \ \ \#\ Main\ page}
\DoxyCodeLine{â”œâ”€â”€\ public/\ \ \ \ \ \ \ \ \ \ \ \ \ \#\ Static\ assets}
\DoxyCodeLine{â”œâ”€â”€\ next.config.js\ \ \ \ \ \ \#\ Next.js\ configuration}
\DoxyCodeLine{â”œâ”€â”€\ package.json\ \ \ \ \ \ \ \ \#\ Dependencies\ and\ scripts}
\DoxyCodeLine{â”œâ”€â”€\ tsconfig.json\ \ \ \ \ \ \ \#\ TypeScript\ configuration}
\DoxyCodeLine{â””â”€â”€\ tailwind.config.js\ \ \#\ Tailwind\ CSS\ configuration}

\end{DoxyCode}


{\itshape Source\+: \mbox{[}\doxylink{frontend_2README_8md}{frontend/\+README.\+md}\mbox{]}()}


\begin{DoxyItemize}
\item {\bfseries{{\ttfamily app/}}}\+: The core of the application, following the Next.\+js App Router convention.
\begin{DoxyItemize}
\item {\bfseries{{\ttfamily components/}}}\+: Contains reusable React components that form the building blocks of the UI.
\item {\bfseries{{\ttfamily lib/}}}\+: Houses utility functions, with {\ttfamily api.\+ts} being the most critical for backend communication.
\item {\bfseries{{\ttfamily types/}}}\+: Defines Type\+Script interfaces for data structures, particularly for API responses.
\item {\bfseries{{\ttfamily page.\+tsx}}}\+: The main entry point and page component, which orchestrates the layout and data fetching for the different tabs.
\end{DoxyItemize}
\item {\bfseries{{\ttfamily public/}}}\+: Stores static assets like images and fonts.
\item {\bfseries{{\ttfamily next.\+config.\+js}}}\+: Configuration file for the Next.\+js framework.
\item {\bfseries{{\ttfamily package.\+json}}}\+: Defines project metadata, dependencies, and scripts.
\end{DoxyItemize}

Sources\+: \mbox{[}\doxylink{frontend_2README_8md}{frontend/\+README.\+md}\mbox{]}(), \mbox{[}\doxylink{INTEGRATION__SUMMARY_8md}{INTEGRATION\+\_\+\+SUMMARY.\+md}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1366}{}\doxysubsection{\texorpdfstring{Core Components}{Core Components}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1366}
The UI is built from a set of modular React components, each responsible for a specific feature. The main page ({\ttfamily page.\+tsx}) uses a tabbed interface to switch between these components.


\begin{DoxyItemize}
\item {\bfseries{{\ttfamily Network\+Visualization.\+tsx}}}\+: Renders the interactive 3D network graph using {\ttfamily react-\/plotly.\+js}. It takes node and edge data as props and configures the 3D scene, camera, and layout.
\item {\bfseries{{\ttfamily Metrics\+Dashboard.\+tsx}}}\+: Displays key network statistics and analytics, such as total assets, relationships, and network density. It uses {\ttfamily Recharts} to render charts like the asset class distribution.
\item {\bfseries{{\ttfamily Asset\+List.\+tsx}}}\+: Presents a filterable and searchable table of all financial assets. It allows users to filter assets by class and sector.
\end{DoxyItemize}

These components are managed by the main {\ttfamily Home\+Page} component in {\ttfamily app/page.\+tsx}, which handles data fetching and passes the required data down as props.

Sources\+: \mbox{[}frontend/app/page.\+tsx\mbox{]}(), \mbox{[}\doxylink{INTEGRATION__SUMMARY_8md}{INTEGRATION\+\_\+\+SUMMARY.\+md}\mbox{]}(), \mbox{[}\doxylink{frontend_2README_8md}{frontend/\+README.\+md}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1367}{}\doxysubsection{\texorpdfstring{Data Flow and API Communication}{Data Flow and API Communication}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1367}
The frontend is decoupled from the backend and communicates exclusively through a REST API. All API logic is encapsulated within the API client module.\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1368}{}\doxysubsubsection{\texorpdfstring{API Client ({\ttfamily lib/api.\+ts})}{API Client ({\ttfamily lib/api.\+ts})}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1368}
This module uses {\ttfamily axios} to create a pre-\/configured client for making HTTP requests to the backend. The base URL is determined by the {\ttfamily NEXT\+\_\+\+PUBLIC\+\_\+\+API\+\_\+\+URL} environment variable.

The following diagram illustrates the data fetching sequence when the application loads.


\begin{DoxyCode}{0}
\DoxyCodeLine{sequenceDiagram}
\DoxyCodeLine{\ \ \ \ participant\ User}
\DoxyCodeLine{\ \ \ \ participant\ Page\ as\ "{}HomePage\ (page.tsx)"{}}
\DoxyCodeLine{\ \ \ \ participant\ APIClient\ as\ "{}API\ Client\ (api.ts)"{}}
\DoxyCodeLine{\ \ \ \ participant\ Backend\ as\ "{}FastAPI\ Backend"{}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ User-\/>>Page:\ Loads\ application}
\DoxyCodeLine{\ \ \ \ activate\ Page}
\DoxyCodeLine{\ \ \ \ Page-\/>>APIClient:\ Calls\ getVisualizationData(),\ getMetrics(),\ getAssets()}
\DoxyCodeLine{\ \ \ \ activate\ APIClient}
\DoxyCodeLine{\ \ \ \ Note\ over\ Page,Backend:\ Parallel\ data\ fetching\ on\ mount}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ APIClient-\/>>Backend:\ GET\ /api/visualization}
\DoxyCodeLine{\ \ \ \ APIClient-\/>>Backend:\ GET\ /api/metrics}
\DoxyCodeLine{\ \ \ \ APIClient-\/>>Backend:\ GET\ /api/assets}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ Backend-\/-\/>>APIClient:\ \{\ nodes:\ [...],\ edges:\ [...]\ \}}
\DoxyCodeLine{\ \ \ \ Backend-\/-\/>>APIClient:\ \{\ total\_assets:\ ...,\ ...\ \}}
\DoxyCodeLine{\ \ \ \ Backend-\/-\/>>APIClient:\ [\ \{\ id:\ ...,\ symbol:\ ...\ \},\ ...\ ]}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ deactivate\ Backend}
\DoxyCodeLine{\ \ \ \ APIClient-\/-\/>>Page:\ Returns\ fetched\ data}
\DoxyCodeLine{\ \ \ \ deactivate\ APIClient}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ Page-\/>>Page:\ Sets\ data\ in\ state\ (e.g.,\ setVizData)}
\DoxyCodeLine{\ \ \ \ Page-\/-\/>>User:\ Renders\ UI\ with\ data}
\DoxyCodeLine{\ \ \ \ deactivate\ Page}

\end{DoxyCode}


This diagram shows the initial parallel data fetching when the main page component mounts. {\itshape Sources\+: \mbox{[}frontend/app/page.\+tsx\mbox{]}(), \mbox{[}frontend/app/lib/api.\+ts\mbox{]}(), \mbox{[}\doxylink{ARCHITECTURE_8md}{ARCHITECTURE.\+md}\mbox{]}()}\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1369}{}\doxysubsubsection{\texorpdfstring{Key API Functions}{Key API Functions}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1369}
The {\ttfamily api.\+ts} module exposes several functions to interact with the backend endpoints.

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{4}{|X[-1]}|}
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Function Name   }&\cellcolor{\tableheadbgcolor}\textbf{ HTTP Method   }&\cellcolor{\tableheadbgcolor}\textbf{ Endpoint   }&\cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-4}
\endfirsthead
\hline
\endfoot
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Function Name   }&\cellcolor{\tableheadbgcolor}\textbf{ HTTP Method   }&\cellcolor{\tableheadbgcolor}\textbf{ Endpoint   }&\cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-4}
\endhead
{\ttfamily health\+Check}   &{\ttfamily GET}   &{\ttfamily /api/health}   &Checks the health of the backend API.    \\\cline{1-4}
{\ttfamily get\+Assets}   &{\ttfamily GET}   &{\ttfamily /api/assets}   &Fetches a list of all assets, with optional filtering by class or sector.    \\\cline{1-4}
{\ttfamily get\+Asset\+Detail}   &{\ttfamily GET}   &{\ttfamily /api/assets/\{id\}}   &Retrieves details for a single asset.    \\\cline{1-4}
{\ttfamily get\+All\+Relationships}   &{\ttfamily GET}   &{\ttfamily /api/relationships}   &Fetches all relationships in the graph.    \\\cline{1-4}
{\ttfamily get\+Metrics}   &{\ttfamily GET}   &{\ttfamily /api/metrics}   &Retrieves network-\/wide metrics.    \\\cline{1-4}
{\ttfamily get\+Visualization\+Data}   &{\ttfamily GET}   &{\ttfamily /api/visualization}   &Fetches the node and edge data required for the 3D graph.    \\\cline{1-4}
{\ttfamily get\+Asset\+Classes}   &{\ttfamily GET}   &{\ttfamily /api/asset-\/classes}   &Gets a list of all available asset classes.    \\\cline{1-4}
{\ttfamily get\+Sectors}   &{\ttfamily GET}   &{\ttfamily /api/sectors}   &Gets a list of all available industry sectors.   \\\cline{1-4}
\end{longtabu}


Sources\+: \mbox{[}frontend/app/lib/api.\+ts\mbox{]}(), \mbox{[}\doxylink{INTEGRATION__SUMMARY_8md}{INTEGRATION\+\_\+\+SUMMARY.\+md}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1370}{}\doxysubsection{\texorpdfstring{State Management}{State Management}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1370}
State management within the frontend is handled primarily by React hooks ({\ttfamily use\+State}, {\ttfamily use\+Effect}) inside the {\ttfamily Home\+Page} component ({\ttfamily app/page.\+tsx}). There is no external state management library like Redux or Zustand.

The main page component manages several state variables\+:


\begin{DoxyItemize}
\item Data for each component ({\ttfamily viz\+Data}, {\ttfamily metrics}, {\ttfamily assets}).
\item Loading status ({\ttfamily loading}).
\item Error status ({\ttfamily error}).
\item The currently active tab.
\end{DoxyItemize}

The following flowchart illustrates the state transitions during the initial data load.


\begin{DoxyCode}{0}
\DoxyCodeLine{flowchart\ TD}
\DoxyCodeLine{\ \ \ \ A[Component\ Mount]\ -\/-\/>\ B\{Set\ loading\ =\ true\};}
\DoxyCodeLine{\ \ \ \ B\ -\/-\/>\ C[Fetch\ Data\ from\ API];}
\DoxyCodeLine{\ \ \ \ C\ -\/-\/>\ D\{API\ Call\ Successful?\};}
\DoxyCodeLine{\ \ \ \ D\ -\/-\/\ Yes\ -\/-\/>\ E[Set\ data\ in\ state];}
\DoxyCodeLine{\ \ \ \ E\ -\/-\/>\ F[Set\ loading\ =\ false];}
\DoxyCodeLine{\ \ \ \ D\ -\/-\/\ No\ -\/-\/>\ G[Set\ error\ message];}
\DoxyCodeLine{\ \ \ \ G\ -\/-\/>\ F;}

\end{DoxyCode}


This diagram shows the simple loading, success, and error state flow managed within the main page component. {\itshape Source\+: \mbox{[}frontend/app/page.\+tsx\mbox{]}()}\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1371}{}\doxysubsection{\texorpdfstring{Configuration and Scripts}{Configuration and Scripts}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1371}
Project configuration and build scripts are managed through standard Next.\+js and Node.\+js files.\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1372}{}\doxysubsubsection{\texorpdfstring{Environment Variables}{Environment Variables}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1372}
The frontend requires a single environment variable to be set in a {\ttfamily .env.\+local} file to connect to the backend API.


\begin{DoxyItemize}
\item {\ttfamily NEXT\+\_\+\+PUBLIC\+\_\+\+API\+\_\+\+URL}\+: The base URL for the Fast\+API backend (e.\+g., {\ttfamily \href{http://localhost:8000}{\texttt{ http\+://localhost\+:8000}}}).
\end{DoxyItemize}

Sources\+: \mbox{[}\doxylink{frontend_2README_8md}{frontend/\+README.\+md}\mbox{]}(), \mbox{[}\doxylink{QUICK__START_8md}{QUICK\+\_\+\+START.\+md}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1373}{}\doxysubsubsection{\texorpdfstring{{\ttfamily package.\+json} Scripts}{{\ttfamily package.\+json} Scripts}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1373}
The {\ttfamily package.\+json} file defines scripts for development, building, and testing.

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{3}{|X[-1]}|}
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Script   }&\cellcolor{\tableheadbgcolor}\textbf{ Command   }&\cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-3}
\endfirsthead
\hline
\endfoot
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Script   }&\cellcolor{\tableheadbgcolor}\textbf{ Command   }&\cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-3}
\endhead
{\ttfamily dev}   &{\ttfamily next dev}   &Starts the Next.\+js development server.    \\\cline{1-3}
{\ttfamily build}   &{\ttfamily next build}   &Creates a production-\/optimized build of the application.    \\\cline{1-3}
{\ttfamily start}   &{\ttfamily next start}   &Starts the production server after a build.    \\\cline{1-3}
{\ttfamily lint}   &{\ttfamily next lint}   &Runs ESLint to find and fix problems in the code.    \\\cline{1-3}
{\ttfamily test}   &{\ttfamily jest -\/-\/silent}   &Runs the Jest test suite in silent mode.    \\\cline{1-3}
{\ttfamily test\+:coverage}   &{\ttfamily jest -\/-\/coverage -\/-\/silent}   &Runs tests and generates a code coverage report.   \\\cline{1-3}
\end{longtabu}


Source\+: \mbox{[}frontend/package.\+json\+:5-\/12\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1374}{}\doxysubsection{\texorpdfstring{Testing}{Testing}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1374}
The project is configured for testing using Jest and React Testing Library. The {\ttfamily package.\+json} includes scripts to run tests, generate coverage reports, and run in watch mode. The testing setup is configured in {\ttfamily jest.\+config.\+js} and {\ttfamily jest.\+setup.\+js} (not included in context, but implied by {\ttfamily package.\+json} and {\ttfamily \doxylink{TESTING__GUIDE_8md}{TESTING\+\_\+\+GUIDE.\+md}}). Tests cover components, API utilities, and user interactions.

Sources\+: \mbox{[}frontend/package.\+json\mbox{]}(), \mbox{[}\doxylink{TESTING__GUIDE_8md}{TESTING\+\_\+\+GUIDE.\+md}\mbox{]}(), \mbox{[}README.\+md\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1375}{}\doxysubsubsection{\texorpdfstring{Financial Data Models}{Financial Data Models}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1375}


{\bfseries{Relevant source files}}\begin{adjustwidth}{1em}{0em}


The following files were used as context for generating this wiki page\+:


\begin{DoxyItemize}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/src/models/financial_models.py}{\texttt{ src/models/financial\+\_\+models.\+py}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/AI_RULES.md}{\texttt{ AI\+\_\+\+RULES.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/AUDIT_REPORT.md}{\texttt{ AUDIT\+\_\+\+REPORT.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/README.md}{\texttt{ README.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/ARCHITECTURE.md}{\texttt{ ARCHITECTURE.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/IMPROVEMENTS.md}{\texttt{ IMPROVEMENTS.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/CONTRIBUTING.md}{\texttt{ CONTRIBUTING.\+md}}
\end{DoxyItemize}

\end{adjustwidth}
\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1376}{}\doxysection{\texorpdfstring{Financial Data Models}{Financial Data Models}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1376}
The financial data models are the structural foundation of the Financial Asset Relationship Database. They define the core entities, their attributes, and their relationships, ensuring data integrity, type safety, and a clear, extensible domain model. These models are implemented as Python {\ttfamily dataclasses}, providing a structured and maintainable way to represent complex financial instruments and events.

Sources\+: \mbox{[}\doxylink{AI__RULES_8md}{AI\+\_\+\+RULES.\+md}\mbox{]}(), \mbox{[}\doxylink{AUDIT__REPORT_8md}{AUDIT\+\_\+\+REPORT.\+md}\mbox{]}(), \mbox{[}\doxylink{financial__models_8py}{src/models/financial\+\_\+models.\+py}\mbox{]}()

The models are located in the {\ttfamily src/models/} directory and are a key component of the Data Layer, feeding into the Core Business Logic Layer where relationships are processed and visualizations are generated.

Sources\+: \mbox{[}\doxylink{ARCHITECTURE_8md}{ARCHITECTURE.\+md}\mbox{]}(), \mbox{[}\doxylink{CONTRIBUTING_8md}{CONTRIBUTING.\+md}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1377}{}\doxysubsection{\texorpdfstring{Core Concepts}{Core Concepts}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1377}
\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1378}{}\doxysubsubsection{\texorpdfstring{Dataclasses and Enums}{Dataclasses and Enums}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1378}
The project exclusively uses Python\textquotesingle{}s built-\/in {\ttfamily dataclasses} and {\ttfamily enum} modules for data modeling. This approach ensures type safety, clarity, and maintainability without introducing heavy external dependencies for data definition.


\begin{DoxyItemize}
\item {\bfseries{{\ttfamily dataclasses}}}\+: Used to define all structured data objects like {\ttfamily Asset}, {\ttfamily Equity}, and {\ttfamily Bond}.
\item {\bfseries{{\ttfamily enum}}}\+: Used for fixed sets of choices, such as {\ttfamily Asset\+Class} and {\ttfamily Regulatory\+Activity}.
\end{DoxyItemize}

Sources\+: \mbox{[}\doxylink{AI__RULES_8md}{AI\+\_\+\+RULES.\+md}\mbox{]}(), \mbox{[}\doxylink{AUDIT__REPORT_8md}{AUDIT\+\_\+\+REPORT.\+md}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1379}{}\doxysubsubsection{\texorpdfstring{Inheritance Model}{Inheritance Model}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1379}
The system employs a clear inheritance hierarchy, with a base {\ttfamily Asset} class defining common properties. Specific asset types like {\ttfamily Equity}, {\ttfamily Bond}, {\ttfamily Commodity}, and {\ttfamily Currency} inherit from this base class and add their own unique attributes. This promotes code reuse and a consistent structure across all asset types.

Sources\+: \mbox{[}\doxylink{AUDIT__REPORT_8md}{AUDIT\+\_\+\+REPORT.\+md}\mbox{]}(), \mbox{[}\doxylink{financial__models_8py}{src/models/financial\+\_\+models.\+py}\mbox{]}()

This diagram illustrates the inheritance structure of the financial asset models.


\begin{DoxyCode}{0}
\DoxyCodeLine{classDiagram}
\DoxyCodeLine{\ \ \ \ direction\ LR}
\DoxyCodeLine{\ \ \ \ class\ Asset\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +str\ id}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +str\ symbol}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +str\ name}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +AssetClass\ asset\_class}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +str\ currency}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +float\ price}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +str\ sector}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +dict\ additional\_fields}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ class\ Equity\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +float\ pe\_ratio}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +float\ dividend\_yield}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +float\ eps}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ class\ Bond\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +float\ yield\_to\_maturity}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +float\ duration}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +str\ credit\_rating}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ class\ Commodity\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +str\ contract\_size}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +str\ unit\_of\_measure}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ class\ Currency\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +str\ country}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ Asset\ <|-\/-\/\ Equity}
\DoxyCodeLine{\ \ \ \ Asset\ <|-\/-\/\ Bond}
\DoxyCodeLine{\ \ \ \ Asset\ <|-\/-\/\ Commodity}
\DoxyCodeLine{\ \ \ \ Asset\ <|-\/-\/\ Currency}

\end{DoxyCode}


Sources\+: \mbox{[}\doxylink{financial__models_8py}{src/models/financial\+\_\+models.\+py}\mbox{]}(), \mbox{[}\doxylink{AUDIT__REPORT_8md}{AUDIT\+\_\+\+REPORT.\+md}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1380}{}\doxysubsection{\texorpdfstring{Data Model Schema}{Data Model Schema}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1380}
\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1381}{}\doxysubsubsection{\texorpdfstring{Enumerations}{Enumerations}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1381}
Enumerations are used to standardize categorical data within the models.\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1382}{}\doxysubsubsubsection{\texorpdfstring{Asset\+Class}{Asset\+Class}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1382}
Defines the supported types of financial assets.

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{2}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Member   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-2}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Member   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-2}
\endhead
{\ttfamily EQUITY}   &Represents stocks.    \\\cline{1-2}
{\ttfamily BOND}   &Represents fixed income.    \\\cline{1-2}
{\ttfamily COMMODITY}   &Represents commodities.    \\\cline{1-2}
{\ttfamily CURRENCY}   &Represents foreign exchange.    \\\cline{1-2}
{\ttfamily DERIVATIVE}   &Represents derivatives.   \\\cline{1-2}
\end{longtabu}


Sources\+: \mbox{[}\doxylink{financial__models_8py}{src/models/financial\+\_\+models.\+py}\mbox{]}(), \mbox{[}README.\+md\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1383}{}\doxysubsubsubsection{\texorpdfstring{Regulatory\+Activity}{Regulatory\+Activity}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1383}
Defines the types of regulatory or corporate events.

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{2}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Member   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-2}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Member   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-2}
\endhead
{\ttfamily EARNINGS}   &Corporate earnings announcement.    \\\cline{1-2}
{\ttfamily SEC\+\_\+\+FILING}   &Filing with the Securities and Exchange Commission.    \\\cline{1-2}
{\ttfamily MERGER\+\_\+\+ACQUISITION}   &Merger or acquisition activity.   \\\cline{1-2}
\end{longtabu}


Sources\+: \mbox{[}\doxylink{financial__models_8py}{src/models/financial\+\_\+models.\+py}\mbox{]}(), \mbox{[}README.\+md\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1384}{}\doxysubsubsection{\texorpdfstring{Core Data Models}{Core Data Models}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1384}
\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1385}{}\doxysubsubsubsection{\texorpdfstring{Asset (Base Class)}{Asset (Base Class)}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1385}
The {\ttfamily Asset} class is the abstract base for all financial instruments in the system.

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{3}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Field   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Type   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-3}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Field   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Type   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-3}
\endhead
{\ttfamily id}   &{\ttfamily str}   &Unique identifier for the asset.    \\\cline{1-3}
{\ttfamily symbol}   &{\ttfamily str}   &Ticker symbol or unique code.    \\\cline{1-3}
{\ttfamily name}   &{\ttfamily str}   &Full name of the asset.    \\\cline{1-3}
{\ttfamily asset\+\_\+class}   &{\ttfamily Asset\+Class}   &The type of the asset (e.\+g., EQUITY, BOND).    \\\cline{1-3}
{\ttfamily currency}   &{\ttfamily str}   &The currency of the asset\textquotesingle{}s price (ISO 4217 code).    \\\cline{1-3}
{\ttfamily price}   &{\ttfamily float}   &The current market price.    \\\cline{1-3}
{\ttfamily sector}   &{\ttfamily str} (Optional)   &Industry sector the asset belongs to.    \\\cline{1-3}
{\ttfamily additional\+\_\+fields}   &{\ttfamily dict} (Optional)   &A dictionary for any extra, non-\/standard data.   \\\cline{1-3}
\end{longtabu}


Sources\+: \mbox{[}\doxylink{financial__models_8py}{src/models/financial\+\_\+models.\+py}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1386}{}\doxysubsubsubsection{\texorpdfstring{Equity}{Equity}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1386}
Inherits from {\ttfamily Asset} and adds fields specific to stocks.

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{3}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Field   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Type   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-3}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Field   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Type   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-3}
\endhead
{\ttfamily pe\+\_\+ratio}   &{\ttfamily float}   &Price-\/to-\/\+Earnings ratio.    \\\cline{1-3}
{\ttfamily dividend\+\_\+yield}   &{\ttfamily float}   &Annual dividend per share as a percentage of the share\textquotesingle{}s price.    \\\cline{1-3}
{\ttfamily eps}   &{\ttfamily float}   &Earnings Per Share.   \\\cline{1-3}
\end{longtabu}


Sources\+: \mbox{[}\doxylink{financial__models_8py}{src/models/financial\+\_\+models.\+py}\mbox{]}(), \mbox{[}README.\+md\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1387}{}\doxysubsubsubsection{\texorpdfstring{Bond}{Bond}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1387}
Inherits from {\ttfamily Asset} and adds fields specific to fixed-\/income securities.

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{3}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Field   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Type   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-3}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Field   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Type   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-3}
\endhead
{\ttfamily yield\+\_\+to\+\_\+maturity}   &{\ttfamily float}   &The total return anticipated on a bond if held until it matures.    \\\cline{1-3}
{\ttfamily duration}   &{\ttfamily float}   &A measure of the bond\textquotesingle{}s price sensitivity to interest rate changes.    \\\cline{1-3}
{\ttfamily credit\+\_\+rating}   &{\ttfamily str}   &A rating of the bond issuer\textquotesingle{}s creditworthiness.   \\\cline{1-3}
\end{longtabu}


Sources\+: \mbox{[}\doxylink{financial__models_8py}{src/models/financial\+\_\+models.\+py}\mbox{]}(), \mbox{[}README.\+md\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1388}{}\doxysubsubsubsection{\texorpdfstring{Commodity}{Commodity}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1388}
Inherits from {\ttfamily Asset} and adds fields for commodities.

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{3}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Field   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Type   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-3}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Field   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Type   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-3}
\endhead
{\ttfamily contract\+\_\+size}   &{\ttfamily str}   &The amount of the commodity in one contract.    \\\cline{1-3}
{\ttfamily unit\+\_\+of\+\_\+measure}   &{\ttfamily str}   &The unit for the contract size (e.\+g., barrels, bushels).   \\\cline{1-3}
\end{longtabu}


Sources\+: \mbox{[}\doxylink{financial__models_8py}{src/models/financial\+\_\+models.\+py}\mbox{]}(), \mbox{[}README.\+md\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1389}{}\doxysubsubsubsection{\texorpdfstring{Currency}{Currency}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1389}
Inherits from {\ttfamily Asset} and adds fields for currencies.

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{3}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Field   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Type   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-3}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Field   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Type   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-3}
\endhead
{\ttfamily country}   &{\ttfamily str}   &The primary country associated with the currency.   \\\cline{1-3}
\end{longtabu}


Sources\+: \mbox{[}\doxylink{financial__models_8py}{src/models/financial\+\_\+models.\+py}\mbox{]}(), \mbox{[}README.\+md\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1390}{}\doxysubsubsubsection{\texorpdfstring{Regulatory\+Event}{Regulatory\+Event}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1390}
Represents a corporate or regulatory event that can impact assets.

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{3}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Field   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Type   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-3}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Field   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Type   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-3}
\endhead
{\ttfamily id}   &{\ttfamily str}   &Unique identifier for the event.    \\\cline{1-3}
{\ttfamily event\+\_\+type}   &{\ttfamily Regulatory\+Activity}   &The type of event (e.\+g., EARNINGS).    \\\cline{1-3}
{\ttfamily date}   &{\ttfamily str}   &The date of the event (ISO 8601 format).    \\\cline{1-3}
{\ttfamily description}   &{\ttfamily str}   &A description of the event.    \\\cline{1-3}
{\ttfamily impact\+\_\+score}   &{\ttfamily float}   &A score from -\/1.\+0 to 1.\+0 indicating the event\textquotesingle{}s impact.    \\\cline{1-3}
{\ttfamily related\+\_\+assets}   &{\ttfamily list\mbox{[}str\mbox{]}}   &A list of asset IDs affected by this event.   \\\cline{1-3}
\end{longtabu}


Sources\+: \mbox{[}\doxylink{financial__models_8py}{src/models/financial\+\_\+models.\+py}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1391}{}\doxysubsubsubsection{\texorpdfstring{Asset\+Relationship}{Asset\+Relationship}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1391}
Defines a connection between two assets.

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{3}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Field   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Type   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-3}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Field   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Type   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-3}
\endhead
{\ttfamily source}   &{\ttfamily str}   &The ID of the source asset.    \\\cline{1-3}
{\ttfamily target}   &{\ttfamily str}   &The ID of the target asset.    \\\cline{1-3}
{\ttfamily type}   &{\ttfamily str}   &The nature of the relationship (e.\+g., {\ttfamily same\+\_\+sector}).    \\\cline{1-3}
{\ttfamily strength}   &{\ttfamily float}   &The strength of the relationship, normalized from 0.\+0 to 1.\+0.    \\\cline{1-3}
{\ttfamily is\+\_\+bidirectional}   &{\ttfamily bool}   &Whether the relationship is symmetric.   \\\cline{1-3}
\end{longtabu}


Sources\+: \mbox{[}\doxylink{financial__models_8py}{src/models/financial\+\_\+models.\+py}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1392}{}\doxysubsubsection{\texorpdfstring{Entity Relationship Diagram}{Entity Relationship Diagram}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1392}
This diagram shows the relationships between the main data entities. An {\ttfamily Asset\+Relationship} connects two {\ttfamily Asset} entities, and a {\ttfamily Regulatory\+Event} can be linked to multiple {\ttfamily Asset} entities.


\begin{DoxyCode}{0}
\DoxyCodeLine{erDiagram}
\DoxyCodeLine{\ \ \ \ ASSET\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ string\ id\ PK}
\DoxyCodeLine{\ \ \ \ \ \ \ \ string\ symbol}
\DoxyCodeLine{\ \ \ \ \ \ \ \ string\ name}
\DoxyCodeLine{\ \ \ \ \ \ \ \ AssetClass\ asset\_class}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ ASSET\_RELATIONSHIP\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ string\ source\_id\ FK}
\DoxyCodeLine{\ \ \ \ \ \ \ \ string\ target\_id\ FK}
\DoxyCodeLine{\ \ \ \ \ \ \ \ string\ type}
\DoxyCodeLine{\ \ \ \ \ \ \ \ float\ strength}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ REGULATORY\_EVENT\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ string\ id\ PK}
\DoxyCodeLine{\ \ \ \ \ \ \ \ RegulatoryActivity\ event\_type}
\DoxyCodeLine{\ \ \ \ \ \ \ \ string\ date}
\DoxyCodeLine{\ \ \ \ \ \ \ \ float\ impact\_score}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ ASSET\ ||-\/-\/o\{\ ASSET\_RELATIONSHIP\ :\ "{}has\ source"{}}
\DoxyCodeLine{\ \ \ \ ASSET\ ||-\/-\/o\{\ ASSET\_RELATIONSHIP\ :\ "{}has\ target"{}}
\DoxyCodeLine{\ \ \ \ ASSET\ \}o-\/-\/o\{\ REGULATORY\_EVENT\ :\ "{}is\ affected\ by"{}}

\end{DoxyCode}


Sources\+: \mbox{[}\doxylink{financial__models_8py}{src/models/financial\+\_\+models.\+py}\mbox{]}(), \mbox{[}README.\+md\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1393}{}\doxysubsection{\texorpdfstring{Data Validation}{Data Validation}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1393}
Data integrity is enforced through validation logic within the {\ttfamily \+\_\+\+\_\+post\+\_\+init\+\_\+\+\_\+} method of the dataclasses. This ensures that all created objects adhere to predefined business rules.

Key validation rules include\+:


\begin{DoxyItemize}
\item Asset {\ttfamily price} must be non-\/negative.
\item {\ttfamily currency} codes must be 3-\/letter ISO format strings.
\item {\ttfamily Regulatory\+Event} {\ttfamily impact\+\_\+score} must be within the range of -\/1.\+0 to 1.\+0.
\item {\ttfamily Regulatory\+Event} {\ttfamily date} must be in ISO 8601 format.
\end{DoxyItemize}

Sources\+: \mbox{[}\doxylink{AUDIT__REPORT_8md}{AUDIT\+\_\+\+REPORT.\+md}\mbox{]}(), \mbox{[}\doxylink{IMPROVEMENTS_8md}{IMPROVEMENTS.\+md}\mbox{]}(), \mbox{[}\doxylink{financial__models_8py}{src/models/financial\+\_\+models.\+py}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1394}{}\doxysubsection{\texorpdfstring{Conclusion}{Conclusion}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1394}
The financial data models provide a robust and well-\/structured schema for the application\textquotesingle{}s core data. By leveraging Python\textquotesingle{}s native {\ttfamily dataclasses} and a clear inheritance structure, the models are both easy to understand and simple to extend. The built-\/in validation ensures a high level of data quality, which is critical for the accuracy of the relationship analysis and visualizations that form the core of the project.\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1395}{}\doxysubsection{\texorpdfstring{Core Features}{Core Features}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1395}
\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1396}{}\doxysubsubsection{\texorpdfstring{Feature\+: 3D Network Visualization}{Feature\+: 3D Network Visualization}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1396}


{\bfseries{Relevant source files}}\begin{adjustwidth}{1em}{0em}


The following files were used as context for generating this wiki page\+:


\begin{DoxyItemize}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/src/visualizations/graph_visuals.py}{\texttt{ src/visualizations/graph\+\_\+visuals.\+py}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/src/visualizations/graph_2d_visuals.py}{\texttt{ src/visualizations/graph\+\_\+2d\+\_\+visuals.\+py}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/README.md}{\texttt{ README.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/ARCHITECTURE.md}{\texttt{ ARCHITECTURE.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/INTEGRATION_SUMMARY.md}{\texttt{ INTEGRATION\+\_\+\+SUMMARY.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/frontend/app/components/NetworkVisualization.tsx}{\texttt{ frontend/app/components/\+Network\+Visualization.\+tsx}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/frontend/__tests__/components/NetworkVisualization.test.tsx}{\texttt{ frontend/\texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}tests\texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}/components/\+Network\+Visualization.test.\+tsx}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/frontend/__tests__/test-utils.test.ts}{\texttt{ frontend/\texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}tests\texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}/test-\/utils.test.\+ts}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/api/main.py}{\texttt{ api/main.\+py}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/src/logic/asset_graph.py}{\texttt{ src/logic/asset\+\_\+graph.\+py}}
\end{DoxyItemize}

\end{adjustwidth}
\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1397}{}\doxysection{\texorpdfstring{Feature\+: 3D Network Visualization}{Feature\+: 3D Network Visualization}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1397}
The 3D Network Visualization is the core feature of the Financial Asset Relationship Database, providing an interactive 3D graph to explore the interconnectedness of financial assets. It supports various asset classes, including Equities, Bonds, Commodities, and Currencies, and models the relationships between them. This visualization is available through both the original Gradio UI and the newer Next.\+js web application.

The system is designed to automatically discover relationships and display them in a deterministic 3D layout, ensuring a consistent and analyzable view of the asset network. The visualization is powered by Plotly on both the Python backend and the React frontend.

Sources\+: \mbox{[}README.\+md\mbox{]}(), \mbox{[}\doxylink{ARCHITECTURE_8md}{ARCHITECTURE.\+md}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1398}{}\doxysubsection{\texorpdfstring{Architecture and Data Flow}{Architecture and Data Flow}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1398}
The 3D visualization feature spans the full stack, from the backend data logic to the frontend rendering component. The modern implementation uses a Next.\+js frontend communicating with a Fast\+API backend via a REST API.

The diagram below illustrates the data flow for the Next.\+js application to render the 3D graph.


\begin{DoxyCode}{0}
\DoxyCodeLine{sequenceDiagram}
\DoxyCodeLine{\ \ \ \ participant\ User\ as\ "{}User\ Browser"{}}
\DoxyCodeLine{\ \ \ \ participant\ NextJS\ as\ "{}Next.js\ Frontend\ (Port\ 3000)"{}}
\DoxyCodeLine{\ \ \ \ participant\ FastAPI\ as\ "{}FastAPI\ Backend\ (Port\ 8000)"{}}
\DoxyCodeLine{\ \ \ \ participant\ CoreLogic\ as\ "{}Python\ Core\ Logic"{}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ User-\/>>NextJS:\ Loads\ main\ page}
\DoxyCodeLine{\ \ \ \ NextJS-\/>>FastAPI:\ GET\ /api/visualization}
\DoxyCodeLine{\ \ \ \ Note\ right\ of\ NextJS:\ API\ call\ made\ from\ NetworkVisualization.tsx}
\DoxyCodeLine{\ \ \ \ FastAPI-\/>>CoreLogic:\ get\_3d\_visualization\_data()}
\DoxyCodeLine{\ \ \ \ Note\ right\ of\ FastAPI:\ Calls\ method\ on\ AssetRelationshipGraph\ instance}
\DoxyCodeLine{\ \ \ \ CoreLogic-\/-\/>>FastAPI:\ Returns\ \{nodes:\ [...],\ edges:\ [...]\}}
\DoxyCodeLine{\ \ \ \ Note\ right\ of\ CoreLogic:\ Data\ includes\ 3D\ positions\ and\ colors}
\DoxyCodeLine{\ \ \ \ FastAPI-\/-\/>>NextJS:\ JSON\ Response\ with\ visualization\ data}
\DoxyCodeLine{\ \ \ \ NextJS-\/-\/>>User:\ Renders\ interactive\ 3D\ graph\ using\ Plotly.js}

\end{DoxyCode}


This sequence shows the clear separation of concerns\+: the frontend handles rendering, the backend provides a dedicated API endpoint, and the core logic is responsible for generating the visualization data structure.

Sources\+: \mbox{[}\doxylink{ARCHITECTURE_8md}{ARCHITECTURE.\+md}\mbox{]}(), \mbox{[}\doxylink{INTEGRATION__SUMMARY_8md}{INTEGRATION\+\_\+\+SUMMARY.\+md}\mbox{]}(), \mbox{[}frontend/app/components/\+Network\+Visualization.\+tsx\mbox{]}(), \mbox{[}\doxylink{api_2main_8py}{api/main.\+py}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1399}{}\doxysubsection{\texorpdfstring{Backend Implementation}{Backend Implementation}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1399}
The backend is responsible for creating the data structure that the frontend uses to render the graph. This logic is encapsulated within the {\ttfamily \doxylink{classAssetRelationshipGraph}{Asset\+Relationship\+Graph}} class and exposed via a Fast\+API endpoint.\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1400}{}\doxysubsubsection{\texorpdfstring{Data Generation}{Data Generation}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1400}
The core method for generating visualization data is {\ttfamily Asset\+Relationship\+Graph.\+get\+\_\+3d\+\_\+visualization\+\_\+data()}. This method is called by the API endpoint and returns a dictionary containing nodes and edges.

A key feature of the backend is the use of a fixed random seed ({\ttfamily seed=42}) to ensure that the 3D layout of the assets is deterministic and consistent across page loads and application restarts. This is crucial for comparative analysis.

The overall process is as follows\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{flowchart\ TD}
\DoxyCodeLine{\ \ \ \ A[API\ Request:\ GET\ /api/visualization]\ -\/-\/>\ B\{Call\ get\_3d\_visualization\_data\};}
\DoxyCodeLine{\ \ \ \ B\ -\/-\/>\ C[Get\ Assets\ and\ Relationships];}
\DoxyCodeLine{\ \ \ \ C\ -\/-\/>\ D[Calculate\ 3D\ Positions\ (seed=42)];}
\DoxyCodeLine{\ \ \ \ D\ -\/-\/>\ E[Assign\ Colors\ by\ Asset\ Class];}
\DoxyCodeLine{\ \ \ \ E\ -\/-\/>\ F[Assign\ Node\ Sizes];}
\DoxyCodeLine{\ \ \ \ F\ -\/-\/>\ G[Format\ Node\ and\ Edge\ Data];}
\DoxyCodeLine{\ \ \ \ G\ -\/-\/>\ H[Return\ JSON:\ \{nodes,\ edges\}];}

\end{DoxyCode}


Sources\+: \mbox{[}README.\+md\mbox{]}(), \mbox{[}\doxylink{asset__graph_8py}{src/logic/asset\+\_\+graph.\+py}\mbox{]}(), \mbox{[}\doxylink{graph__visuals_8py}{src/visualizations/graph\+\_\+visuals.\+py}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1401}{}\doxysubsubsection{\texorpdfstring{API Endpoint\+: {\ttfamily /api/visualization}}{API Endpoint\+: {\ttfamily /api/visualization}}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1401}
The Fast\+API backend exposes a dedicated endpoint to serve the 3D graph data.


\begin{DoxyItemize}
\item {\bfseries{Endpoint}}\+: {\ttfamily GET /api/visualization}
\item {\bfseries{File}}\+: {\ttfamily \doxylink{api_2main_8py}{api/main.\+py}}
\item {\bfseries{Description}}\+: Retrieves the complete data structure required to render the 3D network graph. It calls the core logic and returns the data in a JSON format.
\end{DoxyItemize}

The response from this endpoint contains two main keys\+: {\ttfamily nodes} and {\ttfamily edges}.\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1402}{}\doxysubsubsubsection{\texorpdfstring{Response Data Structure}{Response Data Structure}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1402}
\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{3}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Key   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Type   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-3}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Key   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Type   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-3}
\endhead
{\ttfamily nodes}   &{\ttfamily Array\texorpdfstring{$<$}{<}Node\texorpdfstring{$>$}{>}}   &An array of objects, where each object represents an asset in the graph.    \\\cline{1-3}
{\ttfamily edges}   &{\ttfamily Array\texorpdfstring{$<$}{<}Edge\texorpdfstring{$>$}{>}}   &An array of objects, where each object represents a relationship between two assets.   \\\cline{1-3}
\end{longtabu}


{\bfseries{Node Object Structure}} \tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{3}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Field   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Type   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-3}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Field   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Type   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-3}
\endhead
{\ttfamily id}   &{\ttfamily string}   &Unique identifier for the asset (e.\+g., "{}\+ASSET\+\_\+1"{}).    \\\cline{1-3}
{\ttfamily name}   &{\ttfamily string}   &Full name of the asset (e.\+g., "{}\+Apple Inc."{}).    \\\cline{1-3}
{\ttfamily symbol}   &{\ttfamily string}   &Ticker symbol or short identifier (e.\+g., "{}\+AAPL"{}).    \\\cline{1-3}
{\ttfamily asset\+\_\+class}   &{\ttfamily string}   &The class of the asset (e.\+g., "{}\+EQUITY"{}).    \\\cline{1-3}
{\ttfamily x}, {\ttfamily y}, {\ttfamily z}   &{\ttfamily number}   &The 3D coordinates for the node\textquotesingle{}s position in the graph.    \\\cline{1-3}
{\ttfamily color}   &{\ttfamily string}   &Hex color code for the node, determined by its asset class.    \\\cline{1-3}
{\ttfamily size}   &{\ttfamily number}   &The size of the node in the visualization.   \\\cline{1-3}
\end{longtabu}


{\bfseries{Edge Object Structure}} \tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{3}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Field   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Type   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-3}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Field   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Type   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-3}
\endhead
{\ttfamily source}   &{\ttfamily string}   &The {\ttfamily id} of the source asset.    \\\cline{1-3}
{\ttfamily target}   &{\ttfamily string}   &The {\ttfamily id} of the target asset.    \\\cline{1-3}
{\ttfamily relationship\+\_\+type}   &{\ttfamily string}   &The type of relationship (e.\+g., "{}\+SAME\+\_\+\+SECTOR"{}).    \\\cline{1-3}
{\ttfamily strength}   &{\ttfamily number}   &The strength of the relationship, typically a value between 0 and 1.   \\\cline{1-3}
\end{longtabu}


Sources\+: \mbox{[}\doxylink{api_2main_8py}{api/main.\+py}\mbox{]}(), \mbox{[}frontend/\texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}tests\texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}/test-\/utils.test.\+ts\mbox{]}(), \mbox{[}\doxylink{INTEGRATION__SUMMARY_8md}{INTEGRATION\+\_\+\+SUMMARY.\+md}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1403}{}\doxysubsection{\texorpdfstring{Frontend Implementation}{Frontend Implementation}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1403}
The frontend uses a React component, {\ttfamily Network\+Visualization.\+tsx}, to render the 3D graph. This component fetches data from the {\ttfamily /api/visualization} endpoint and uses {\ttfamily react-\/plotly.\+js} to create the interactive visualization.

Sources\+: \mbox{[}frontend/app/components/\+Network\+Visualization.\+tsx\mbox{]}(), \mbox{[}\doxylink{INTEGRATION__SUMMARY_8md}{INTEGRATION\+\_\+\+SUMMARY.\+md}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1404}{}\doxysubsubsection{\texorpdfstring{Component\+: {\ttfamily Network\+Visualization.\+tsx}}{Component\+: {\ttfamily Network\+Visualization.\+tsx}}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1404}
This component is responsible for\+:


\begin{DoxyEnumerate}
\item Receiving the {\ttfamily nodes} and {\ttfamily edges} data as props.
\item Processing this data into a format compatible with Plotly.
\item Configuring the layout and appearance of the 3D graph.
\item Handling loading and empty states.
\end{DoxyEnumerate}

The component\textquotesingle{}s logic involves mapping the {\ttfamily nodes} array to Plotly\textquotesingle{}s {\ttfamily scatter3d} trace for the assets and mapping the {\ttfamily edges} array to another {\ttfamily scatter3d} trace for the relationship lines.

The component\textquotesingle{}s rendering logic is validated by unit tests that check for correct processing of node/edge data and proper Plotly configuration.


\begin{DoxyCode}{0}
\DoxyCodeLine{graph\ TD}
\DoxyCodeLine{\ \ \ \ subgraph\ NetworkVisualization.tsx}
\DoxyCodeLine{\ \ \ \ \ \ \ \ A[Props:\ \{data:\ \{nodes,\ edges\}\}]\ -\/-\/>\ B\{Process\ Data\};}
\DoxyCodeLine{\ \ \ \ \ \ \ \ B\ -\/-\/>\ C[Create\ Node\ Trace\ (scatter3d)];}
\DoxyCodeLine{\ \ \ \ \ \ \ \ B\ -\/-\/>\ D[Create\ Edge\ Trace\ (scatter3d)];}
\DoxyCodeLine{\ \ \ \ \ \ \ \ C\ -\/-\/>\ E[Plotly\ Chart];}
\DoxyCodeLine{\ \ \ \ \ \ \ \ D\ -\/-\/>\ E[Plotly\ Chart];}
\DoxyCodeLine{\ \ \ \ \ \ \ \ E\ -\/-\/>\ F[Render\ Interactive\ 3D\ Graph];}
\DoxyCodeLine{\ \ \ \ end}

\end{DoxyCode}


Sources\+: \mbox{[}frontend/app/components/\+Network\+Visualization.\+tsx\mbox{]}(), \mbox{[}frontend/\texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}tests\texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}/components/\+Network\+Visualization.test.\+tsx\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1405}{}\doxysubsubsection{\texorpdfstring{Visualization Libraries}{Visualization Libraries}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1405}
The frontend relies on two key libraries for rendering\+:


\begin{DoxyItemize}
\item {\bfseries{{\ttfamily plotly.\+js}}}\+: The core Java\+Script charting library that provides the 3D graphing capabilities.
\item {\bfseries{{\ttfamily react-\/plotly.\+js}}}\+: A React wrapper for {\ttfamily plotly.\+js} that simplifies its integration into React components.
\end{DoxyItemize}

These dependencies are declared in {\ttfamily frontend/package.\+json}.

Sources\+: \mbox{[}\doxylink{frontend_2README_8md}{frontend/\+README.\+md}\mbox{]}(), \mbox{[}frontend/\texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}tests\texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}/config/package-\/validation.test.\+ts\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1406}{}\doxysubsection{\texorpdfstring{Conclusion}{Conclusion}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1406}
The 3D Network Visualization feature is a well-\/architected, full-\/stack implementation that serves as the centerpiece of the application. It effectively separates backend data processing from frontend rendering, using a clean REST API for communication. The use of Plotly on both ends ensures powerful visualization capabilities, while the deterministic layout on the backend provides analytical consistency. The entire feature is designed to be interactive, informative, and extensible for future analytical needs.

Sources\+: \mbox{[}README.\+md\mbox{]}(), \mbox{[}\doxylink{ARCHITECTURE_8md}{ARCHITECTURE.\+md}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1407}{}\doxysubsubsection{\texorpdfstring{Feature\+: Asset Relationship Engine}{Feature\+: Asset Relationship Engine}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1407}


{\bfseries{Relevant source files}}\begin{adjustwidth}{1em}{0em}
The following files were used as context for generating this wiki page\+:


\begin{DoxyItemize}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/src/logic/asset_graph.py}{\texttt{ src/logic/asset\+\_\+graph.\+py}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/ARCHITECTURE.md}{\texttt{ ARCHITECTURE.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/README.md}{\texttt{ README.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/INTEGRATION_SUMMARY.md}{\texttt{ INTEGRATION\+\_\+\+SUMMARY.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/AI_RULES.md}{\texttt{ AI\+\_\+\+RULES.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/CONTRIBUTING.md}{\texttt{ CONTRIBUTING.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/AUDIT_REPORT.md}{\texttt{ AUDIT\+\_\+\+REPORT.\+md}}
\end{DoxyItemize}\end{adjustwidth}
\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1408}{}\doxysection{\texorpdfstring{Feature\+: Asset Relationship Engine}{Feature\+: Asset Relationship Engine}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1408}
The Asset Relationship Engine is the core business logic component of the Financial Asset Relationship Database. Its primary purpose is to automatically discover, quantify, and represent the complex relationships between various financial assets. The engine is encapsulated within the {\ttfamily \doxylink{classAssetRelationshipGraph}{Asset\+Relationship\+Graph}} class, which serves as the central brain for processing financial data models and generating outputs for visualization and analysis.

This engine powers both the original Gradio user interface and the modern Next.\+js frontend (via a Fast\+API backend). It ingests asset data, builds a network graph of their interconnections, calculates key performance metrics, and prepares data structures for 3D visualization. The entire system is designed to be deterministic, ensuring consistent graph layouts and analysis results.

Sources\+: \mbox{[}\doxylink{asset__graph_8py}{src/logic/asset\+\_\+graph.\+py}\mbox{]}(), \mbox{[}README.\+md\+:60-\/61\mbox{]}(), \mbox{[}\doxylink{ARCHITECTURE_8md}{ARCHITECTURE.\+md}\+:28-\/36\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1409}{}\doxysubsection{\texorpdfstring{Core Architecture}{Core Architecture}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1409}
The Asset Relationship Engine sits at the heart of the application, acting as a bridge between the data layer and the presentation (UI) layers. It consumes financial data models and is, in turn, called by the API/\+UI layers to provide processed graph data and analytics.

The diagram below illustrates the engine\textquotesingle{}s central position within the system architecture.


\begin{DoxyCode}{0}
\DoxyCodeLine{graph\ TD}
\DoxyCodeLine{\ \ \ \ subgraph\ Data\_Layer}
\DoxyCodeLine{\ \ \ \ \ \ \ \ A[Financial\ Models\ <br>\ src/models/financial\_models.py]}
\DoxyCodeLine{\ \ \ \ \ \ \ \ B[Data\ Sources\ <br>\ src/data/]}
\DoxyCodeLine{\ \ \ \ end}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ subgraph\ Core\_Business\_Logic}
\DoxyCodeLine{\ \ \ \ \ \ \ \ C[AssetRelationshipGraph\ <br>\ <b>(The\ Engine)</b>\ <br>\ src/logic/asset\_graph.py]}
\DoxyCodeLine{\ \ \ \ end}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ subgraph\ API\_Layer}
\DoxyCodeLine{\ \ \ \ \ \ \ \ D[FastAPI\ Backend\ <br>\ api/main.py]}
\DoxyCodeLine{\ \ \ \ end}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ subgraph\ UI\_Layer}
\DoxyCodeLine{\ \ \ \ \ \ \ \ E[Next.js\ UI]}
\DoxyCodeLine{\ \ \ \ \ \ \ \ F[Gradio\ UI\ <br>\ app.py]}
\DoxyCodeLine{\ \ \ \ end}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ A\ -\/-\/>\ C}
\DoxyCodeLine{\ \ \ \ B\ -\/-\/>\ C}
\DoxyCodeLine{\ \ \ \ C\ -\/-\/>\ D}
\DoxyCodeLine{\ \ \ \ C\ -\/-\/>\ F}
\DoxyCodeLine{\ \ \ \ D\ -\/-\/>\ E}

\end{DoxyCode}


{\itshape This diagram shows the data flow from data sources and models into the Asset Relationship Engine, which then serves both the Fast\+API backend and the Gradio UI.}

Sources\+: \mbox{[}\doxylink{ARCHITECTURE_8md}{ARCHITECTURE.\+md}\+:5-\/75\mbox{]}(), \mbox{[}README.\+md\+:58-\/65\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1410}{}\doxysubsection{\texorpdfstring{Data Models}{Data Models}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1410}
The engine operates on a set of well-\/defined data structures defined in {\ttfamily \doxylink{financial__models_8py}{src/models/financial\+\_\+models.\+py}}. The fundamental building block is the {\ttfamily Asset} dataclass, which is inherited by specific asset types.

Sources\+: \mbox{[}README.\+md\+:60\mbox{]}(), \mbox{[}\doxylink{AI__RULES_8md}{AI\+\_\+\+RULES.\+md}\+:15-\/17\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1411}{}\doxysubsubsection{\texorpdfstring{Asset Class Hierarchy}{Asset Class Hierarchy}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1411}
The engine processes different classes of assets, each with its own specific attributes. The main supported classes are {\ttfamily Equity}, {\ttfamily Bond}, {\ttfamily Commodity}, and {\ttfamily Currency}.


\begin{DoxyCode}{0}
\DoxyCodeLine{classDiagram}
\DoxyCodeLine{\ \ \ \ direction\ LR}
\DoxyCodeLine{\ \ \ \ class\ Asset\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +id:\ str}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +symbol:\ str}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +name:\ str}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +asset\_class:\ AssetClass}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +price:\ float}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ class\ Equity\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +sector:\ str}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +pe\_ratio:\ float}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ class\ Bond\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +issuer:\ str}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +yield:\ float}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ class\ Commodity\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +unit:\ str}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ class\ Currency\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +country:\ str}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ Asset\ <|-\/-\/\ Equity}
\DoxyCodeLine{\ \ \ \ Asset\ <|-\/-\/\ Bond}
\DoxyCodeLine{\ \ \ \ Asset\ <|-\/-\/\ Commodity}
\DoxyCodeLine{\ \ \ \ Asset\ <|-\/-\/\ Currency}

\end{DoxyCode}


{\itshape This diagram shows the inheritance structure of the financial data models.}

Sources\+: \mbox{[}README.\+md\+:40-\/45\mbox{]}(), \mbox{[}\doxylink{AI__RULES_8md}{AI\+\_\+\+RULES.\+md}\+:15-\/17\mbox{]}(), \mbox{[}\doxylink{CONTRIBUTING_8md}{CONTRIBUTING.\+md}\+:183\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1412}{}\doxysubsection{\texorpdfstring{Relationship Discovery}{Relationship Discovery}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1412}
The core function of the engine is to automatically discover relationships between assets. This is handled by the {\ttfamily build\+\_\+relationships()} method, which iterates through all unique pairs of assets and calls {\ttfamily \+\_\+find\+\_\+relationships()} to identify specific connections.

Sources\+: \mbox{[}README.\+md\+:82-\/83\mbox{]}(), \mbox{[}\doxylink{asset__graph_8py}{src/logic/asset\+\_\+graph.\+py}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1413}{}\doxysubsubsection{\texorpdfstring{Discovery Process}{Discovery Process}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1413}
The following flowchart outlines the logic for building the relationship graph.


\begin{DoxyCode}{0}
\DoxyCodeLine{flowchart\ TD}
\DoxyCodeLine{\ \ \ \ start[Start\ build\_relationships()]\ -\/-\/>\ A\{Iterate\ all\ asset\ pairs\ (asset1,\ asset2)\}}
\DoxyCodeLine{\ \ \ \ A\ -\/-\/>\ B[Call\ \_find\_relationships(asset1,\ asset2)]}
\DoxyCodeLine{\ \ \ \ B\ -\/-\/>\ C\{Check\ for\ relationship\ types\}}
\DoxyCodeLine{\ \ \ \ C\ -\/-\/\ Same\ Sector\ -\/-\/>\ D[Create\ 'same\_sector'\ relationship]}
\DoxyCodeLine{\ \ \ \ C\ -\/-\/\ Corporate\ Bond\ -\/-\/>\ E[Create\ 'corporate\_bond\_to\_equity'\ relationship]}
\DoxyCodeLine{\ \ \ \ C\ -\/-\/\ Other\ types...\ -\/-\/>\ F[...]}
\DoxyCodeLine{\ \ \ \ D\ -\/-\/>\ G[Add\ relationship\ to\ graph]}
\DoxyCodeLine{\ \ \ \ E\ -\/-\/>\ G}
\DoxyCodeLine{\ \ \ \ F\ -\/-\/>\ G}
\DoxyCodeLine{\ \ \ \ G\ -\/-\/>\ A}
\DoxyCodeLine{\ \ \ \ A\ -\/-\/\ Loop\ finished\ -\/-\/>\ stop[End]}

\end{DoxyCode}


{\itshape This flowchart shows the process of iterating through assets to find and add relationships to the graph.}

Sources\+: \mbox{[}\doxylink{asset__graph_8py}{src/logic/asset\+\_\+graph.\+py}\mbox{]}(), \mbox{[}README.\+md\+:82-\/83\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1414}{}\doxysubsubsection{\texorpdfstring{Relationship Types}{Relationship Types}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1414}
The engine can identify several types of relationships, each with a predefined strength score.

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{4}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Relationship Type   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Condition   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Default Strength   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Source File    }\\\cline{1-4}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Relationship Type   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Condition   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Default Strength   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Source File    }\\\cline{1-4}
\endhead
{\ttfamily same\+\_\+sector}   &Two equities are in the same industry sector.   &0.\+7   &{\ttfamily README.\+md\+:48}    \\\cline{1-4}
{\ttfamily corporate\+\_\+bond\+\_\+to\+\_\+equity}   &A bond is issued by the same company as an equity.   &0.\+9   &{\ttfamily README.\+md\+:49}, {\ttfamily \doxylink{IMPROVEMENTS_8md}{IMPROVEMENTS.\+md}\+:31}    \\\cline{1-4}
{\ttfamily commodity\+\_\+exposure}   &An equity company is exposed to commodity prices.   &Varies   &{\ttfamily README.\+md\+:50}    \\\cline{1-4}
{\ttfamily currency\+\_\+risk}   &An asset has exposure to foreign exchange risk.   &0.\+8   &{\ttfamily README.\+md\+:51}, {\ttfamily \doxylink{IMPROVEMENTS_8md}{IMPROVEMENTS.\+md}\+:30}    \\\cline{1-4}
{\ttfamily income\+\_\+comparison}   &Comparing an equity\textquotesingle{}s dividend yield to a bond\textquotesingle{}s yield.   &Varies   &{\ttfamily README.\+md\+:52}    \\\cline{1-4}
{\ttfamily event\+\_\+impact}   &A regulatory event affects multiple assets.   &Varies   &{\ttfamily README.\+md\+:53}   \\\cline{1-4}
\end{longtabu}


Sources\+: \mbox{[}README.\+md\+:47-\/54\mbox{]}(), \mbox{[}\doxylink{IMPROVEMENTS_8md}{IMPROVEMENTS.\+md}\+:28-\/32\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1415}{}\doxysubsection{\texorpdfstring{Analytics and Metrics}{Analytics and Metrics}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1415}
The engine provides analytical capabilities through the {\ttfamily calculate\+\_\+metrics()} method. This function computes various network statistics that offer insights into the structure and density of the asset relationship graph.\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1416}{}\doxysubsubsection{\texorpdfstring{Calculated Metrics}{Calculated Metrics}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1416}
\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{2}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Metric   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-2}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Metric   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-2}
\endhead
{\ttfamily total\+\_\+assets}   &The total number of assets (nodes) in the graph.    \\\cline{1-2}
{\ttfamily total\+\_\+relationships}   &The total number of connections (edges) in the graph.    \\\cline{1-2}
{\ttfamily network\+\_\+density}   &A measure of how interconnected the assets are, on a scale from 0 to 1.    \\\cline{1-2}
{\ttfamily avg\+\_\+degree}   &The average number of relationships per asset.    \\\cline{1-2}
{\ttfamily max\+\_\+degree}   &The highest number of relationships held by a single asset.    \\\cline{1-2}
{\ttfamily asset\+\_\+classes}   &A dictionary counting the number of assets in each class (e.\+g., Equity, Bond).   \\\cline{1-2}
\end{longtabu}


Sources\+: \mbox{[}\doxylink{asset__graph_8py}{src/logic/asset\+\_\+graph.\+py}\mbox{]}(), \mbox{[}\doxylink{TEST__SUMMARY_8md}{TEST\+\_\+\+SUMMARY.\+md}\+:48\mbox{]}(), \mbox{[}\doxylink{INTEGRATION__SUMMARY_8md}{INTEGRATION\+\_\+\+SUMMARY.\+md}\+:22\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1417}{}\doxysubsection{\texorpdfstring{Visualization Data Generation}{Visualization Data Generation}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1417}
A key feature of the engine is its ability to generate data formatted for 3D visualization with Plotly. The {\ttfamily get\+\_\+3d\+\_\+visualization\+\_\+data()} method produces a dictionary containing lists of nodes and edges with positional and styling information.


\begin{DoxyItemize}
\item {\bfseries{Deterministic Layout}}\+: The 3D positions of the assets are calculated using a fixed random seed ({\ttfamily seed=42}) to ensure the visualization is consistent and reproducible across sessions.
\item {\bfseries{Node Sizing and Coloring}}\+: Nodes are colored based on their {\ttfamily Asset\+Class} and sized based on their importance or connectivity within the graph.
\item {\bfseries{Edge Styling}}\+: Edges can be styled based on relationship {\ttfamily strength}.
\end{DoxyItemize}

Sources\+: \mbox{[}README.\+md\+:70, 81\mbox{]}(), \mbox{[}\doxylink{asset__graph_8py}{src/logic/asset\+\_\+graph.\+py}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1418}{}\doxysubsection{\texorpdfstring{API Exposure}{API Exposure}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1418}
The engine\textquotesingle{}s functionalities are exposed to the Next.\+js frontend via a REST API built with Fast\+API. The API endpoints in {\ttfamily \doxylink{api_2main_8py}{api/main.\+py}} instantiate and interact with the {\ttfamily \doxylink{classAssetRelationshipGraph}{Asset\+Relationship\+Graph}} to serve data to the client.\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1419}{}\doxysubsubsection{\texorpdfstring{API Interaction Flow}{API Interaction Flow}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1419}
This sequence diagram shows how a frontend request for visualization data is processed.


\begin{DoxyCode}{0}
\DoxyCodeLine{sequenceDiagram}
\DoxyCodeLine{\ \ \ \ participant\ User\ as\ "{}Next.js\ UI"{}}
\DoxyCodeLine{\ \ \ \ participant\ API\ as\ "{}FastAPI\ Backend"{}}
\DoxyCodeLine{\ \ \ \ participant\ Engine\ as\ "{}AssetRelationshipGraph"{}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ User-\/>>API:\ GET\ /api/visualization}
\DoxyCodeLine{\ \ \ \ activate\ API}
\DoxyCodeLine{\ \ \ \ API-\/>>Engine:\ get\_graph()\ (singleton)}
\DoxyCodeLine{\ \ \ \ activate\ Engine}
\DoxyCodeLine{\ \ \ \ Engine-\/-\/>>API:\ Graph\ instance}
\DoxyCodeLine{\ \ \ \ deactivate\ Engine}
\DoxyCodeLine{\ \ \ \ API-\/>>Engine:\ get\_3d\_visualization\_data()}
\DoxyCodeLine{\ \ \ \ activate\ Engine}
\DoxyCodeLine{\ \ \ \ Engine-\/-\/>>API:\ \{nodes:\ [...],\ edges:\ [...]\}}
\DoxyCodeLine{\ \ \ \ deactivate\ Engine}
\DoxyCodeLine{\ \ \ \ API-\/-\/>>User:\ JSON\ Response}
\DoxyCodeLine{\ \ \ \ deactivate\ API}

\end{DoxyCode}


{\itshape This diagram shows the sequence of calls from the UI to the API and finally to the Asset Relationship Engine to fetch visualization data.}

Sources\+: \mbox{[}\doxylink{ARCHITECTURE_8md}{ARCHITECTURE.\+md}\+:80-\/97\mbox{]}(), \mbox{[}\doxylink{INTEGRATION__SUMMARY_8md}{INTEGRATION\+\_\+\+SUMMARY.\+md}\+:15-\/23\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1420}{}\doxysubsubsection{\texorpdfstring{Key API Endpoints}{Key API Endpoints}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1420}
The following endpoints directly leverage the Asset Relationship Engine\+:

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{3}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Endpoint   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Method   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-3}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Endpoint   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Method   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-3}
\endhead
{\ttfamily /api/assets}   &GET   &Lists all assets from the graph.    \\\cline{1-3}
{\ttfamily /api/relationships}   &GET   &Returns all discovered relationships.    \\\cline{1-3}
{\ttfamily /api/metrics}   &GET   &Calculates and returns network metrics.    \\\cline{1-3}
{\ttfamily /api/visualization}   &GET   &Generates and returns data for the 3D graph.   \\\cline{1-3}
\end{longtabu}


Sources\+: \mbox{[}\doxylink{INTEGRATION__SUMMARY_8md}{INTEGRATION\+\_\+\+SUMMARY.\+md}\+:15-\/23\mbox{]}(), \mbox{[}\doxylink{TESTING__GUIDE_8md}{TESTING\+\_\+\+GUIDE.\+md}\+:43-\/51\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1421}{}\doxysubsection{\texorpdfstring{Summary}{Summary}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1421}
The Asset Relationship Engine is the foundational component that enables the project\textquotesingle{}s core value proposition. By encapsulating the logic for asset modeling, relationship discovery, analytics, and visualization data preparation, it provides a powerful and reusable service for multiple frontends. Its deterministic nature and clear separation from the UI and data layers make it a robust and central piece of the system architecture.

Sources\+: \mbox{[}\doxylink{AUDIT__REPORT_8md}{AUDIT\+\_\+\+REPORT.\+md}\+:20-\/27\mbox{]}(), \mbox{[}README.\+md\+:58-\/61\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1422}{}\doxysubsubsection{\texorpdfstring{Feature\+: Supported Asset Classes}{Feature\+: Supported Asset Classes}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1422}


{\bfseries{Relevant source files}}\begin{adjustwidth}{1em}{0em}


The following files were used as context for generating this wiki page\+:


\begin{DoxyItemize}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/src/models/financial_models.py}{\texttt{ src/models/financial\+\_\+models.\+py}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/src/data/sample_data.py}{\texttt{ src/data/sample\+\_\+data.\+py}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/README.md}{\texttt{ README.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/CHANGELOG.md}{\texttt{ CHANGELOG.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/AI_RULES.md}{\texttt{ AI\+\_\+\+RULES.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/ARCHITECTURE.md}{\texttt{ ARCHITECTURE.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/src/logic/asset_graph.py}{\texttt{ src/logic/asset\+\_\+graph.\+py}}
\end{DoxyItemize}

\end{adjustwidth}
\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1423}{}\doxysection{\texorpdfstring{Feature\+: Supported Asset Classes}{Feature\+: Supported Asset Classes}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1423}
The Financial Asset Relationship Database is designed to model and visualize connections between a variety of financial instruments. The system supports five primary asset classes\+: Equities, Bonds, Commodities, Currencies, and Regulatory Events. This structured approach allows for cross-\/asset analysis and automatic discovery of relationships.

The core of this feature is a well-\/defined data model using Python\textquotesingle{}s {\ttfamily dataclasses} and {\ttfamily enum} modules. A base {\ttfamily Asset} class provides common attributes, and specific subclasses extend it with fields relevant to each asset type. This object-\/oriented hierarchy is fundamental to the system\textquotesingle{}s architecture, enabling consistent handling and analysis across different financial instruments.

{\itshape Sources\+: \mbox{[}README.\+md\+:31-\/37\mbox{]}(), \mbox{[}\doxylink{AI__RULES_8md}{AI\+\_\+\+RULES.\+md}\+:14-\/16\mbox{]}(), \mbox{[}\doxylink{ARCHITECTURE_8md}{ARCHITECTURE.\+md}\+:83-\/89\mbox{]}()}\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1424}{}\doxysubsection{\texorpdfstring{Core Data Model}{Core Data Model}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1424}
The foundation of the asset representation is built upon a base {\ttfamily Asset} dataclass and an {\ttfamily Asset\+Class} enumeration to categorize each instrument.

{\itshape Sources\+: \mbox{[}\doxylink{financial__models_8py}{src/models/financial\+\_\+models.\+py}\mbox{]}()}\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1425}{}\doxysubsubsection{\texorpdfstring{Asset\+Class Enum}{Asset\+Class Enum}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1425}
The {\ttfamily Asset\+Class} enum provides a controlled vocabulary for classifying assets. This ensures type safety and consistency throughout the application, from data creation to visualization.

{\itshape Sources\+: \mbox{[}\doxylink{financial__models_8py}{src/models/financial\+\_\+models.\+py}\+:11-\/19\mbox{]}(), \mbox{[}\doxylink{AI__RULES_8md}{AI\+\_\+\+RULES.\+md}\+:34-\/35\mbox{]}()}

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{2}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Member   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-2}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Member   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-2}
\endhead
{\ttfamily EQUITY}   &Represents stocks or shares in a company.    \\\cline{1-2}
{\ttfamily BOND}   &Represents fixed-\/income instruments.    \\\cline{1-2}
{\ttfamily COMMODITY}   &Represents raw materials or primary agricultural products.    \\\cline{1-2}
{\ttfamily CURRENCY}   &Represents foreign exchange pairs.    \\\cline{1-2}
{\ttfamily REGULATORY\+\_\+\+EVENT}   &Represents corporate or regulatory events affecting assets.   \\\cline{1-2}
\end{longtabu}
\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1426}{}\doxysubsubsection{\texorpdfstring{Asset Class Hierarchy}{Asset Class Hierarchy}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1426}
All specific asset models inherit from a common {\ttfamily Asset} base class. This design ensures that all assets share a fundamental set of properties, while allowing for specialized attributes in subclasses. The diagram below illustrates this inheritance structure.

{\itshape Sources\+: \mbox{[}\doxylink{financial__models_8py}{src/models/financial\+\_\+models.\+py}\+:22-\/101\mbox{]}(), \mbox{[}\doxylink{ARCHITECTURE_8md}{ARCHITECTURE.\+md}\+:83-\/89\mbox{]}()}


\begin{DoxyCode}{0}
\DoxyCodeLine{classDiagram}
\DoxyCodeLine{\ \ \ \ direction\ LR}
\DoxyCodeLine{\ \ \ \ class\ Asset\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ <<Abstract>>}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +str\ id}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +str\ symbol}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +str\ name}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +AssetClass\ asset\_class}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +str\ sector}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +str\ currency}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +float\ price}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +float\ market\_cap}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +dict\ additional\_fields}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +\_\_post\_init\_\_()}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ class\ Equity\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +float\ pe\_ratio}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +float\ dividend\_yield}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +float\ eps}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ class\ Bond\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +float\ yield\_}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +float\ duration}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +str\ credit\_rating}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ class\ Commodity\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +str\ futures\_contract\_specs}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +float\ spot\_price}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ class\ Currency\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +str\ country}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +float\ interest\_rate}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +str\ central\_bank}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ class\ RegulatoryEvent\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +RegulatoryActivity\ activity\_type}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +date\ event\_date}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +float\ impact\_score}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +str\ description}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ Asset\ <|-\/-\/\ Equity}
\DoxyCodeLine{\ \ \ \ Asset\ <|-\/-\/\ Bond}
\DoxyCodeLine{\ \ \ \ Asset\ <|-\/-\/\ Commodity}
\DoxyCodeLine{\ \ \ \ Asset\ <|-\/-\/\ Currency}
\DoxyCodeLine{\ \ \ \ Asset\ <|-\/-\/\ RegulatoryEvent}

\end{DoxyCode}
\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1427}{}\doxysubsubsection{\texorpdfstring{Base Asset Model}{Base Asset Model}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1427}
The {\ttfamily Asset} dataclass defines the common attributes shared by all financial instruments in the system. It includes validation in its {\ttfamily \+\_\+\+\_\+post\+\_\+init\+\_\+\+\_\+} method to ensure data integrity, such as checking for non-\/negative prices.

{\itshape Sources\+: \mbox{[}\doxylink{financial__models_8py}{src/models/financial\+\_\+models.\+py}\+:22-\/47\mbox{]}(), \mbox{[}\doxylink{AUDIT__REPORT_8md}{AUDIT\+\_\+\+REPORT.\+md}\+:21-\/23\mbox{]}()}

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{4}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Attribute   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Type   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Constraints    }\\\cline{1-4}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Attribute   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Type   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Constraints    }\\\cline{1-4}
\endhead
{\ttfamily id}   &{\ttfamily str}   &A unique identifier for the asset.   &\\\cline{1-4}
{\ttfamily symbol}   &{\ttfamily str}   &The ticker symbol or other short identifier.   &\\\cline{1-4}
{\ttfamily name}   &{\ttfamily str}   &The full name of the asset.   &\\\cline{1-4}
{\ttfamily asset\+\_\+class}   &{\ttfamily Asset\+Class}   &The type of the asset, from the {\ttfamily Asset\+Class} enum.   &\\\cline{1-4}
{\ttfamily sector}   &{\ttfamily str}   &The industry sector the asset belongs to.   &\\\cline{1-4}
{\ttfamily currency}   &{\ttfamily str}   &The currency of the asset\textquotesingle{}s price (3-\/letter ISO code).   &Must be 3 uppercase letters.    \\\cline{1-4}
{\ttfamily price}   &{\ttfamily float}   &The current market price of the asset.   &Must be non-\/negative.    \\\cline{1-4}
{\ttfamily market\+\_\+cap}   &{\ttfamily float}   &The total market capitalization.   &\\\cline{1-4}
{\ttfamily additional\+\_\+fields}   &{\ttfamily dict}   &A dictionary for any extra, non-\/standard data.   &\\\cline{1-4}
\end{longtabu}
\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1428}{}\doxysubsection{\texorpdfstring{Detailed Asset Classes}{Detailed Asset Classes}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1428}
The system supports five specialized asset classes, each inheriting from the base {\ttfamily Asset} model and adding its own unique attributes. These were introduced in version 1.\+0.\+0 of the project.

{\itshape Sources\+: \mbox{[}\doxylink{CHANGELOG_8md}{CHANGELOG.\+md}\+:52-\/56\mbox{]}(), \mbox{[}README.\+md\+:32-\/37\mbox{]}()}\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1429}{}\doxysubsubsection{\texorpdfstring{Equities}{Equities}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1429}
Represents ownership stakes in a public company. The {\ttfamily Equity} class adds standard financial metrics used for stock valuation.

{\itshape Sources\+: \mbox{[}\doxylink{financial__models_8py}{src/models/financial\+\_\+models.\+py}\+:50-\/57\mbox{]}()}

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{3}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Attribute   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Type   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-3}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Attribute   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Type   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-3}
\endhead
{\ttfamily pe\+\_\+ratio}   &{\ttfamily float}   &Price-\/to-\/\+Earnings ratio.    \\\cline{1-3}
{\ttfamily dividend\+\_\+yield}   &{\ttfamily float}   &The ratio of the annual dividend to the share price.    \\\cline{1-3}
{\ttfamily eps}   &{\ttfamily float}   &Earnings Per Share.   \\\cline{1-3}
\end{longtabu}
\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1430}{}\doxysubsubsection{\texorpdfstring{Fixed Income (Bonds)}{Fixed Income (Bonds)}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1430}
Represents debt instruments. The {\ttfamily Bond} class includes attributes related to yield and credit risk.

{\itshape Sources\+: \mbox{[}\doxylink{financial__models_8py}{src/models/financial\+\_\+models.\+py}\+:60-\/67\mbox{]}()}

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{3}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Attribute   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Type   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-3}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Attribute   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Type   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-3}
\endhead
{\ttfamily yield\+\_\+}   &{\ttfamily float}   &The yield to maturity of the bond.    \\\cline{1-3}
{\ttfamily duration}   &{\ttfamily float}   &A measure of the bond\textquotesingle{}s interest rate sensitivity.    \\\cline{1-3}
{\ttfamily credit\+\_\+rating}   &{\ttfamily str}   &The credit rating from an agency (e.\+g., AAA, BB+).   \\\cline{1-3}
\end{longtabu}
\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1431}{}\doxysubsubsection{\texorpdfstring{Commodities}{Commodities}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1431}
Represents physical goods or raw materials. The {\ttfamily Commodity} class includes details about futures contracts and spot pricing.

{\itshape Sources\+: \mbox{[}\doxylink{financial__models_8py}{src/models/financial\+\_\+models.\+py}\+:70-\/75\mbox{]}()}

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{3}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Attribute   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Type   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-3}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Attribute   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Type   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-3}
\endhead
{\ttfamily futures\+\_\+contract\+\_\+specs}   &{\ttfamily str}   &Specifications for the futures contract.    \\\cline{1-3}
{\ttfamily spot\+\_\+price}   &{\ttfamily float}   &The current market price for immediate delivery.   \\\cline{1-3}
\end{longtabu}
\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1432}{}\doxysubsubsection{\texorpdfstring{Currencies}{Currencies}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1432}
Represents foreign exchange instruments. The {\ttfamily Currency} class adds macroeconomic indicators relevant to a currency\textquotesingle{}s value.

{\itshape Sources\+: \mbox{[}\doxylink{financial__models_8py}{src/models/financial\+\_\+models.\+py}\+:78-\/84\mbox{]}()}

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{3}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Attribute   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Type   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-3}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Attribute   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Type   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-3}
\endhead
{\ttfamily country}   &{\ttfamily str}   &The primary country associated with the currency.    \\\cline{1-3}
{\ttfamily interest\+\_\+rate}   &{\ttfamily float}   &The central bank\textquotesingle{}s benchmark interest rate.    \\\cline{1-3}
{\ttfamily central\+\_\+bank}   &{\ttfamily str}   &The name of the central bank issuing the currency.   \\\cline{1-3}
\end{longtabu}
\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1433}{}\doxysubsubsection{\texorpdfstring{Regulatory Events}{Regulatory Events}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1433}
Represents significant events that can impact other assets. The {\ttfamily Regulatory\+Event} model includes an impact score and a type classification.

{\itshape Sources\+: \mbox{[}\doxylink{financial__models_8py}{src/models/financial\+\_\+models.\+py}\+:87-\/101\mbox{]}()}

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{4}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Attribute   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Type   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Constraints    }\\\cline{1-4}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Attribute   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Type   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Constraints    }\\\cline{1-4}
\endhead
{\ttfamily activity\+\_\+type}   &{\ttfamily Regulatory\+Activity}   &The type of event (e.\+g., Earnings, M\&A).   &\\\cline{1-4}
{\ttfamily event\+\_\+date}   &{\ttfamily date}   &The date the event occurred.   &Must be a valid ISO 8601 date.    \\\cline{1-4}
{\ttfamily impact\+\_\+score}   &{\ttfamily float}   &A score from -\/1.\+0 (negative) to 1.\+0 (positive).   &Must be within \mbox{[}-\/1.\+0, 1.\+0\mbox{]}.    \\\cline{1-4}
{\ttfamily description}   &{\ttfamily str}   &A brief description of the event.   &\\\cline{1-4}
\end{longtabu}
\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1434}{}\doxysubsection{\texorpdfstring{Extensibility}{Extensibility}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1434}
The system is designed to be extensible, allowing for the addition of new asset types. To add a new asset class, a developer can create a new dataclass that inherits from the base {\ttfamily Asset} class. This pattern is encouraged for future expansion.

The example below, taken from the project\textquotesingle{}s documentation, shows how a {\ttfamily Derivative} asset could be added.

{\itshape Sources\+: \mbox{[}README.\+md\+:73-\/84\mbox{]}()}


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keyword}{from}\ src.models.financial\_models\ \textcolor{keyword}{import}\ Asset,\ AssetClass}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{\#\ Extend\ Asset\ for\ new\ types}}
\DoxyCodeLine{\textcolor{preprocessor}{@dataclass}}
\DoxyCodeLine{\textcolor{keyword}{class\ }Derivative(Asset):}
\DoxyCodeLine{\ \ \ \ underlying\_asset:\ str}
\DoxyCodeLine{\ \ \ \ expiration\_date:\ str}
\DoxyCodeLine{\ \ \ \ strike\_price:\ Optional[float]\ =\ \textcolor{keywordtype}{None}}

\end{DoxyCode}
\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1435}{}\doxysubsection{\texorpdfstring{Conclusion}{Conclusion}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1435}
The project\textquotesingle{}s support for diverse asset classes is built on a robust and extensible object-\/oriented data model. By using a common base class and specialized subclasses, the system can consistently manage, analyze, and visualize a wide range of financial instruments and the complex relationships between them. This structured approach is central to the application\textquotesingle{}s ability to provide meaningful cross-\/asset insights.\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1436}{}\doxysubsubsection{\texorpdfstring{Feature\+: Metrics and Analytics}{Feature\+: Metrics and Analytics}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1436}


{\bfseries{Relevant source files}}\begin{adjustwidth}{1em}{0em}
The following files were used as context for generating this wiki page\+:


\begin{DoxyItemize}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/src/visualizations/metric_visuals.py}{\texttt{ src/visualizations/metric\+\_\+visuals.\+py}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/frontend/app/components/MetricsDashboard.tsx}{\texttt{ frontend/app/components/\+Metrics\+Dashboard.\+tsx}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/src/logic/asset_graph.py}{\texttt{ src/logic/asset\+\_\+graph.\+py}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/ARCHITECTURE.md}{\texttt{ ARCHITECTURE.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/TESTING_GUIDE.md}{\texttt{ TESTING\+\_\+\+GUIDE.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/README.md}{\texttt{ README.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/IMPROVEMENTS.md}{\texttt{ IMPROVEMENTS.\+md}}
\end{DoxyItemize}

\end{adjustwidth}
\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1437}{}\doxysection{\texorpdfstring{Feature\+: Metrics and Analytics}{Feature\+: Metrics and Analytics}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1437}
The Metrics and Analytics feature provides a quantitative overview of the financial asset network\textquotesingle{}s structure and complexity. It calculates key statistical metrics from the underlying graph data and presents them through two distinct user interfaces\+: a modern Next.\+js dashboard and the original Gradio UI. This functionality is crucial for users to quickly assess the density, composition, and overall scale of the interconnected assets.

The system is designed to provide real-\/time metrics that are recalculated whenever the asset graph is updated, ensuring that the analytics always reflect the current state of the data. This feature is central to the project\textquotesingle{}s goal of offering comprehensive analysis of asset relationships.

Sources\+: \mbox{[}README.\+md\mbox{]}(), \mbox{[}\doxylink{ARCHITECTURE_8md}{ARCHITECTURE.\+md}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1438}{}\doxysubsection{\texorpdfstring{Architecture and Data Flow}{Architecture and Data Flow}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1438}
The metrics and analytics functionality spans from the core business logic layer, through the API, to the user interface. The {\ttfamily \doxylink{classAssetRelationshipGraph}{Asset\+Relationship\+Graph}} class is the single source of truth for all metric calculations. This data is then exposed via a Fast\+API endpoint to the Next.\+js frontend or consumed directly by the Gradio UI.

This diagram illustrates the data flow for the metrics feature across both frontend implementations.


\begin{DoxyCode}{0}
\DoxyCodeLine{graph\ TD}
\DoxyCodeLine{\ \ \ \ subgraph\ Core\ Logic}
\DoxyCodeLine{\ \ \ \ \ \ \ \ A[src/logic/asset\_graph.py]\ -\/-\/>|calculate\_metrics()|\ B(Metrics\ Dictionary)}
\DoxyCodeLine{\ \ \ \ end}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ subgraph\ API\ and\ Frontend}
\DoxyCodeLine{\ \ \ \ \ \ \ \ subgraph\ Gradio\ UI}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ B\ -\/-\/>|Direct\ Call|\ C[src/visualizations/metric\_visuals.py]}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ C\ -\/-\/>\ D[Plotly\ Gauge\ \&\ Pie\ Charts]}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ D\ -\/-\/>\ E[Gradio\ Dashboard]}
\DoxyCodeLine{\ \ \ \ \ \ \ \ end}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ subgraph\ Next.js\ UI}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ B\ -\/-\/>|FastAPI\ Endpoint|\ F(GET\ /api/metrics)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ F\ -\/-\/>|Axios\ Request|\ G[frontend/app/lib/api.ts]}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ G\ -\/-\/>\ H[frontend/app/components/MetricsDashboard.tsx]}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ H\ -\/-\/>\ I[React\ Component\ Rendering]}
\DoxyCodeLine{\ \ \ \ \ \ \ \ end}
\DoxyCodeLine{\ \ \ \ end}

\end{DoxyCode}


Sources\+: \mbox{[}\doxylink{ARCHITECTURE_8md}{ARCHITECTURE.\+md}\mbox{]}(), \mbox{[}\doxylink{TESTING__GUIDE_8md}{TESTING\+\_\+\+GUIDE.\+md}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1439}{}\doxysubsection{\texorpdfstring{Backend\+: Metric Calculation}{Backend\+: Metric Calculation}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1439}
All network metrics are computed within the {\ttfamily \doxylink{classAssetRelationshipGraph}{Asset\+Relationship\+Graph}} class, specifically in the {\ttfamily calculate\+\_\+metrics} method. This method aggregates data about the nodes (assets) and edges (relationships) to produce a dictionary of key statistics.

Sources\+: \mbox{[}\doxylink{asset__graph_8py}{src/logic/asset\+\_\+graph.\+py}\mbox{]}(), \mbox{[}README.\+md\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1440}{}\doxysubsubsection{\texorpdfstring{Core Method\+: {\ttfamily calculate\+\_\+metrics}}{Core Method\+: {\ttfamily calculate\+\_\+metrics}}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1440}
This method is responsible for calculating all network statistics. It raises a {\ttfamily Value\+Error} if the graph is empty.

The following table details the metrics calculated by this method.

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{3}{|X[-1]}|}
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Metric Key   }&\cellcolor{\tableheadbgcolor}\textbf{ Description   }&\cellcolor{\tableheadbgcolor}\textbf{ Calculation Logic    }\\\cline{1-3}
\endfirsthead
\hline
\endfoot
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Metric Key   }&\cellcolor{\tableheadbgcolor}\textbf{ Description   }&\cellcolor{\tableheadbgcolor}\textbf{ Calculation Logic    }\\\cline{1-3}
\endhead
{\ttfamily total\+\_\+assets}   &The total number of assets (nodes) in the graph.   &{\ttfamily len(self.\+assets)}    \\\cline{1-3}
{\ttfamily total\+\_\+relationships}   &The total number of relationships (edges) in the graph.   &{\ttfamily len(self.\+relationships)}    \\\cline{1-3}
{\ttfamily average\+\_\+relationship\+\_\+strength}   &The mean strength of all relationships, clamped between 0 and 1.   &`np.\+mean(\mbox{[}r\mbox{[}\textquotesingle{}strength'\mbox{]} for r in self.\+relationships\mbox{]}){\ttfamily \textbackslash{}ilinebr \texorpdfstring{$<$}{<}/td\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}/tr\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}tr class="{}markdown\+Table\+Row\+Even"{}\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}td class="{}markdown\+Table\+Body\+Left"{}\texorpdfstring{$>$}{>}}network\+\_\+density{\ttfamily \textbackslash{}ilinebr \texorpdfstring{$<$}{<}/td\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}td class="{}markdown\+Table\+Body\+Left"{}\texorpdfstring{$>$}{>} A measure of how interconnected the graph is. A value of 1 means all possible connections exist. \textbackslash{}ilinebr \texorpdfstring{$<$}{<}/td\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}td class="{}markdown\+Table\+Body\+Left"{}\texorpdfstring{$>$}{>}}(2 \texorpdfstring{$\ast$}{*} num\+\_\+relationships) / (num\+\_\+assets \texorpdfstring{$\ast$}{*} (num\+\_\+assets -\/ 1)){\ttfamily \textbackslash{}ilinebr \texorpdfstring{$<$}{<}/td\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}/tr\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}tr class="{}markdown\+Table\+Row\+Odd"{}\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}td class="{}markdown\+Table\+Body\+Left"{}\texorpdfstring{$>$}{>}}asset\+\_\+classes{\ttfamily \textbackslash{}ilinebr \texorpdfstring{$<$}{<}/td\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}td class="{}markdown\+Table\+Body\+Left"{}\texorpdfstring{$>$}{>} A breakdown of assets by their class (e.\+g., Equity, Bond). \textbackslash{}ilinebr \texorpdfstring{$<$}{<}/td\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}td class="{}markdown\+Table\+Body\+Left"{}\texorpdfstring{$>$}{>} Counts assets for each}Asset\+Class{\ttfamily enum member. \textbackslash{}ilinebr \texorpdfstring{$<$}{<}/td\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}/tr\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}tr class="{}markdown\+Table\+Row\+Even"{}\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}td class="{}markdown\+Table\+Body\+Left"{}\texorpdfstring{$>$}{>}}average\+\_\+degree{\ttfamily \textbackslash{}ilinebr \texorpdfstring{$<$}{<}/td\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}td class="{}markdown\+Table\+Body\+Left"{}\texorpdfstring{$>$}{>} The average number of connections per asset. \textbackslash{}ilinebr \texorpdfstring{$<$}{<}/td\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}td class="{}markdown\+Table\+Body\+Left"{}\texorpdfstring{$>$}{>}}(2 \texorpdfstring{$\ast$}{*} num\+\_\+relationships) / num\+\_\+assets{\ttfamily \textbackslash{}ilinebr \texorpdfstring{$<$}{<}/td\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}/tr\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}tr class="{}markdown\+Table\+Row\+Odd"{}\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}td class="{}markdown\+Table\+Body\+Left"{}\texorpdfstring{$>$}{>}}max\+\_\+degree{\ttfamily \textbackslash{}ilinebr \texorpdfstring{$<$}{<}/td\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}td class="{}markdown\+Table\+Body\+Left"{}\texorpdfstring{$>$}{>} The highest number of connections for any single asset in the network. \textbackslash{}ilinebr \texorpdfstring{$<$}{<}/td\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}td class="{}markdown\+Table\+Body\+Left"{}\texorpdfstring{$>$}{>}}max(degrees){\ttfamily where}degrees\`{} is a list of connection counts per asset.   \\\cline{1-3}
\end{longtabu}


Sources\+: \mbox{[}\doxylink{asset__graph_8py}{src/logic/asset\+\_\+graph.\+py}\+:218-\/268\mbox{]}(), \mbox{[}\doxylink{IMPROVEMENTS_8md}{IMPROVEMENTS.\+md}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1441}{}\doxysubsection{\texorpdfstring{API Layer\+: Exposing Metrics}{API Layer\+: Exposing Metrics}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1441}
The calculated metrics are exposed to the Next.\+js frontend via a dedicated REST API endpoint managed by Fast\+API.

Sources\+: \mbox{[}\doxylink{ARCHITECTURE_8md}{ARCHITECTURE.\+md}\mbox{]}(), \mbox{[}\doxylink{TESTING__GUIDE_8md}{TESTING\+\_\+\+GUIDE.\+md}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1442}{}\doxysubsubsection{\texorpdfstring{Endpoint\+: {\ttfamily GET /api/metrics}}{Endpoint\+: {\ttfamily GET /api/metrics}}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1442}
This endpoint retrieves the calculated metrics from the singleton {\ttfamily \doxylink{classAssetRelationshipGraph}{Asset\+Relationship\+Graph}} instance and returns them as a JSON object.

The data flow for a frontend request is as follows\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{sequenceDiagram}
\DoxyCodeLine{\ \ \ \ participant\ User\ as\ "{}User\ Interface"{}}
\DoxyCodeLine{\ \ \ \ participant\ NextApp\ as\ "{}Next.js\ Frontend"{}}
\DoxyCodeLine{\ \ \ \ participant\ API\ as\ "{}FastAPI\ Backend"{}}
\DoxyCodeLine{\ \ \ \ participant\ Graph\ as\ "{}AssetRelationshipGraph"{}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ User-\/>>NextApp:\ Loads\ Metrics\ Dashboard}
\DoxyCodeLine{\ \ \ \ NextApp-\/>>API:\ GET\ /api/metrics}
\DoxyCodeLine{\ \ \ \ activate\ API}
\DoxyCodeLine{\ \ \ \ API-\/>>Graph:\ get\_graph()}
\DoxyCodeLine{\ \ \ \ Graph-\/-\/>>API:\ Singleton\ instance}
\DoxyCodeLine{\ \ \ \ API-\/>>Graph:\ calculate\_metrics()}
\DoxyCodeLine{\ \ \ \ Graph-\/-\/>>API:\ Metrics\ Dictionary}
\DoxyCodeLine{\ \ \ \ API-\/-\/>>NextApp:\ 200\ OK\ (JSON\ Response)}
\DoxyCodeLine{\ \ \ \ deactivate\ API}
\DoxyCodeLine{\ \ \ \ NextApp-\/-\/>>User:\ Renders\ Metric\ Cards}

\end{DoxyCode}


This sequence shows the Next.\+js application fetching metrics from the Fast\+API backend, which in turn calls the core logic to perform the calculation.

Sources\+: \mbox{[}\doxylink{ARCHITECTURE_8md}{ARCHITECTURE.\+md}\mbox{]}(), \mbox{[}\doxylink{TESTING__GUIDE_8md}{TESTING\+\_\+\+GUIDE.\+md}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1443}{}\doxysubsubsection{\texorpdfstring{Data Model\+: {\ttfamily Metrics\+Response}}{Data Model\+: {\ttfamily Metrics\+Response}}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1443}
The API response is validated using a Pydantic model to ensure type safety and consistency.

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{3}{|X[-1]}|}
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Field   }&\cellcolor{\tableheadbgcolor}\textbf{ Type   }&\cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-3}
\endfirsthead
\hline
\endfoot
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Field   }&\cellcolor{\tableheadbgcolor}\textbf{ Type   }&\cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-3}
\endhead
{\ttfamily total\+\_\+assets}   &{\ttfamily int}   &Total number of assets.    \\\cline{1-3}
{\ttfamily total\+\_\+relationships}   &{\ttfamily int}   &Total number of relationships.    \\\cline{1-3}
{\ttfamily average\+\_\+relationship\+\_\+strength}   &{\ttfamily float}   &Average strength of relationships.    \\\cline{1-3}
{\ttfamily network\+\_\+density}   &{\ttfamily float}   &Density of the network graph.    \\\cline{1-3}
{\ttfamily asset\+\_\+classes}   &{\ttfamily Dict\mbox{[}str, int\mbox{]}}   &Count of assets per class.    \\\cline{1-3}
{\ttfamily average\+\_\+degree}   &{\ttfamily float}   &Average connections per asset.    \\\cline{1-3}
{\ttfamily max\+\_\+degree}   &{\ttfamily int}   &Maximum connections for a single asset.   \\\cline{1-3}
\end{longtabu}


Sources\+: \mbox{[}\doxylink{TESTING__GUIDE_8md}{TESTING\+\_\+\+GUIDE.\+md}\mbox{]}(), \mbox{[}\doxylink{TEST__SUMMARY_8md}{TEST\+\_\+\+SUMMARY.\+md}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1444}{}\doxysubsection{\texorpdfstring{Frontend\+: Displaying Metrics}{Frontend\+: Displaying Metrics}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1444}
The project provides two different UIs for displaying the calculated metrics, each with its own implementation.\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1445}{}\doxysubsubsection{\texorpdfstring{Next.\+js Metrics Dashboard}{Next.\+js Metrics Dashboard}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1445}
The Next.\+js frontend features a {\ttfamily Metrics\+Dashboard} React component that fetches data from the {\ttfamily /api/metrics} endpoint and displays it in a series of cards.

Sources\+: \mbox{[}frontend/app/components/\+Metrics\+Dashboard.\+tsx\mbox{]}(), \mbox{[}\doxylink{TESTING__GUIDE_8md}{TESTING\+\_\+\+GUIDE.\+md}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1446}{}\doxysubsubsubsection{\texorpdfstring{Component\+: {\ttfamily Metrics\+Dashboard.\+tsx}}{Component\+: {\ttfamily Metrics\+Dashboard.\+tsx}}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1446}
This component is responsible for\+:


\begin{DoxyEnumerate}
\item Receiving metrics data as props.
\item Rendering individual "{}metric cards"{} for each key statistic.
\item Formatting numerical data for readability (e.\+g., percentages, large numbers).
\item Displaying the asset class breakdown.
\end{DoxyEnumerate}

Key features of the component include\+:


\begin{DoxyItemize}
\item {\bfseries{Data Formatting}}\+: Values like {\ttfamily network\+\_\+density} are formatted as percentages.
\item {\bfseries{Edge Case Handling}}\+: Correctly displays {\ttfamily 0} for metrics when the data is empty or null, preventing {\ttfamily NaN} errors.
\item {\bfseries{Visual Consistency}}\+: Ensures a uniform look and feel for all displayed metrics.
\end{DoxyItemize}

The following metrics are displayed on the dashboard\+:

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{3}{|X[-1]}|}
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Metric Displayed   }&\cellcolor{\tableheadbgcolor}\textbf{ Data Source   }&\cellcolor{\tableheadbgcolor}\textbf{ Formatting    }\\\cline{1-3}
\endfirsthead
\hline
\endfoot
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Metric Displayed   }&\cellcolor{\tableheadbgcolor}\textbf{ Data Source   }&\cellcolor{\tableheadbgcolor}\textbf{ Formatting    }\\\cline{1-3}
\endhead
Total Assets   &{\ttfamily metrics.\+total\+\_\+assets}   &Raw integer    \\\cline{1-3}
Total Relationships   &{\ttfamily metrics.\+total\+\_\+relationships}   &Raw integer    \\\cline{1-3}
Network Density   &{\ttfamily metrics.\+network\+\_\+density}   &Percentage (2 decimal places)    \\\cline{1-3}
Average Degree   &{\ttfamily metrics.\+average\+\_\+degree}   &Number (2 decimal places)    \\\cline{1-3}
Max Degree   &{\ttfamily metrics.\+max\+\_\+degree}   &Raw integer    \\\cline{1-3}
Asset Classes   &{\ttfamily metrics.\+asset\+\_\+classes}   &List of class names and counts   \\\cline{1-3}
\end{longtabu}


Sources\+: \mbox{[}frontend/app/components/\+Metrics\+Dashboard.\+tsx\+:11-\/80\mbox{]}(), \mbox{[}\doxylink{TESTING__GUIDE_8md}{TESTING\+\_\+\+GUIDE.\+md}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1447}{}\doxysubsubsection{\texorpdfstring{Gradio Metrics Dashboard}{Gradio Metrics Dashboard}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1447}
The original Gradio UI uses Plotly to create a more visual representation of the metrics, including gauge and pie charts.

Sources\+: \mbox{[}\doxylink{metric__visuals_8py}{src/visualizations/metric\+\_\+visuals.\+py}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1448}{}\doxysubsubsubsection{\texorpdfstring{Functions}{Functions}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1448}

\begin{DoxyItemize}
\item {\bfseries{{\ttfamily create\+\_\+metrics\+\_\+dashboard(metrics)}}}\+: The main function that orchestrates the creation of the entire dashboard layout in Gradio. It calls other helper functions to generate individual plots.
\item {\bfseries{{\ttfamily create\+\_\+gauge\+\_\+chart(value, title, reference)}}}\+: Generates a Plotly gauge chart, used for displaying metrics like "{}\+Network Density"{} and "{}\+Avg. Relationship Strength"{}.
\item {\bfseries{{\ttfamily create\+\_\+asset\+\_\+class\+\_\+pie\+\_\+chart(asset\+\_\+classes)}}}\+: Creates a Plotly pie chart to visualize the distribution of different asset classes.
\end{DoxyItemize}

The Gradio dashboard provides a different visual take on the same underlying data, emphasizing visual indicators over raw numbers for some metrics.

Sources\+: \mbox{[}\doxylink{metric__visuals_8py}{src/visualizations/metric\+\_\+visuals.\+py}\+:11-\/103\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1449}{}\doxysubsection{\texorpdfstring{Summary}{Summary}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1449}
The Metrics and Analytics feature is a cornerstone of the application, providing essential insights into the structure of the financial asset graph. By centralizing the calculation logic in {\ttfamily \doxylink{classAssetRelationshipGraph}{Asset\+Relationship\+Graph}} and offering flexible display options through both a modern Next.\+js/\+Fast\+API stack and a classic Gradio interface, the system ensures data consistency while catering to different presentation needs. The clear separation of concernsâ€”from calculation to API exposure to frontend renderingâ€”makes the feature robust, testable, and extensible.

Sources\+: \mbox{[}README.\+md\mbox{]}(), \mbox{[}\doxylink{ARCHITECTURE_8md}{ARCHITECTURE.\+md}\mbox{]}(), \mbox{[}\doxylink{IMPROVEMENTS_8md}{IMPROVEMENTS.\+md}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1450}{}\doxysubsubsection{\texorpdfstring{Feature\+: Regulatory Event Integration}{Feature\+: Regulatory Event Integration}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1450}


{\bfseries{Relevant source files}}\begin{adjustwidth}{1em}{0em}


The following files were used as context for generating this wiki page\+:


\begin{DoxyItemize}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/src/models/financial_models.py}{\texttt{ src/models/financial\+\_\+models.\+py}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/src/logic/asset_graph.py}{\texttt{ src/logic/asset\+\_\+graph.\+py}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/README.md}{\texttt{ README.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/AUDIT_REPORT.md}{\texttt{ AUDIT\+\_\+\+REPORT.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/ARCHITECTURE.md}{\texttt{ ARCHITECTURE.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/AI_RULES.md}{\texttt{ AI\+\_\+\+RULES.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/CHANGELOG.md}{\texttt{ CHANGELOG.\+md}}
\end{DoxyItemize}\end{adjustwidth}
\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1451}{}\doxysection{\texorpdfstring{Feature\+: Regulatory Event Integration}{Feature\+: Regulatory Event Integration}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1451}
The Regulatory Event Integration feature allows the system to model the impact of corporate and regulatory activities, such as SEC filings or M\&A announcements, on financial assets. This is achieved by representing these events as distinct nodes within the asset relationship graph. These event nodes create directional relationships with the assets they affect, with the relationship\textquotesingle{}s strength determined by a predefined impact score. This adds a layer of qualitative, event-\/driven analysis to the quantitative market data.

Sources\+: \mbox{[}README.\+md\mbox{]}(), \mbox{[}\doxylink{CHANGELOG_8md}{CHANGELOG.\+md}\mbox{]}(), \mbox{[}\doxylink{ARCHITECTURE_8md}{ARCHITECTURE.\+md}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1452}{}\doxysubsection{\texorpdfstring{Data Models for Regulatory Events}{Data Models for Regulatory Events}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1452}
The feature is built upon two primary data structures defined in the {\ttfamily \doxylink{financial__models_8py}{financial\+\_\+models.\+py}} module\+: the {\ttfamily Regulatory\+Activity} enum and the {\ttfamily Regulatory\+Event} dataclass.

Sources\+: \mbox{[}\doxylink{financial__models_8py}{src/models/financial\+\_\+models.\+py}\mbox{]}(), \mbox{[}\doxylink{AI__RULES_8md}{AI\+\_\+\+RULES.\+md}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1453}{}\doxysubsubsection{\texorpdfstring{Regulatory\+Activity Enum}{Regulatory\+Activity Enum}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1453}
This enumeration defines the types of regulatory activities that can be modeled. It provides a fixed set of choices for categorizing events.

Sources\+: \mbox{[}\doxylink{financial__models_8py}{src/models/financial\+\_\+models.\+py}\mbox{]}(), \mbox{[}\doxylink{AI__RULES_8md}{AI\+\_\+\+RULES.\+md}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1454}{}\doxysubsubsection{\texorpdfstring{Regulatory\+Event Dataclass}{Regulatory\+Event Dataclass}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1454}
The {\ttfamily Regulatory\+Event} is a specialized type of {\ttfamily Asset} that encapsulates all information about a specific event. It includes a list of impacted asset symbols and an {\ttfamily impact\+\_\+score} to quantify the event\textquotesingle{}s effect.

The diagram below shows the structure of the {\ttfamily Regulatory\+Event} class and its relation to the base {\ttfamily Asset} class and {\ttfamily Regulatory\+Activity} enum.


\begin{DoxyCode}{0}
\DoxyCodeLine{classDiagram}
\DoxyCodeLine{\ \ \ \ direction\ LR}
\DoxyCodeLine{\ \ \ \ class\ Asset\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +str\ id}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +str\ symbol}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +str\ name}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +AssetClass\ asset\_class}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ class\ RegulatoryEvent\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +str\ date}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +RegulatoryActivity\ activity\_type}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +list[str]\ impacted\_symbols}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +float\ impact\_score}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +str\ description}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +\_\_post\_init\_\_()\ void}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ class\ RegulatoryActivity\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ <<enumeration>>}
\DoxyCodeLine{\ \ \ \ \ \ \ \ EARNINGS\_RELEASE}
\DoxyCodeLine{\ \ \ \ \ \ \ \ SEC\_FILING}
\DoxyCodeLine{\ \ \ \ \ \ \ \ MERGER\_ACQUISITION}
\DoxyCodeLine{\ \ \ \ \ \ \ \ PRODUCT\_LAUNCH}
\DoxyCodeLine{\ \ \ \ \ \ \ \ LEGAL\_RULING}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ Asset\ <|-\/-\/\ RegulatoryEvent}
\DoxyCodeLine{\ \ \ \ RegulatoryEvent\ o-\/-\/\ RegulatoryActivity}

\end{DoxyCode}


Sources\+: \mbox{[}\doxylink{financial__models_8py}{src/models/financial\+\_\+models.\+py}\mbox{]}()

The fields of the {\ttfamily Regulatory\+Event} dataclass are detailed in the table below.

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{4}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Field   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Type   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Constraints    }\\\cline{1-4}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Field   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Type   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Constraints    }\\\cline{1-4}
\endhead
{\ttfamily id}   &{\ttfamily str}   &Unique identifier for the event.   &Inherited from {\ttfamily Asset}.    \\\cline{1-4}
{\ttfamily name}   &{\ttfamily str}   &A descriptive name for the event.   &Inherited from {\ttfamily Asset}.    \\\cline{1-4}
{\ttfamily date}   &{\ttfamily str}   &The date of the event in ISO 8601 format.   &Must be a valid ISO 8601 date string.    \\\cline{1-4}
{\ttfamily activity\+\_\+type}   &{\ttfamily Regulatory\+Activity}   &The type of regulatory activity (e.\+g., {\ttfamily EARNINGS\+\_\+\+RELEASE}).   &Must be a member of the {\ttfamily Regulatory\+Activity} enum.    \\\cline{1-4}
{\ttfamily impacted\+\_\+symbols}   &{\ttfamily List\mbox{[}str\mbox{]}}   &A list of asset symbols (e.\+g., stock tickers) that are affected by this event.   &-\/    \\\cline{1-4}
{\ttfamily impact\+\_\+score}   &{\ttfamily float}   &A normalized score from -\/1.\+0 (negative impact) to +1.\+0 (positive impact) quantifying the event\textquotesingle{}s effect.   &Must be between -\/1.\+0 and 1.\+0, inclusive.    \\\cline{1-4}
{\ttfamily description}   &{\ttfamily str}   &A detailed text description of the event.   &-\/   \\\cline{1-4}
\end{longtabu}


The {\ttfamily \+\_\+\+\_\+post\+\_\+init\+\_\+\+\_\+} method in the {\ttfamily Regulatory\+Event} dataclass performs validation to ensure the {\ttfamily impact\+\_\+score} is within its valid range and that the {\ttfamily date} conforms to the ISO 8601 standard.

Sources\+: \mbox{[}\doxylink{financial__models_8py}{src/models/financial\+\_\+models.\+py}\mbox{]}(), \mbox{[}\doxylink{AUDIT__REPORT_8md}{AUDIT\+\_\+\+REPORT.\+md}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1455}{}\doxysubsection{\texorpdfstring{Integration into the Asset Relationship Graph}{Integration into the Asset Relationship Graph}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1455}
Regulatory events are integrated into the graph during the relationship-\/building phase, which is handled by the {\ttfamily \doxylink{classAssetRelationshipGraph}{Asset\+Relationship\+Graph}} class. The system identifies assets that are {\ttfamily Regulatory\+Event} instances and creates directional relationships to the assets listed in their {\ttfamily impacted\+\_\+symbols} field.

Sources\+: \mbox{[}\doxylink{asset__graph_8py}{src/logic/asset\+\_\+graph.\+py}\mbox{]}(), \mbox{[}\doxylink{ARCHITECTURE_8md}{ARCHITECTURE.\+md}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1456}{}\doxysubsubsection{\texorpdfstring{Relationship Discovery Logic}{Relationship Discovery Logic}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1456}
The core logic resides within the {\ttfamily \+\_\+find\+\_\+relationships} method of the {\ttfamily \doxylink{classAssetRelationshipGraph}{Asset\+Relationship\+Graph}}. The process for handling regulatory events is as follows\+:


\begin{DoxyEnumerate}
\item The method iterates through all pairs of assets in the graph.
\item It checks if one of the assets in a pair is an instance of {\ttfamily Regulatory\+Event}.
\item If an event is found, the logic iterates through the {\ttfamily impacted\+\_\+symbols} defined within that event object.
\item For each {\ttfamily impacted\+\_\+symbol}, it checks if the other asset in the pair has a matching symbol.
\item If a match is found, a new directional relationship of type {\ttfamily event\+\_\+impact} is created from the event to the impacted asset.
\end{DoxyEnumerate}

The following flowchart illustrates this discovery process.


\begin{DoxyCode}{0}
\DoxyCodeLine{flowchart\ TD}
\DoxyCodeLine{\ \ \ \ A[Start\ \_find\_relationships]\ -\/-\/>\ B\{Iterate\ through\ asset\ pairs\ (asset1,\ asset2)\};}
\DoxyCodeLine{\ \ \ \ B\ -\/-\/>\ C\{Is\ asset1\ a\ RegulatoryEvent?\};}
\DoxyCodeLine{\ \ \ \ C\ -\/-\/\ Yes\ -\/-\/>\ D\{Iterate\ through\ impacted\_symbols\ in\ asset1\};}
\DoxyCodeLine{\ \ \ \ D\ -\/-\/>\ E\{Does\ asset2.symbol\ match\ an\ impacted\_symbol?\};}
\DoxyCodeLine{\ \ \ \ E\ -\/-\/\ Yes\ -\/-\/>\ F[Create\ 'event\_impact'\ relationship\ from\ asset1\ to\ asset2];}
\DoxyCodeLine{\ \ \ \ F\ -\/-\/>\ D;}
\DoxyCodeLine{\ \ \ \ E\ -\/-\/\ No\ -\/-\/>\ D;}
\DoxyCodeLine{\ \ \ \ D\ -\/-\/\ End\ of\ symbols\ -\/-\/>\ B;}
\DoxyCodeLine{\ \ \ \ C\ -\/-\/\ No\ -\/-\/>\ B;}
\DoxyCodeLine{\ \ \ \ B\ -\/-\/\ End\ of\ pairs\ -\/-\/>\ G[End];}

\end{DoxyCode}


Sources\+: \mbox{[}\doxylink{asset__graph_8py}{src/logic/asset\+\_\+graph.\+py}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1457}{}\doxysubsection{\texorpdfstring{The \textquotesingle{}Event Impact\textquotesingle{} Relationship}{The \textquotesingle{}Event Impact\textquotesingle{} Relationship}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1457}
The integration of regulatory events introduces a unique, directional relationship type called {\ttfamily event\+\_\+impact}.


\begin{DoxyItemize}
\item {\bfseries{Directionality}}\+: The relationship is always directed {\itshape from} the {\ttfamily Regulatory\+Event} {\itshape to} the impacted financial asset (e.\+g., an {\ttfamily Equity}). This signifies that the event causes an effect on the asset.
\item {\bfseries{Strength}}\+: The strength of the {\ttfamily event\+\_\+impact} relationship is directly derived from the {\ttfamily impact\+\_\+score} of the {\ttfamily Regulatory\+Event}. This allows the graph to model both the existence and the magnitude of an event\textquotesingle{}s influence.
\end{DoxyItemize}

This diagram shows an example of an {\ttfamily event\+\_\+impact} relationship.


\begin{DoxyCode}{0}
\DoxyCodeLine{graph\ TD}
\DoxyCodeLine{\ \ \ \ subgraph\ "{}Asset\ Relationship\ Graph"{}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ direction\ LR}
\DoxyCodeLine{\ \ \ \ \ \ \ \ Event[("{}Regulatory\ Event<br>M\&A\ Announcement<br>impact\_score:\ 0.8"{})]}
\DoxyCodeLine{\ \ \ \ \ \ \ \ Asset[("{}Equity<br>AAPL"{})]}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ Event\ -\/-\/\ "{}event\_impact<br>strength:\ 0.8"{}\ -\/-\/>\ Asset}
\DoxyCodeLine{\ \ \ \ end}

\end{DoxyCode}


Sources\+: \mbox{[}\doxylink{asset__graph_8py}{src/logic/asset\+\_\+graph.\+py}\mbox{]}(), \mbox{[}README.\+md\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1458}{}\doxysubsection{\texorpdfstring{Validation and Testing}{Validation and Testing}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1458}
The system ensures the integrity of regulatory event data through validation and comprehensive testing.


\begin{DoxyItemize}
\item {\bfseries{Data Validation}}\+: As noted in the audit report, the {\ttfamily Regulatory\+Event} model includes {\ttfamily \+\_\+\+\_\+post\+\_\+init\+\_\+\+\_\+} validation for the {\ttfamily impact\+\_\+score} (must be between -\/1 and 1) and the date format (must be ISO 8601). This prevents malformed event data from entering the system.
\item {\bfseries{Unit Testing}}\+: The test suite includes fixtures like {\ttfamily sample\+\_\+regulatory\+\_\+event} in {\ttfamily \doxylink{tests_2conftest_8py}{tests/conftest.\+py}} to create valid event objects for testing. Unit tests in {\ttfamily \doxylink{test__financial__models_8py}{tests/unit/test\+\_\+financial\+\_\+models.\+py}} and {\ttfamily \doxylink{test__asset__graph_8py}{tests/unit/test\+\_\+asset\+\_\+graph.\+py}} verify both the model\textquotesingle{}s validation logic and the graph\textquotesingle{}s ability to correctly build relationships from these events.
\end{DoxyItemize}

Sources\+: \mbox{[}\doxylink{AUDIT__REPORT_8md}{AUDIT\+\_\+\+REPORT.\+md}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1459}{}\doxysubsection{\texorpdfstring{Summary}{Summary}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1459}
The Regulatory Event Integration feature is a key component for adding qualitative depth to the financial asset graph. By modeling external events as nodes and creating directional, weighted relationships, the system can represent how non-\/market activities influence specific assets. This is supported by a robust data model with built-\/in validation and is a core part of the relationship discovery engine.

Sources\+: \mbox{[}README.\+md\mbox{]}(), \mbox{[}\doxylink{CHANGELOG_8md}{CHANGELOG.\+md}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1460}{}\doxysubsection{\texorpdfstring{Data Management and Flow}{Data Management and Flow}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1460}
\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1461}{}\doxysubsubsection{\texorpdfstring{Database Schema}{Database Schema}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1461}


{\bfseries{Relevant source files}}\begin{adjustwidth}{1em}{0em}


The following files were used as context for generating this wiki page\+:


\begin{DoxyItemize}
\item {\ttfamily \doxylink{ARCHITECTURE_8md}{ARCHITECTURE.\+md}}
\item {\ttfamily \doxylink{IMPROVEMENTS_8md}{IMPROVEMENTS.\+md}}
\item {\ttfamily \doxylink{AI__RULES_8md}{AI\+\_\+\+RULES.\+md}}
\item {\ttfamily README.\+md}
\item {\ttfamily \doxylink{SECURITY_8md}{SECURITY.\+md}}
\item {\ttfamily \doxylink{AUDIT__REPORT_8md}{AUDIT\+\_\+\+REPORT.\+md}}
\item {\ttfamily \doxylink{DEPENDENCY__IMPROVEMENTS_8md}{DEPENDENCY\+\_\+\+IMPROVEMENTS.\+md}}
\end{DoxyItemize}

\end{adjustwidth}
\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1462}{}\doxysection{\texorpdfstring{Database Schema}{Database Schema}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1462}
The Financial Asset Relationship Database system is designed to model and visualize complex relationships between various financial assets. The data architecture is evolving from an in-\/memory model to a persistent database system to ensure scalability, data integrity, and support for advanced analytics. This document outlines both the current in-\/memory data models and the planned future database schema.

The core of the data layer is built around Python {\ttfamily dataclasses} which define the structure for assets and their relationships. The future architecture will translate these models into a relational database schema, likely using Postgre\+SQL, and will be accessed via a Repository Pattern to decouple business logic from data storage.

Sources\+: \mbox{[}{\ttfamily \doxylink{AI__RULES_8md}{AI\+\_\+\+RULES.\+md}}\mbox{]}(), \mbox{[}{\ttfamily \doxylink{IMPROVEMENTS_8md}{IMPROVEMENTS.\+md}}\mbox{]}(), \mbox{[}{\ttfamily \doxylink{ARCHITECTURE_8md}{ARCHITECTURE.\+md}}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1463}{}\doxysubsection{\texorpdfstring{Data Models (In-\/\+Memory)}{Data Models (In-\/\+Memory)}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1463}
The application currently relies on a set of well-\/defined Python {\ttfamily dataclasses} to represent financial entities. This approach ensures type safety and clear data definitions for the in-\/memory graph structure. The primary models are defined for different asset classes, all inheriting from a base {\ttfamily Asset} class.

Sources\+: \mbox{[}{\ttfamily \doxylink{AI__RULES_8md}{AI\+\_\+\+RULES.\+md}}\mbox{]}(), \mbox{[}{\ttfamily README.\+md\+:65-\/73}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1464}{}\doxysubsubsection{\texorpdfstring{Model Inheritance Diagram}{Model Inheritance Diagram}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1464}
The following diagram illustrates the inheritance hierarchy of the financial data models.


\begin{DoxyCode}{0}
\DoxyCodeLine{classDiagram}
\DoxyCodeLine{\ \ \ \ direction\ LR}
\DoxyCodeLine{\ \ \ \ class\ Asset\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +str\ id}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +str\ symbol}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +str\ name}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +AssetClass\ asset\_class}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +str\ sector}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +float\ price}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +str\ currency}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +dict\ additional\_fields}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ class\ Equity\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +float\ pe\_ratio}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +float\ dividend\_yield}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ class\ Bond\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +float\ yield}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +float\ duration}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +str\ credit\_rating}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ class\ Commodity\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +str\ contract\_size}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ class\ Currency\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +str\ country}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ class\ RegulatoryEvent\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +str\ event\_type}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +float\ impact\_score}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ Asset\ <|-\/-\/\ Equity}
\DoxyCodeLine{\ \ \ \ Asset\ <|-\/-\/\ Bond}
\DoxyCodeLine{\ \ \ \ Asset\ <|-\/-\/\ Commodity}
\DoxyCodeLine{\ \ \ \ Asset\ <|-\/-\/\ Currency}

\end{DoxyCode}


Sources\+: \mbox{[}{\ttfamily README.\+md\+:65-\/73}\mbox{]}(), \mbox{[}{\ttfamily \doxylink{AI__RULES_8md}{AI\+\_\+\+RULES.\+md}}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1465}{}\doxysubsubsection{\texorpdfstring{Core Asset Models}{Core Asset Models}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1465}
The system supports several asset classes, each with specific attributes.\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1466}{}\doxysubsubsubsection{\texorpdfstring{Asset (Base Class)}{Asset (Base Class)}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1466}
This is the foundational data class from which all specific asset types inherit.

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{3}{|X[-1]}|}
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Field   }&\cellcolor{\tableheadbgcolor}\textbf{ Type   }&\cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-3}
\endfirsthead
\hline
\endfoot
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Field   }&\cellcolor{\tableheadbgcolor}\textbf{ Type   }&\cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-3}
\endhead
{\ttfamily id}   &{\ttfamily str}   &Unique identifier for the asset.    \\\cline{1-3}
{\ttfamily symbol}   &{\ttfamily str}   &The ticker or symbol for the asset.    \\\cline{1-3}
{\ttfamily name}   &{\ttfamily str}   &The full name of the asset.    \\\cline{1-3}
{\ttfamily asset\+\_\+class}   &{\ttfamily \doxylink{classEnum}{Enum}}   &The type of asset (e.\+g., EQUITY, BOND).    \\\cline{1-3}
{\ttfamily sector}   &{\ttfamily str}   &The industry sector the asset belongs to.    \\\cline{1-3}
{\ttfamily price}   &{\ttfamily float}   &The current market price.    \\\cline{1-3}
{\ttfamily currency}   &{\ttfamily str}   &The currency of the price (3-\/letter ISO code).    \\\cline{1-3}
{\ttfamily additional\+\_\+fields}   &{\ttfamily dict}   &A dictionary for any extra attributes.   \\\cline{1-3}
\end{longtabu}


Sources\+: \mbox{[}{\ttfamily README.\+md\+:65-\/73}\mbox{]}(), \mbox{[}{\ttfamily \doxylink{AUDIT__REPORT_8md}{AUDIT\+\_\+\+REPORT.\+md}}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1467}{}\doxysubsubsubsection{\texorpdfstring{Other Asset Types}{Other Asset Types}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1467}

\begin{DoxyItemize}
\item {\bfseries{Equity}}\+: Represents stocks and includes fields like {\ttfamily pe\+\_\+ratio} and {\ttfamily dividend\+\_\+yield}.
\item {\bfseries{Bond}}\+: Represents fixed-\/income securities with fields like {\ttfamily yield}, {\ttfamily duration}, and {\ttfamily credit\+\_\+rating}.
\item {\bfseries{Commodity}}\+: Represents physical goods or raw materials.
\item {\bfseries{Currency}}\+: Represents foreign exchange pairs.
\item {\bfseries{Regulatory Events}}\+: Models corporate events like SEC filings or M\&A activities that can impact assets. It includes an {\ttfamily impact\+\_\+score} from -\/1 to +1.
\end{DoxyItemize}

Sources\+: \mbox{[}{\ttfamily README.\+md\+:65-\/73}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1468}{}\doxysubsection{\texorpdfstring{Planned Database Architecture}{Planned Database Architecture}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1468}
To support data persistence, real-\/time updates, and advanced analytics, the project architecture is planned to incorporate a relational database. The recommended approach involves using a {\bfseries{Repository Pattern}} to abstract data access and a {\bfseries{Service Layer}} for business logic.

Sources\+: \mbox{[}{\ttfamily \doxylink{IMPROVEMENTS_8md}{IMPROVEMENTS.\+md}}\mbox{]}(), \mbox{[}{\ttfamily \doxylink{AUDIT__REPORT_8md}{AUDIT\+\_\+\+REPORT.\+md}}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1469}{}\doxysubsubsection{\texorpdfstring{Architectural Layers}{Architectural Layers}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1469}
This diagram shows the proposed layers for interacting with the database.


\begin{DoxyCode}{0}
\DoxyCodeLine{graph\ TD}
\DoxyCodeLine{\ \ \ \ A[API\ Layer\ /\ UI]\ -\/-\/>\ B[Service\ Layer];}
\DoxyCodeLine{\ \ \ \ B\ -\/-\/>\ C[Repository\ Interface];}
\DoxyCodeLine{\ \ \ \ C\ -\/-\/>\ D[PostgresRepository];}
\DoxyCodeLine{\ \ \ \ D\ -\/-\/>\ E[PostgreSQL\ Database];}
\DoxyCodeLine{\ \ \ \ C\ -\/-\/>\ F[InMemoryRepository];}
\DoxyCodeLine{\ \ \ \ F\ -\/-\/>\ G[In-\/Memory\ Graph];}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ subgraph\ "{}Business\ Logic"{}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ B}
\DoxyCodeLine{\ \ \ \ end}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ subgraph\ "{}Data\ Access\ Abstraction"{}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ C}
\DoxyCodeLine{\ \ \ \ end}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ subgraph\ "{}Data\ Access\ Implementation"{}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ D}
\DoxyCodeLine{\ \ \ \ \ \ \ \ F}
\DoxyCodeLine{\ \ \ \ end}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ subgraph\ "{}Data\ Storage"{}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ E}
\DoxyCodeLine{\ \ \ \ \ \ \ \ G}
\DoxyCodeLine{\ \ \ \ end}

\end{DoxyCode}


This architecture allows the application to switch between an in-\/memory store and a persistent Postgre\+SQL database by simply changing the repository implementation injected into the service layer.

Sources\+: \mbox{[}{\ttfamily \doxylink{IMPROVEMENTS_8md}{IMPROVEMENTS.\+md}}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1470}{}\doxysubsubsection{\texorpdfstring{Proposed Entity-\/\+Relationship Diagram (ERD)}{Proposed Entity-\/\+Relationship Diagram (ERD)}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1470}
The following ERD represents a possible database schema based on the existing in-\/memory data models. It includes tables for assets, their specific attributes, and the relationships between them.


\begin{DoxyCode}{0}
\DoxyCodeLine{erDiagram}
\DoxyCodeLine{\ \ \ \ ASSET\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ varchar(255)\ id\ PK}
\DoxyCodeLine{\ \ \ \ \ \ \ \ varchar(255)\ symbol}
\DoxyCodeLine{\ \ \ \ \ \ \ \ varchar(255)\ name}
\DoxyCodeLine{\ \ \ \ \ \ \ \ varchar(50)\ asset\_class}
\DoxyCodeLine{\ \ \ \ \ \ \ \ varchar(100)\ sector}
\DoxyCodeLine{\ \ \ \ \ \ \ \ decimal\ price}
\DoxyCodeLine{\ \ \ \ \ \ \ \ varchar(3)\ currency}
\DoxyCodeLine{\ \ \ \ \ \ \ \ jsonb\ additional\_fields}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ EQUITY\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ varchar(255)\ asset\_id\ PK,\ FK}
\DoxyCodeLine{\ \ \ \ \ \ \ \ decimal\ pe\_ratio}
\DoxyCodeLine{\ \ \ \ \ \ \ \ decimal\ dividend\_yield}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ BOND\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ varchar(255)\ asset\_id\ PK,\ FK}
\DoxyCodeLine{\ \ \ \ \ \ \ \ decimal\ yield}
\DoxyCodeLine{\ \ \ \ \ \ \ \ decimal\ duration}
\DoxyCodeLine{\ \ \ \ \ \ \ \ varchar(10)\ credit\_rating}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ REGULATORY\_EVENT\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ varchar(255)\ id\ PK}
\DoxyCodeLine{\ \ \ \ \ \ \ \ varchar(255)\ event\_type}
\DoxyCodeLine{\ \ \ \ \ \ \ \ text\ description}
\DoxyCodeLine{\ \ \ \ \ \ \ \ date\ event\_date}
\DoxyCodeLine{\ \ \ \ \ \ \ \ decimal\ impact\_score}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ ASSET\_RELATIONSHIP\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ varchar(255)\ source\_asset\_id\ PK,\ FK}
\DoxyCodeLine{\ \ \ \ \ \ \ \ varchar(255)\ target\_asset\_id\ PK,\ FK}
\DoxyCodeLine{\ \ \ \ \ \ \ \ varchar(100)\ relationship\_type\ PK}
\DoxyCodeLine{\ \ \ \ \ \ \ \ decimal\ strength}
\DoxyCodeLine{\ \ \ \ \ \ \ \ boolean\ is\_directional}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ EVENT\_ASSET\_LINK\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ varchar(255)\ event\_id\ PK,\ FK}
\DoxyCodeLine{\ \ \ \ \ \ \ \ varchar(255)\ asset\_id\ PK,\ FK}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ ASSET\ ||-\/-\/o\{\ EQUITY\ :\ "{}is\ a"{}}
\DoxyCodeLine{\ \ \ \ ASSET\ ||-\/-\/o\{\ BOND\ :\ "{}is\ a"{}}
\DoxyCodeLine{\ \ \ \ ASSET\ ||-\/-\/o\{\ ASSET\_RELATIONSHIP\ :\ "{}has\ source"{}}
\DoxyCodeLine{\ \ \ \ ASSET\ ||-\/-\/o\{\ ASSET\_RELATIONSHIP\ :\ "{}has\ target"{}}
\DoxyCodeLine{\ \ \ \ REGULATORY\_EVENT\ ||-\/-\/|\{\ EVENT\_ASSET\_LINK\ :\ "{}affects"{}}
\DoxyCodeLine{\ \ \ \ ASSET\ ||-\/-\/|\{\ EVENT\_ASSET\_LINK\ :\ "{}is\ affected\ by"{}}

\end{DoxyCode}


This schema normalizes asset-\/specific data into separate tables ({\ttfamily EQUITY}, {\ttfamily BOND}) linked back to the main {\ttfamily ASSET} table. Relationships are stored in a dedicated {\ttfamily ASSET\+\_\+\+RELATIONSHIP} table.

Sources\+: \mbox{[}{\ttfamily README.\+md\+:65-\/73}\mbox{]}(), \mbox{[}{\ttfamily \doxylink{IMPROVEMENTS_8md}{IMPROVEMENTS.\+md}}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1471}{}\doxysubsection{\texorpdfstring{Database Security}{Database Security}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1471}
When implementing the database, several security best practices are recommended to protect sensitive financial data.

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{2}{|X[-1]}|}
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Practice   }&\cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-2}
\endfirsthead
\hline
\endfoot
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Practice   }&\cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-2}
\endhead
{\bfseries{Parameterized Queries}}   &Use parameterized queries or ORMs to prevent SQL injection attacks.    \\\cline{1-2}
{\bfseries{Secrets Management}}   &Store database credentials securely using environment variables or a secrets manager (e.\+g., AWS Secrets Manager, Azure Key Vault), not in code.    \\\cline{1-2}
{\bfseries{Connection Pooling}}   &Use connection pooling to manage database connections efficiently and securely.    \\\cline{1-2}
{\bfseries{Encryption}}   &Enable encryption at rest for stored data and encryption in transit (TLS/\+SSL) for data moving between the application and the database.    \\\cline{1-2}
{\bfseries{Role-\/\+Based Access}}   &Configure specific database user roles with the minimum required permissions.    \\\cline{1-2}
{\bfseries{Audit Logging}}   &Enable audit logging on the database to track access and changes to data.   \\\cline{1-2}
\end{longtabu}


Sources\+: \mbox{[}{\ttfamily \doxylink{SECURITY_8md}{SECURITY.\+md}}\mbox{]}(), \mbox{[}{\ttfamily \doxylink{DEPENDENCY__IMPROVEMENTS_8md}{DEPENDENCY\+\_\+\+IMPROVEMENTS.\+md}}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1472}{}\doxysubsubsection{\texorpdfstring{Example\+: Secure Query}{Example\+: Secure Query}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1472}
The following code snippet illustrates the use of parameterized queries to prevent SQL injection.


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{comment}{\#\ GOOD\ -\/\ Use\ parameterized\ queries}}
\DoxyCodeLine{\textcolor{keyword}{from}\ sqlalchemy\ \textcolor{keyword}{import}\ text}
\DoxyCodeLine{query\ =\ text(\textcolor{stringliteral}{"{}SELECT\ *\ FROM\ assets\ WHERE\ id\ =\ :asset\_id"{}})}
\DoxyCodeLine{result\ =\ session.execute(query,\ \{\textcolor{stringliteral}{"{}asset\_id"{}}:\ asset\_id\})}

\end{DoxyCode}


Sources\+: \mbox{[}{\ttfamily \doxylink{SECURITY_8md}{SECURITY.\+md}}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1473}{}\doxysubsection{\texorpdfstring{Conclusion}{Conclusion}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1473}
The project\textquotesingle{}s data architecture is strategically designed for evolution. It starts with a flexible, in-\/memory {\ttfamily dataclass}-\/based model that is ideal for rapid development and visualization. The clear and well-\/documented plan to migrate to a persistent Postgre\+SQL database using a repository pattern ensures that the system can scale to handle larger datasets, support more complex queries, and provide a robust foundation for future features like real-\/time analytics and machine learning integration. Adherence to security best practices during this transition will be critical for protecting data integrity.\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1474}{}\doxysubsubsection{\texorpdfstring{Data Repository Pattern}{Data Repository Pattern}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1474}


{\bfseries{Relevant source files}}\begin{adjustwidth}{1em}{0em}


The following files were used as context for generating this wiki page\+:


\begin{DoxyItemize}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/IMPROVEMENTS.md}{\texttt{ IMPROVEMENTS.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/README.md}{\texttt{ README.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/TESTING_GUIDE.md}{\texttt{ TESTING\+\_\+\+GUIDE.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/CONTRIBUTING.md}{\texttt{ CONTRIBUTING.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/AI_RULES.md}{\texttt{ AI\+\_\+\+RULES.\+md}}
\end{DoxyItemize}\end{adjustwidth}
\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1475}{}\doxysection{\texorpdfstring{Data Repository Pattern}{Data Repository Pattern}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1475}
The Data Repository Pattern is a recommended architectural improvement for the Financial Asset Relationship Database project. Its purpose is to abstract the data access layer from the core business logic. This decouples the application from a specific data storage implementation, enhances testability, and prepares the system for future enhancements like database persistence.

Currently, the project\textquotesingle{}s data management is tightly coupled with the business logic inside the {\ttfamily \doxylink{classAssetRelationshipGraph}{Asset\+Relationship\+Graph}} class. The proposed pattern introduces a dedicated {\ttfamily Asset\+Repository} to handle all data operations, creating a more scalable and maintainable layered architecture.

Sources\+: \mbox{[}\doxylink{IMPROVEMENTS_8md}{IMPROVEMENTS.\+md}\+:123-\/135\mbox{]}(), \mbox{[}README.\+md\+:65-\/68\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1476}{}\doxysubsection{\texorpdfstring{Current Data Management Architecture}{Current Data Management Architecture}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1476}
In the existing architecture, the {\ttfamily \doxylink{classAssetRelationshipGraph}{Asset\+Relationship\+Graph}} class serves as both the core logic engine and an in-\/memory data store. The API layer (Fast\+API) or UI layer (Gradio) interacts directly with this class to manage assets and relationships.

Sources\+: \mbox{[}README.\+md\+:65-\/68\mbox{]}(), \mbox{[}\doxylink{TESTING__GUIDE_8md}{TESTING\+\_\+\+GUIDE.\+md}\+:38-\/46\mbox{]}()

The diagram below illustrates the current tightly-\/coupled data flow.


\begin{DoxyCode}{0}
\DoxyCodeLine{graph\ TD}
\DoxyCodeLine{\ \ \ \ subgraph\ API/UI\ Layer}
\DoxyCodeLine{\ \ \ \ \ \ \ \ A[FastAPI\ Endpoints]}
\DoxyCodeLine{\ \ \ \ \ \ \ \ B[Gradio\ Interface]}
\DoxyCodeLine{\ \ \ \ end}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ subgraph\ Core\ Logic}
\DoxyCodeLine{\ \ \ \ \ \ \ \ C[AssetRelationshipGraph]}
\DoxyCodeLine{\ \ \ \ end}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ subgraph\ In-\/Memory\ Storage}
\DoxyCodeLine{\ \ \ \ \ \ \ \ D\{Assets\ \&\ Relationships\}}
\DoxyCodeLine{\ \ \ \ end}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ A\ -\/-\/>\ C}
\DoxyCodeLine{\ \ \ \ B\ -\/-\/>\ C}
\DoxyCodeLine{\ \ \ \ C\ -\/-\/\ Manages\ -\/-\/>\ D}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ style\ C\ fill:\#f9f,stroke:\#333,stroke-\/width:2px}

\end{DoxyCode}


{\itshape Diagram showing the API/\+UI layers directly calling {\ttfamily \doxylink{classAssetRelationshipGraph}{Asset\+Relationship\+Graph}}, which manages in-\/memory data.}

Sources\+: \mbox{[}README.\+md\+:65-\/68\mbox{]}(), \mbox{[}\doxylink{TESTING__GUIDE_8md}{TESTING\+\_\+\+GUIDE.\+md}\+:38-\/46\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1477}{}\doxysubsection{\texorpdfstring{Proposed Repository Pattern Architecture}{Proposed Repository Pattern Architecture}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1477}
The {\ttfamily \doxylink{IMPROVEMENTS_8md}{IMPROVEMENTS.\+md}} document recommends refactoring the architecture to introduce a formal Repository Pattern. This involves creating a dedicated repository layer that sits between the business logic (Service Layer) and the data source.

Sources\+: \mbox{[}\doxylink{IMPROVEMENTS_8md}{IMPROVEMENTS.\+md}\+:123-\/125\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1478}{}\doxysubsubsection{\texorpdfstring{Key Components}{Key Components}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1478}
The proposed architecture consists of three main components\+:

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{3}{|X[-1]}|}
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Component   }&\cellcolor{\tableheadbgcolor}\textbf{ Description   }&\cellcolor{\tableheadbgcolor}\textbf{ Source File    }\\\cline{1-3}
\endfirsthead
\hline
\endfoot
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Component   }&\cellcolor{\tableheadbgcolor}\textbf{ Description   }&\cellcolor{\tableheadbgcolor}\textbf{ Source File    }\\\cline{1-3}
\endhead
{\bfseries{Asset\+Repository}}   &An interface or class that defines data access methods like {\ttfamily get\+\_\+by\+\_\+id}, {\ttfamily get\+\_\+all}, and {\ttfamily save}. It abstracts the underlying data storage mechanism.   &{\ttfamily \doxylink{IMPROVEMENTS_8md}{IMPROVEMENTS.\+md}}    \\\cline{1-3}
{\bfseries{Asset\+Service}}   &A business logic layer that consumes the {\ttfamily Asset\+Repository}. It contains the core application logic, such as calculating portfolio risk, without knowing how data is stored.   &{\ttfamily \doxylink{IMPROVEMENTS_8md}{IMPROVEMENTS.\+md}}    \\\cline{1-3}
{\bfseries{Dependency Injection}}   &A mechanism to provide the {\ttfamily Asset\+Service} with a concrete implementation of the {\ttfamily Asset\+Repository}, facilitating easier testing and decoupling.   &{\ttfamily \doxylink{IMPROVEMENTS_8md}{IMPROVEMENTS.\+md}}   \\\cline{1-3}
\end{longtabu}


Sources\+: \mbox{[}\doxylink{IMPROVEMENTS_8md}{IMPROVEMENTS.\+md}\+:123-\/150\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1479}{}\doxysubsubsection{\texorpdfstring{Proposed Data Flow}{Proposed Data Flow}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1479}
The new data flow would be layered, promoting a clean separation of concerns.


\begin{DoxyCode}{0}
\DoxyCodeLine{flowchart\ TD}
\DoxyCodeLine{\ \ \ \ A[API\ Layer]\ -\/-\/>\ B[Service\ Layer\ (e.g.,\ AssetService)]}
\DoxyCodeLine{\ \ \ \ B\ -\/-\/>\ C[Repository\ Interface\ (e.g.,\ AssetRepository)]}
\DoxyCodeLine{\ \ \ \ C\ -\/-\/>\ D[Data\ Source\ (In-\/Memory\ or\ DB)]}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ subgraph\ "{}Business\ Logic"{}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ B}
\DoxyCodeLine{\ \ \ \ end}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ subgraph\ "{}Data\ Access\ Layer"{}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ C}
\DoxyCodeLine{\ \ \ \ end}

\end{DoxyCode}


{\itshape Diagram illustrating the proposed layered architecture where the API interacts with a Service Layer, which in turn uses a Repository to access data.}

Sources\+: \mbox{[}\doxylink{IMPROVEMENTS_8md}{IMPROVEMENTS.\+md}\+:123-\/150\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1480}{}\doxysubsubsection{\texorpdfstring{{\ttfamily Asset\+Repository} Interface}{{\ttfamily Asset\+Repository} Interface}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1480}
The {\ttfamily \doxylink{IMPROVEMENTS_8md}{IMPROVEMENTS.\+md}} document suggests the following structure for the {\ttfamily Asset\+Repository}. This interface defines the contract for all data access operations related to assets.


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{comment}{\#\ Proposed\ in:\ src/repositories/asset\_repository.py}}
\DoxyCodeLine{\textcolor{keyword}{class\ }AssetRepository:}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{def\ }get\_by\_id(self,\ asset\_id:\ str)\ -\/>\ Optional[Asset]:}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{pass}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{def\ }get\_all(self)\ -\/>\ List[Asset]:}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{pass}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{def\ }save(self,\ asset:\ Asset)\ -\/>\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{pass}}

\end{DoxyCode}


{\itshape Source\+: \mbox{[}\doxylink{IMPROVEMENTS_8md}{IMPROVEMENTS.\+md}\+:126-\/135\mbox{]}()}

The following class diagram shows the proposed {\ttfamily Asset\+Repository} and its relationship with the {\ttfamily Asset} model.


\begin{DoxyCode}{0}
\DoxyCodeLine{classDiagram}
\DoxyCodeLine{\ \ \ \ class\ AssetRepository\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ <<Interface>>}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +get\_by\_id(asset\_id:\ str)\ Optional[Asset]}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +get\_all()\ List[Asset]}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +save(asset:\ Asset)\ None}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ class\ Asset\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +id:\ str}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +symbol:\ str}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +name:\ str}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ AssetRepository\ ..>\ Asset\ :\ "{}manages"{}}

\end{DoxyCode}


{\itshape Class diagram for the proposed {\ttfamily Asset\+Repository} interface.}

Sources\+: \mbox{[}\doxylink{IMPROVEMENTS_8md}{IMPROVEMENTS.\+md}\+:126-\/135\mbox{]}(), \mbox{[}\doxylink{AI__RULES_8md}{AI\+\_\+\+RULES.\+md}\+:12-\/13\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1481}{}\doxysubsection{\texorpdfstring{Integration with a Service Layer}{Integration with a Service Layer}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1481}
The repository is designed to be consumed by a service layer, which will house the business logic currently in {\ttfamily \doxylink{classAssetRelationshipGraph}{Asset\+Relationship\+Graph}}. The {\ttfamily \doxylink{IMPROVEMENTS_8md}{IMPROVEMENTS.\+md}} document provides an example of an {\ttfamily Asset\+Service} that uses dependency injection to receive a repository instance.


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{comment}{\#\ Proposed\ in:\ src/services/asset\_service.py}}
\DoxyCodeLine{\textcolor{keyword}{class\ }AssetService:}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{def\ }\_\_init\_\_(self,\ repository:\ AssetRepository):}
\DoxyCodeLine{\ \ \ \ \ \ \ \ self.repository\ =\ repository}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{def\ }calculate\_portfolio\_risk(self,\ assets:\ List[Asset])\ -\/>\ float:}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Business\ logic\ here}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{pass}}

\end{DoxyCode}


{\itshape Source\+: \mbox{[}\doxylink{IMPROVEMENTS_8md}{IMPROVEMENTS.\+md}\+:139-\/147\mbox{]}()}\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1482}{}\doxysubsubsection{\texorpdfstring{Sequence of Operations}{Sequence of Operations}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1482}
This sequence diagram shows how a request to fetch an asset would flow through the proposed architecture.


\begin{DoxyCode}{0}
\DoxyCodeLine{sequenceDiagram}
\DoxyCodeLine{\ \ \ \ participant\ API\ as\ "{}API\ Endpoint"{}}
\DoxyCodeLine{\ \ \ \ participant\ Service\ as\ "{}AssetService"{}}
\DoxyCodeLine{\ \ \ \ participant\ Repo\ as\ "{}AssetRepository"{}}
\DoxyCodeLine{\ \ \ \ participant\ DS\ as\ "{}Data\ Source"{}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ API-\/>>Service:\ get\_asset\_details("{}AAPL"{})}
\DoxyCodeLine{\ \ \ \ activate\ Service}
\DoxyCodeLine{\ \ \ \ Service-\/>>Repo:\ get\_by\_id("{}AAPL"{})}
\DoxyCodeLine{\ \ \ \ activate\ Repo}
\DoxyCodeLine{\ \ \ \ Repo-\/>>DS:\ Retrieve\ asset\ data\ for\ "{}AAPL"{}}
\DoxyCodeLine{\ \ \ \ DS-\/-\/>>Repo:\ Asset\ data}
\DoxyCodeLine{\ \ \ \ Repo-\/-\/>>Service:\ Asset\ object}
\DoxyCodeLine{\ \ \ \ deactivate\ Repo}
\DoxyCodeLine{\ \ \ \ Service-\/-\/>>API:\ Asset\ JSON\ response}
\DoxyCodeLine{\ \ \ \ deactivate\ Service}

\end{DoxyCode}


{\itshape Sequence diagram showing an API request being handled by the Service, which uses the Repository to fetch data.}

Sources\+: \mbox{[}\doxylink{IMPROVEMENTS_8md}{IMPROVEMENTS.\+md}\+:123-\/150\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1483}{}\doxysubsection{\texorpdfstring{Benefits of Adopting the Repository Pattern}{Benefits of Adopting the Repository Pattern}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1483}
Implementing this pattern offers several advantages for the project\textquotesingle{}s long-\/term health and scalability\+:


\begin{DoxyItemize}
\item {\bfseries{Separation of Concerns}}\+: Isolates data access logic from business logic, making the code easier to understand and maintain.
\item {\bfseries{Improved Testability}}\+: Business logic can be tested independently of the data layer by mocking the repository interface. This is a key part of the project\textquotesingle{}s testing strategy.
\item {\bfseries{Data Source Agnosticism}}\+: The underlying data storage can be changed (e.\+g., from in-\/memory to a SQL database like Postgre\+SQL) without affecting the business logic, as long as the new data source class implements the {\ttfamily Asset\+Repository} interface.
\item {\bfseries{Enables Persistence}}\+: It is a prerequisite for adding a persistent data storage layer, a suggested future feature.
\end{DoxyItemize}

Sources\+: \mbox{[}\doxylink{IMPROVEMENTS_8md}{IMPROVEMENTS.\+md}\+:123-\/125, 148-\/150\mbox{]}(), \mbox{[}\doxylink{TESTING__GUIDE_8md}{TESTING\+\_\+\+GUIDE.\+md}\+:19-\/25\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1484}{}\doxysubsection{\texorpdfstring{Conclusion}{Conclusion}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1484}
The Data Repository Pattern is a strategic architectural improvement recommended for the {\ttfamily financial-\/asset-\/relationship-\/db} project. By transitioning from the current monolithic {\ttfamily \doxylink{classAssetRelationshipGraph}{Asset\+Relationship\+Graph}} to a layered architecture with a dedicated {\ttfamily Asset\+Repository} and {\ttfamily Asset\+Service}, the project will become more modular, testable, and prepared for future features like database persistence. This change aligns with modern software design principles and is crucial for the application\textquotesingle{}s evolution.

Sources\+: \mbox{[}\doxylink{IMPROVEMENTS_8md}{IMPROVEMENTS.\+md}\mbox{]}(), \mbox{[}README.\+md\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1485}{}\doxysubsubsection{\texorpdfstring{Real Data Fetching}{Real Data Fetching}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1485}


{\bfseries{Relevant source files}}\begin{adjustwidth}{1em}{0em}


The following files were used as context for generating this wiki page\+:


\begin{DoxyItemize}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/src/data/real_data_fetcher.py}{\texttt{ src/data/real\+\_\+data\+\_\+fetcher.\+py}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/AI_RULES.md}{\texttt{ AI\+\_\+\+RULES.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/INTEGRATION_SUMMARY.md}{\texttt{ INTEGRATION\+\_\+\+SUMMARY.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/IMPROVEMENTS.md}{\texttt{ IMPROVEMENTS.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/CHANGELOG.md}{\texttt{ CHANGELOG.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/README.md}{\texttt{ README.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/ARCHITECTURE.md}{\texttt{ ARCHITECTURE.\+md}}
\end{DoxyItemize}\end{adjustwidth}
\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1486}{}\doxysection{\texorpdfstring{Real Data Fetching}{Real Data Fetching}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1486}
The Real Data Fetching module is responsible for acquiring live and historical financial market data from external sources. Its primary function is to populate the application\textquotesingle{}s financial models with real-\/world data, which is essential for both the 3D visualization and the underlying analysis. This functionality is a core component of the system, supporting both the original Gradio interface and the newer Fast\+API/\+Next.\+js architecture.

The system is standardized to use the {\ttfamily yfinance} library for all public financial market data acquisition, ensuring a consistent and reliable data source. This module acts as the bridge between the external Yahoo Finance API and the application\textquotesingle{}s internal logic.

Sources\+: \mbox{[}\doxylink{AI__RULES_8md}{AI\+\_\+\+RULES.\+md}\mbox{]}(), \mbox{[}\doxylink{CHANGELOG_8md}{CHANGELOG.\+md}\mbox{]}(), \mbox{[}\doxylink{INTEGRATION__SUMMARY_8md}{INTEGRATION\+\_\+\+SUMMARY.\+md}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1487}{}\doxysubsection{\texorpdfstring{Core Technology}{Core Technology}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1487}
The project mandates the use of a specific library for financial data acquisition to ensure consistency and maintainability.\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1488}{}\doxysubsubsection{\texorpdfstring{yfinance Library}{yfinance Library}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1488}
The {\ttfamily yfinance} library is the sole approved tool for retrieving public financial market data, including stock prices, company information, and news. This rule prevents the implementation of custom web scrapers or the use of other external financial APIs unless explicitly approved.

Sources\+: \mbox{[}\doxylink{AI__RULES_8md}{AI\+\_\+\+RULES.\+md}\mbox{]}(), \mbox{[}README.\+md\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1489}{}\doxysubsection{\texorpdfstring{Architecture and Data Flow}{Architecture and Data Flow}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1489}
The data fetching mechanism is centralized within the {\ttfamily src/data/} directory and is called by higher-\/level application layers like the API backend.

This diagram illustrates the data flow from the API layer to the external data source.


\begin{DoxyCode}{0}
\DoxyCodeLine{flowchart\ TD}
\DoxyCodeLine{\ \ \ \ A[API\ Layer\ /\ App\ Logic]\ -\/-\/>\ B[real\_data\_fetcher.py];}
\DoxyCodeLine{\ \ \ \ B\ -\/-\/>\ C\{yfinance\ Library\};}
\DoxyCodeLine{\ \ \ \ C\ -\/-\/>\ D[(Yahoo\ Finance\ API)];}
\DoxyCodeLine{\ \ \ \ D\ -\/-\/>>\ C;}
\DoxyCodeLine{\ \ \ \ C\ -\/-\/>>\ B;}
\DoxyCodeLine{\ \ \ \ B\ -\/-\/>>\ A[Returns\ Populated\ Asset\ Models];}

\end{DoxyCode}


Sources\+: \mbox{[}\doxylink{ARCHITECTURE_8md}{ARCHITECTURE.\+md}\mbox{]}(), \mbox{[}\doxylink{AI__RULES_8md}{AI\+\_\+\+RULES.\+md}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1490}{}\doxysubsubsection{\texorpdfstring{Sequence of Operations}{Sequence of Operations}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1490}
The sequence diagram below shows how the Fast\+API backend interacts with the data fetching module to retrieve asset information.


\begin{DoxyCode}{0}
\DoxyCodeLine{sequenceDiagram}
\DoxyCodeLine{\ \ \ \ participant\ Next\_js\ as\ "{}Next.js\ Frontend"{}}
\DoxyCodeLine{\ \ \ \ participant\ FastAPI\ as\ "{}FastAPI\ Backend"{}}
\DoxyCodeLine{\ \ \ \ participant\ Fetcher\ as\ "{}real\_data\_fetcher.py"{}}
\DoxyCodeLine{\ \ \ \ participant\ YFinance\ as\ "{}yfinance\ Library"{}}
\DoxyCodeLine{\ \ \ \ participant\ YahooAPI\ as\ "{}Yahoo\ Finance\ API"{}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ Next\_js-\/>>FastAPI:\ GET\ /api/assets}
\DoxyCodeLine{\ \ \ \ activate\ FastAPI}
\DoxyCodeLine{\ \ \ \ Note\ over\ FastAPI:\ Uses\ real\ data\ from\ real\_data\_fetcher.py}
\DoxyCodeLine{\ \ \ \ FastAPI-\/>>Fetcher:\ fetch\_data()}
\DoxyCodeLine{\ \ \ \ activate\ Fetcher}
\DoxyCodeLine{\ \ \ \ Fetcher-\/>>YFinance:\ Ticker(symbol).info}
\DoxyCodeLine{\ \ \ \ activate\ YFinance}
\DoxyCodeLine{\ \ \ \ YFinance-\/>>YahooAPI:\ HTTP\ GET\ Request}
\DoxyCodeLine{\ \ \ \ YahooAPI-\/-\/>>YFinance:\ JSON\ Response}
\DoxyCodeLine{\ \ \ \ YFinance-\/-\/>>Fetcher:\ Data\ Dictionary}
\DoxyCodeLine{\ \ \ \ deactivate\ YFinance}
\DoxyCodeLine{\ \ \ \ Fetcher-\/-\/>>FastAPI:\ Populated\ Asset\ Objects}
\DoxyCodeLine{\ \ \ \ deactivate\ Fetcher}
\DoxyCodeLine{\ \ \ \ FastAPI-\/-\/>>Next\_js:\ JSON\ Response\ with\ Asset\ Data}
\DoxyCodeLine{\ \ \ \ deactivate\ FastAPI}

\end{DoxyCode}


This flow demonstrates the clear separation of concerns, where the API layer delegates data acquisition to the specialized fetcher module.

Sources\+: \mbox{[}\doxylink{INTEGRATION__SUMMARY_8md}{INTEGRATION\+\_\+\+SUMMARY.\+md}\mbox{]}(), \mbox{[}\doxylink{IMPROVEMENTS_8md}{IMPROVEMENTS.\+md}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1491}{}\doxysubsection{\texorpdfstring{System Integration}{System Integration}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1491}
The real data fetching capability is integrated into multiple parts of the application.\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1492}{}\doxysubsubsection{\texorpdfstring{Fast\+API Backend}{Fast\+API Backend}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1492}
The Fast\+API backend, located in {\ttfamily \doxylink{api_2main_8py}{api/main.\+py}}, utilizes {\ttfamily \doxylink{real__data__fetcher_8py}{src/data/real\+\_\+data\+\_\+fetcher.\+py}} to serve real-\/time data to the Next.\+js frontend. This is a key part of the modern web interface, allowing it to display up-\/to-\/date financial information in the asset explorer and visualizations.

Sources\+: \mbox{[}\doxylink{INTEGRATION__SUMMARY_8md}{INTEGRATION\+\_\+\+SUMMARY.\+md}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1493}{}\doxysubsubsection{\texorpdfstring{Gradio Application}{Gradio Application}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1493}
The initial version of the application, built with Gradio, also relies on {\ttfamily yfinance} for real-\/time data fetching to power its interactive visualizations and analytics dashboard. This was a feature from the first major release.

Sources\+: \mbox{[}\doxylink{CHANGELOG_8md}{CHANGELOG.\+md}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1494}{}\doxysubsection{\texorpdfstring{Error Handling and Improvements}{Error Handling and Improvements}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1494}
The {\ttfamily \doxylink{IMPROVEMENTS_8md}{IMPROVEMENTS.\+md}} document highlights an area for enhancement within the {\ttfamily \doxylink{real__data__fetcher_8py}{real\+\_\+data\+\_\+fetcher.\+py}} module concerning its error handling strategy.\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1495}{}\doxysubsubsection{\texorpdfstring{Broad Exception Handling}{Broad Exception Handling}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1495}
The current implementation in {\ttfamily \doxylink{real__data__fetcher_8py}{real\+\_\+data\+\_\+fetcher.\+py}} uses broad {\ttfamily except Exception} clauses. This pattern is discouraged because it can catch unexpected exceptions, making debugging more difficult.

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{2}{|X[-1]}|}
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Current (Discouraged)   }&\cellcolor{\tableheadbgcolor}\textbf{ Recommended    }\\\cline{1-2}
\endfirsthead
\hline
\endfoot
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Current (Discouraged)   }&\cellcolor{\tableheadbgcolor}\textbf{ Recommended    }\\\cline{1-2}
\endhead
Catches all exceptions, including system-\/level ones.   &Catches specific, expected exceptions like {\ttfamily Value\+Error} or {\ttfamily Connection\+Error}.    \\\cline{1-2}
Can hide bugs by catching errors that should have been propagated.   &Allows unexpected errors to propagate for easier debugging.    \\\cline{1-2}
Makes it hard to distinguish between different error types (e.\+g., data vs. network).   &Provides distinct handling for different error scenarios.   \\\cline{1-2}
\end{longtabu}


{\bfseries{Recommendation\+:}} Refactor the {\ttfamily try...except} blocks to catch more specific exceptions first, with a final {\ttfamily except Exception} to log and re-\/raise any truly unexpected errors.


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{comment}{\#\ Instead\ of:}}
\DoxyCodeLine{\textcolor{keywordflow}{try}:}
\DoxyCodeLine{\ \ \ \ data\ =\ fetch\_data()}
\DoxyCodeLine{\textcolor{keywordflow}{except}\ Exception\ \textcolor{keyword}{as}\ e:}
\DoxyCodeLine{\ \ \ \ logger.error(f\textcolor{stringliteral}{"{}Error:\ \{e\}"{}})}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{\#\ Use\ specific\ exceptions:}}
\DoxyCodeLine{\textcolor{keywordflow}{try}:}
\DoxyCodeLine{\ \ \ \ data\ =\ fetch\_data()}
\DoxyCodeLine{\textcolor{keywordflow}{except}\ (ValueError,\ KeyError,\ TypeError)\ \textcolor{keyword}{as}\ e:}
\DoxyCodeLine{\ \ \ \ logger.error(f\textcolor{stringliteral}{"{}Data\ error:\ \{e\}"{}})}
\DoxyCodeLine{\textcolor{keywordflow}{except}\ ConnectionError\ \textcolor{keyword}{as}\ e:}
\DoxyCodeLine{\ \ \ \ logger.error(f\textcolor{stringliteral}{"{}Network\ error:\ \{e\}"{}})}
\DoxyCodeLine{\textcolor{keywordflow}{except}\ Exception\ \textcolor{keyword}{as}\ e:}
\DoxyCodeLine{\ \ \ \ logger.exception(f\textcolor{stringliteral}{"{}Unexpected\ error:\ \{e\}"{}})}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{raise}\ \ \textcolor{comment}{\#\ Re-\/raise\ unexpected\ errors}}

\end{DoxyCode}


Sources\+: \mbox{[}\doxylink{IMPROVEMENTS_8md}{IMPROVEMENTS.\+md}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1496}{}\doxysubsection{\texorpdfstring{Conclusion}{Conclusion}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1496}
The Real Data Fetching module is a critical, standardized component for sourcing live financial data using the {\ttfamily yfinance} library. It serves as the data backbone for both the original Gradio application and the newer Fast\+API/\+Next.\+js stack. While functionally complete, its robustness can be improved by refining its error-\/handling logic to be more specific, as outlined in the project\textquotesingle{}s improvement recommendations.\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1497}{}\doxysubsubsection{\texorpdfstring{Sample Data Generation}{Sample Data Generation}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1497}


{\bfseries{Relevant source files}}\begin{adjustwidth}{1em}{0em}


The following files were used as context for generating this wiki page\+:


\begin{DoxyItemize}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/src/data/sample_data.py}{\texttt{ src/data/sample\+\_\+data.\+py}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/README.md}{\texttt{ README.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/CONTRIBUTING.md}{\texttt{ CONTRIBUTING.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/AUDIT_REPORT.md}{\texttt{ AUDIT\+\_\+\+REPORT.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/AI_RULES.md}{\texttt{ AI\+\_\+\+RULES.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/IMPROVEMENTS.md}{\texttt{ IMPROVEMENTS.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/SUMMARY.md}{\texttt{ SUMMARY.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/TESTING_GUIDE.md}{\texttt{ TESTING\+\_\+\+GUIDE.\+md}}
\end{DoxyItemize}\end{adjustwidth}
\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1498}{}\doxysection{\texorpdfstring{Sample Data Generation}{Sample Data Generation}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1498}
The sample data generation module is a core component responsible for creating a static, in-\/memory dataset of financial assets and regulatory events. Its primary purpose is to allow the application to run and demonstrate its visualization capabilities without requiring live data fetching, making it essential for development, testing, and quick demonstrations.

This module, primarily located in {\ttfamily \doxylink{sample__data_8py}{src/data/sample\+\_\+data.\+py}}, populates the system with a variety of asset classes, including equities, bonds, commodities, and currencies. This pre-\/defined dataset ensures a consistent and reproducible state for the application\textquotesingle{}s 3D network graph, as the visualization\textquotesingle{}s layout is deterministic.

Sources\+: \mbox{[}README.\+md\mbox{]}(), \mbox{[}\doxylink{CONTRIBUTING_8md}{CONTRIBUTING.\+md}\mbox{]}(), \mbox{[}\doxylink{AUDIT__REPORT_8md}{AUDIT\+\_\+\+REPORT.\+md}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1499}{}\doxysubsection{\texorpdfstring{Architecture and Generation Flow}{Architecture and Generation Flow}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1499}
The sample data generation process is straightforward. A central function orchestrates the creation of various asset objects and collects them into a list. This process is deterministic, partly due to the use of a fixed random seed for any operations involving randomness, ensuring the 3D graph layout remains consistent across application runs.

Sources\+: \mbox{[}\doxylink{AUDIT__REPORT_8md}{AUDIT\+\_\+\+REPORT.\+md}\mbox{]}(), \mbox{[}\doxylink{IMPROVEMENTS_8md}{IMPROVEMENTS.\+md}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1500}{}\doxysubsubsection{\texorpdfstring{Core Function}{Core Function}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1500}
The main entry point for data generation is the {\ttfamily create\+\_\+sample\+\_\+assets()} function (inferred name). This function instantiates hardcoded {\ttfamily dataclasses} for each asset and returns them as a list to be consumed by other parts of the application, such as the {\ttfamily \doxylink{classAssetRelationshipGraph}{Asset\+Relationship\+Graph}}.

Sources\+: \mbox{[}README.\+md\mbox{]}(), \mbox{[}\doxylink{CONTRIBUTING_8md}{CONTRIBUTING.\+md}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1501}{}\doxysubsubsection{\texorpdfstring{Generation Process Flow}{Generation Process Flow}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1501}
The following diagram illustrates the logical flow of creating the sample dataset.


\begin{DoxyCode}{0}
\DoxyCodeLine{flowchart\ TD}
\DoxyCodeLine{\ \ \ \ A[Start:\ create\_sample\_assets()]\ -\/-\/>\ B\{Initialize\ empty\ asset\ list\};}
\DoxyCodeLine{\ \ \ \ B\ -\/-\/>\ C[Create\ Equity\ objects];}
\DoxyCodeLine{\ \ \ \ C\ -\/-\/>\ D[Create\ Bond\ objects];}
\DoxyCodeLine{\ \ \ \ D\ -\/-\/>\ E[Create\ Commodity\ objects];}
\DoxyCodeLine{\ \ \ \ E\ -\/-\/>\ F[Create\ Currency\ objects];}
\DoxyCodeLine{\ \ \ \ F\ -\/-\/>\ G[Create\ Regulatory\ Event\ objects];}
\DoxyCodeLine{\ \ \ \ subgraph\ Asset\ Creation}
\DoxyCodeLine{\ \ \ \ \ \ \ \ C}
\DoxyCodeLine{\ \ \ \ \ \ \ \ D}
\DoxyCodeLine{\ \ \ \ \ \ \ \ E}
\DoxyCodeLine{\ \ \ \ \ \ \ \ F}
\DoxyCodeLine{\ \ \ \ \ \ \ \ G}
\DoxyCodeLine{\ \ \ \ end}
\DoxyCodeLine{\ \ \ \ G\ -\/-\/>\ H\{Append\ all\ objects\ to\ list\};}
\DoxyCodeLine{\ \ \ \ H\ -\/-\/>\ I[Return\ list\ of\ Assets];}
\DoxyCodeLine{\ \ \ \ I\ -\/-\/>\ J[End];}

\end{DoxyCode}


This diagram shows the sequential creation of different asset types, which are then aggregated and returned.

Sources\+: \mbox{[}README.\+md\mbox{]}(), \mbox{[}\doxylink{AI__RULES_8md}{AI\+\_\+\+RULES.\+md}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1502}{}\doxysubsection{\texorpdfstring{Data Models}{Data Models}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1502}
The sample data generation relies on a set of well-\/defined data models defined in {\ttfamily \doxylink{financial__models_8py}{src/models/financial\+\_\+models.\+py}}. These models are implemented using Python\textquotesingle{}s {\ttfamily dataclasses} and {\ttfamily enum} modules to ensure type safety, clarity, and maintainability. The core model is a base {\ttfamily Asset} class from which specific asset types inherit.

Sources\+: \mbox{[}\doxylink{AI__RULES_8md}{AI\+\_\+\+RULES.\+md}\mbox{]}(), \mbox{[}\doxylink{AUDIT__REPORT_8md}{AUDIT\+\_\+\+REPORT.\+md}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1503}{}\doxysubsubsection{\texorpdfstring{Asset Class Hierarchy}{Asset Class Hierarchy}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1503}
The system uses a clear inheritance hierarchy for its financial models. This structure allows for both shared attributes and specialized fields for each asset class.


\begin{DoxyCode}{0}
\DoxyCodeLine{classDiagram}
\DoxyCodeLine{\ \ \ \ direction\ LR}
\DoxyCodeLine{\ \ \ \ class\ Asset\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +id:\ str}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +symbol:\ str}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +name:\ str}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +asset\_class:\ AssetClass}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +price:\ float}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +currency:\ str}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +sector:\ str}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ class\ Equity\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +pe\_ratio:\ float}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +dividend\_yield:\ float}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ class\ Bond\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +yield:\ float}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +duration:\ float}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +credit\_rating:\ str}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ class\ Commodity\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +contract\_size:\ str}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ class\ Currency\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +country:\ str}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ class\ RegulatoryEvent\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +event\_type:\ RegulatoryActivity}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +impact\_score:\ float}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ Asset\ <|-\/-\/\ Equity}
\DoxyCodeLine{\ \ \ \ Asset\ <|-\/-\/\ Bond}
\DoxyCodeLine{\ \ \ \ Asset\ <|-\/-\/\ Commodity}
\DoxyCodeLine{\ \ \ \ Asset\ <|-\/-\/\ Currency}
\DoxyCodeLine{\ \ \ \ Asset\ <|-\/-\/\ RegulatoryEvent}

\end{DoxyCode}


This diagram shows the base {\ttfamily Asset} class and the specialized classes for {\ttfamily Equity}, {\ttfamily Bond}, {\ttfamily Commodity}, {\ttfamily Currency}, and {\ttfamily Regulatory\+Event}.

Sources\+: \mbox{[}\doxylink{AUDIT__REPORT_8md}{AUDIT\+\_\+\+REPORT.\+md}\mbox{]}(), \mbox{[}\doxylink{AI__RULES_8md}{AI\+\_\+\+RULES.\+md}\mbox{]}(), \mbox{[}README.\+md\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1504}{}\doxysubsubsection{\texorpdfstring{Enumerations}{Enumerations}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1504}
To enforce a fixed set of choices for categories, the system uses {\ttfamily enum}.

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{2}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ \doxylink{classEnum}{Enum} Name   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Purpose    }\\\cline{1-2}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ \doxylink{classEnum}{Enum} Name   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Purpose    }\\\cline{1-2}
\endhead
{\ttfamily Asset\+Class}   &Defines the major types of assets (e.\+g., EQUITY, BOND).    \\\cline{1-2}
{\ttfamily Regulatory\+Activity}   &Defines the types of regulatory events (e.\+g., EARNINGS, SEC\+\_\+\+FILING).   \\\cline{1-2}
\end{longtabu}


Sources\+: \mbox{[}\doxylink{AI__RULES_8md}{AI\+\_\+\+RULES.\+md}\mbox{]}(), \mbox{[}\doxylink{AUDIT__REPORT_8md}{AUDIT\+\_\+\+REPORT.\+md}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1505}{}\doxysubsection{\texorpdfstring{Generated Asset Types}{Generated Asset Types}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1505}
The {\ttfamily \doxylink{sample__data_8py}{sample\+\_\+data.\+py}} module creates instances for all supported asset classes. The hardcoded values provide a rich and interconnected dataset for visualization.

Sources\+: \mbox{[}README.\+md\mbox{]}(), \mbox{[}\doxylink{IMPROVEMENTS_8md}{IMPROVEMENTS.\+md}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1506}{}\doxysubsubsection{\texorpdfstring{Equities}{Equities}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1506}
Sample stocks are created with financial metrics like P/E ratio and dividend yield.

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{3}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Symbol   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Name   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Sector    }\\\cline{1-3}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Symbol   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Name   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Sector    }\\\cline{1-3}
\endhead
AAPL   &Apple Inc.   &Technology    \\\cline{1-3}
MSFT   &Microsoft Corp.   &Technology    \\\cline{1-3}
JPM   &JPMorgan Chase \& Co.   &Financials    \\\cline{1-3}
XOM   &Exxon Mobil Corp.   &Energy   \\\cline{1-3}
\end{longtabu}


Sources\+: \mbox{[}README.\+md\mbox{]}(), \mbox{[}\doxylink{TESTING__GUIDE_8md}{TESTING\+\_\+\+GUIDE.\+md}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1507}{}\doxysubsubsection{\texorpdfstring{Bonds}{Bonds}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1507}
Corporate bonds are included, often linked to the equities of the issuing company.

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{3}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Symbol   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Name   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Issuer    }\\\cline{1-3}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Symbol   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Name   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Issuer    }\\\cline{1-3}
\endhead
AAPL25   &Apple 2.\+4\% 2025   &Apple Inc.    \\\cline{1-3}
MSFT30   &Microsoft 3.\+1\% 2030   &Microsoft Corp.   \\\cline{1-3}
\end{longtabu}


Sources\+: \mbox{[}README.\+md\mbox{]}(), \mbox{[}\doxylink{TESTING__GUIDE_8md}{TESTING\+\_\+\+GUIDE.\+md}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1508}{}\doxysubsubsection{\texorpdfstring{Other Asset Classes}{Other Asset Classes}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1508}
The sample dataset also includes\+:


\begin{DoxyItemize}
\item {\bfseries{Commodities}}\+: Such as Gold (GC=F) and Crude Oil (CL=F).
\item {\bfseries{Currencies}}\+: FX pairs like EUR/\+USD and GBP/\+USD.
\item {\bfseries{Regulatory Events}}\+: SEC filings or earnings reports linked to specific assets.
\end{DoxyItemize}

Sources\+: \mbox{[}README.\+md\mbox{]}(), \mbox{[}\doxylink{AUDIT__REPORT_8md}{AUDIT\+\_\+\+REPORT.\+md}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1509}{}\doxysubsection{\texorpdfstring{Usage in the Application}{Usage in the Application}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1509}
The data generated by this module is fundamental to the application\textquotesingle{}s ability to display a graph upon startup. The main application file ({\ttfamily \doxylink{app_8py}{app.\+py}} or {\ttfamily \doxylink{api_2main_8py}{api/main.\+py}}) fetches this data and uses it to initialize the {\ttfamily \doxylink{classAssetRelationshipGraph}{Asset\+Relationship\+Graph}}.

Sources\+: \mbox{[}README.\+md\mbox{]}(), \mbox{[}\doxylink{CONTRIBUTING_8md}{CONTRIBUTING.\+md}\mbox{]}(), \mbox{[}\doxylink{TESTING__GUIDE_8md}{TESTING\+\_\+\+GUIDE.\+md}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1510}{}\doxysubsubsection{\texorpdfstring{Data Flow on Application Start}{Data Flow on Application Start}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1510}
This sequence diagram shows how the sample data is loaded and processed when the application starts.


\begin{DoxyCode}{0}
\DoxyCodeLine{sequenceDiagram}
\DoxyCodeLine{\ \ \ \ participant\ User}
\DoxyCodeLine{\ \ \ \ participant\ App\ as\ "{}Application\ (app.py/api.main.py)"{}}
\DoxyCodeLine{\ \ \ \ participant\ SampleData\ as\ "{}sample\_data.py"{}}
\DoxyCodeLine{\ \ \ \ participant\ AssetGraph\ as\ "{}AssetRelationshipGraph"{}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ User-\/>>App:\ Starts\ Application}
\DoxyCodeLine{\ \ \ \ activate\ App}
\DoxyCodeLine{\ \ \ \ App-\/>>SampleData:\ create\_sample\_assets()}
\DoxyCodeLine{\ \ \ \ activate\ SampleData}
\DoxyCodeLine{\ \ \ \ SampleData-\/-\/>>App:\ Returns\ list\ of\ Asset\ objects}
\DoxyCodeLine{\ \ \ \ deactivate\ SampleData}
\DoxyCodeLine{\ \ \ \ App-\/>>AssetGraph:\ new\ AssetRelationshipGraph()}
\DoxyCodeLine{\ \ \ \ activate\ AssetGraph}
\DoxyCodeLine{\ \ \ \ deactivate\ AssetGraph}
\DoxyCodeLine{\ \ \ \ App-\/>>AssetGraph:\ add\_asset()\ for\ each\ asset}
\DoxyCodeLine{\ \ \ \ App-\/>>AssetGraph:\ build\_relationships()}
\DoxyCodeLine{\ \ \ \ App-\/>>AssetGraph:\ get\_3d\_visualization\_data()}
\DoxyCodeLine{\ \ \ \ activate\ AssetGraph}
\DoxyCodeLine{\ \ \ \ AssetGraph-\/-\/>>App:\ Returns\ visualization\ data}
\DoxyCodeLine{\ \ \ \ deactivate\ AssetGraph}
\DoxyCodeLine{\ \ \ \ App-\/-\/>>User:\ Renders\ 3D\ Graph}
\DoxyCodeLine{\ \ \ \ deactivate\ App}

\end{DoxyCode}


This flow demonstrates the critical role of {\ttfamily \doxylink{sample__data_8py}{sample\+\_\+data.\+py}} in bootstrapping the application\textquotesingle{}s primary feature.

Sources\+: \mbox{[}README.\+md\mbox{]}(), \mbox{[}\doxylink{CONTRIBUTING_8md}{CONTRIBUTING.\+md}\mbox{]}(), \mbox{[}\doxylink{TEST__SUMMARY_8md}{TEST\+\_\+\+SUMMARY.\+md}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1511}{}\doxysubsection{\texorpdfstring{Role in Testing}{Role in Testing}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1511}
The sample data provides a reliable and consistent baseline for the project\textquotesingle{}s comprehensive test suite. Test fixtures, defined in {\ttfamily \doxylink{tests_2conftest_8py}{tests/conftest.\+py}}, are heavily inspired by or are direct subsets of the data generated in {\ttfamily \doxylink{sample__data_8py}{sample\+\_\+data.\+py}}. These fixtures are then used across unit and integration tests to validate the behavior of the {\ttfamily \doxylink{classAssetRelationshipGraph}{Asset\+Relationship\+Graph}}, API endpoints, and data models.

For example, tests for relationship discovery in {\ttfamily \doxylink{test__asset__graph_8py}{tests/unit/test\+\_\+asset\+\_\+graph.\+py}} use fixtures representing sample equities and bonds to assert that the correct relationships are created. This ensures that the core logic of the application is sound and behaves as expected with a known dataset.

Sources\+: \mbox{[}\doxylink{SUMMARY_8md}{SUMMARY.\+md}\mbox{]}(), \mbox{[}\doxylink{AUDIT__REPORT_8md}{AUDIT\+\_\+\+REPORT.\+md}\mbox{]}(), \mbox{[}\doxylink{TESTING__GUIDE_8md}{TESTING\+\_\+\+GUIDE.\+md}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1512}{}\doxysubsection{\texorpdfstring{Conclusion}{Conclusion}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1512}
The sample data generation module is a cornerstone of the {\ttfamily financial-\/asset-\/relationship-\/db} project. It provides a self-\/contained, deterministic, and representative dataset that enables immediate visualization and robust testing. By decoupling the application\textquotesingle{}s core logic from live data sources, it enhances developer productivity, ensures consistent demonstrations, and provides a stable foundation for the entire test suite.\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1513}{}\doxysubsection{\texorpdfstring{Backend Systems}{Backend Systems}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1513}
\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1514}{}\doxysubsubsection{\texorpdfstring{Fast\+API API Reference}{Fast\+API API Reference}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1514}


{\bfseries{Relevant source files}}\begin{adjustwidth}{1em}{0em}


The following files were used as context for generating this wiki page\+:


\begin{DoxyItemize}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/api/main.py}{\texttt{ api/main.\+py}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/tests/unit/test_api_main.py}{\texttt{ tests/unit/test\+\_\+api\+\_\+main.\+py}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/INTEGRATION_SUMMARY.md}{\texttt{ INTEGRATION\+\_\+\+SUMMARY.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/ARCHITECTURE.md}{\texttt{ ARCHITECTURE.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/DEPLOYMENT.md}{\texttt{ DEPLOYMENT.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/QUICK_START.md}{\texttt{ QUICK\+\_\+\+START.\+md}}
\end{DoxyItemize}

\end{adjustwidth}
\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1515}{}\doxysection{\texorpdfstring{Fast\+API API Reference}{Fast\+API API Reference}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1515}
The Fast\+API backend serves as the primary data provider for the modern Next.\+js frontend. Its main purpose is to expose the functionalities of the core {\ttfamily \doxylink{classAssetRelationshipGraph}{Asset\+Relationship\+Graph}} logic through a high-\/performance, RESTful API. The API handles requests for asset data, relationship information, network metrics, and visualization data, returning it in a structured JSON format.

This API is designed to be run as a serverless function on platforms like Vercel, working in tandem with the Next.\+js application. It includes automatic Open\+API documentation, which can be accessed at the {\ttfamily /docs} endpoint during local development.

{\itshape Sources\+: \mbox{[}\doxylink{INTEGRATION__SUMMARY_8md}{INTEGRATION\+\_\+\+SUMMARY.\+md}\mbox{]}(), \mbox{[}\doxylink{ARCHITECTURE_8md}{ARCHITECTURE.\+md}\mbox{]}(), \mbox{[}\doxylink{QUICK__START_8md}{QUICK\+\_\+\+START.\+md}\mbox{]}()}\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1516}{}\doxysubsection{\texorpdfstring{Architecture}{Architecture}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1516}
The API is built using the Fast\+API framework and runs on a Uvicorn ASGI server. It acts as a wrapper around the existing Python business logic, primarily interacting with a singleton instance of the {\ttfamily \doxylink{classAssetRelationshipGraph}{Asset\+Relationship\+Graph}} class. This design separates the web-\/serving layer from the core data processing engine.

{\itshape Sources\+: \mbox{[}\doxylink{ARCHITECTURE_8md}{ARCHITECTURE.\+md}\mbox{]}(), \mbox{[}\doxylink{api_2main_8py}{api/main.\+py}\+:18-\/24\mbox{]}()}

The following diagram illustrates the high-\/level architecture and data flow from the user to the core logic via the Fast\+API layer.


\begin{DoxyCode}{0}
\DoxyCodeLine{graph\ TD}
\DoxyCodeLine{\ \ \ \ subgraph\ User\_Interface}
\DoxyCodeLine{\ \ \ \ \ \ \ \ A[Next.js\ Frontend]}
\DoxyCodeLine{\ \ \ \ end}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ subgraph\ API\_Layer}
\DoxyCodeLine{\ \ \ \ \ \ \ \ B[FastAPI\ Backend]}
\DoxyCodeLine{\ \ \ \ end}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ subgraph\ Core\_Logic}
\DoxyCodeLine{\ \ \ \ \ \ \ \ C[AssetRelationshipGraph]}
\DoxyCodeLine{\ \ \ \ \ \ \ \ D[Data\ Sources\ e.g.,\ yfinance]}
\DoxyCodeLine{\ \ \ \ end}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ A\ -\/-\/\ "{}REST\ API\ Calls"{}\ -\/-\/>\ B}
\DoxyCodeLine{\ \ \ \ B\ -\/-\/\ "{}Function\ Calls"{}\ -\/-\/>\ C}
\DoxyCodeLine{\ \ \ \ C\ -\/-\/\ "{}Fetches\ Data"{}\ -\/-\/>\ D}

\end{DoxyCode}


{\itshape Sources\+: \mbox{[}\doxylink{ARCHITECTURE_8md}{ARCHITECTURE.\+md}\mbox{]}(), \mbox{[}\doxylink{INTEGRATION__SUMMARY_8md}{INTEGRATION\+\_\+\+SUMMARY.\+md}\mbox{]}()}\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1517}{}\doxysubsubsection{\texorpdfstring{Core Logic Integration}{Core Logic Integration}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1517}
To ensure efficiency and maintain state, the API uses a thread-\/safe singleton pattern to manage the {\ttfamily \doxylink{classAssetRelationshipGraph}{Asset\+Relationship\+Graph}} instance. The graph is initialized only once on the first request and is then reused for all subsequent calls. This avoids the costly process of re-\/fetching and rebuilding the graph for every API hit.

A {\ttfamily threading.\+Lock} is used to prevent race conditions during the initial creation of the graph, making it safe for concurrent requests.

{\itshape Sources\+: \mbox{[}\doxylink{api_2main_8py}{api/main.\+py}\+:31-\/48\mbox{]}(), \mbox{[}\doxylink{test__api__main_8py}{tests/unit/test\+\_\+api\+\_\+main.\+py}\+:70-\/93\mbox{]}()}

This diagram shows the logic for initializing the singleton graph instance.


\begin{DoxyCode}{0}
\DoxyCodeLine{flowchart\ TD}
\DoxyCodeLine{\ \ \ \ A[Request\ Received]\ -\/-\/>\ B\{graph\ is\ None?\};}
\DoxyCodeLine{\ \ \ \ B\ -\/-\/\ Yes\ -\/-\/>\ C\{Acquire\ Lock\};}
\DoxyCodeLine{\ \ \ \ C\ -\/-\/>\ D\{graph\ is\ None?\};}
\DoxyCodeLine{\ \ \ \ D\ -\/-\/\ Yes\ -\/-\/>\ E[Initialize\ AssetRelationshipGraph];}
\DoxyCodeLine{\ \ \ \ E\ -\/-\/>\ F[Set\ global\ graph\ instance];}
\DoxyCodeLine{\ \ \ \ F\ -\/-\/>\ G[Release\ Lock];}
\DoxyCodeLine{\ \ \ \ D\ -\/-\/\ No\ -\/-\/>\ G;}
\DoxyCodeLine{\ \ \ \ B\ -\/-\/\ No\ -\/-\/>\ H[Return\ Existing\ Graph];}
\DoxyCodeLine{\ \ \ \ G\ -\/-\/>\ H;}
\DoxyCodeLine{\ \ \ \ H\ -\/-\/>\ I[Process\ Request];}

\end{DoxyCode}


{\itshape Sources\+: \mbox{[}\doxylink{api_2main_8py}{api/main.\+py}\+:31-\/48\mbox{]}()}\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1518}{}\doxysubsubsection{\texorpdfstring{CORS Configuration}{CORS Configuration}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1518}
The API is configured with CORS (Cross-\/\+Origin Resource Sharing) middleware to allow requests from the Next.\+js frontend, which runs on a different port during local development ({\ttfamily \href{http://localhost:3000}{\texttt{ http\+://localhost\+:3000}}}) and on Vercel deployment domains ({\ttfamily \href{https://}{\texttt{ https\+://}}\texorpdfstring{$\ast$}{*}.vercel.\+app}).

{\itshape Sources\+: \mbox{[}\doxylink{api_2main_8py}{api/main.\+py}\+:220-\/229\mbox{]}(), \mbox{[}\doxylink{DEPLOYMENT_8md}{DEPLOYMENT.\+md}\mbox{]}()}\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1519}{}\doxysubsection{\texorpdfstring{API Endpoints}{API Endpoints}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1519}
The API is available under the {\ttfamily /api/} prefix.

{\itshape Sources\+: \mbox{[}\doxylink{api_2main_8py}{api/main.\+py}\mbox{]}(), \mbox{[}\doxylink{DEPLOYMENT_8md}{DEPLOYMENT.\+md}\mbox{]}(), \mbox{[}\doxylink{INTEGRATION__SUMMARY_8md}{INTEGRATION\+\_\+\+SUMMARY.\+md}\mbox{]}()}\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1520}{}\doxysubsubsection{\texorpdfstring{Health \& Metadata}{Health \& Metadata}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1520}
\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1521}{}\doxysubsubsubsection{\texorpdfstring{{\ttfamily GET /api/health}}{{\ttfamily GET /api/health}}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1521}
Returns the operational status of the API.


\begin{DoxyItemize}
\item {\bfseries{Response\+:}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ "{}status"{}:\ "{}healthy"{},}
\DoxyCodeLine{\ \ "{}graph\_initialized"{}:\ true}
\DoxyCodeLine{\}}

\end{DoxyCode}
 {\itshape Sources\+: \mbox{[}\doxylink{api_2main_8py}{api/main.\+py}\+:100-\/106\mbox{]}(), \mbox{[}\doxylink{test__api__main_8py}{tests/unit/test\+\_\+api\+\_\+main.\+py}\+:130-\/135\mbox{]}()}
\end{DoxyItemize}\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1522}{}\doxysubsubsubsection{\texorpdfstring{{\ttfamily GET /api/asset-\/classes}}{{\ttfamily GET /api/asset-\/classes}}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1522}
Returns a list of all available asset classes.


\begin{DoxyItemize}
\item {\bfseries{Response\+:}}
\begin{DoxyCode}{0}
\DoxyCodeLine{["{}EQUITY"{},\ "{}BOND"{},\ "{}COMMODITY"{},\ "{}CURRENCY"{}]}

\end{DoxyCode}
 {\itshape Sources\+: \mbox{[}\doxylink{api_2main_8py}{api/main.\+py}\+:189-\/194\mbox{]}(), \mbox{[}\doxylink{test__api__main_8py}{tests/unit/test\+\_\+api\+\_\+main.\+py}\+:302-\/307\mbox{]}()}
\end{DoxyItemize}\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1523}{}\doxysubsubsubsection{\texorpdfstring{{\ttfamily GET /api/sectors}}{{\ttfamily GET /api/sectors}}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1523}
Returns a list of all unique sectors available in the asset graph.


\begin{DoxyItemize}
\item {\bfseries{Response\+:}}
\begin{DoxyCode}{0}
\DoxyCodeLine{["{}Technology"{},\ "{}Financial\ Services"{},\ "{}Consumer\ Cyclical"{}]}

\end{DoxyCode}
 {\itshape Sources\+: \mbox{[}\doxylink{api_2main_8py}{api/main.\+py}\+:197-\/202\mbox{]}(), \mbox{[}\doxylink{test__api__main_8py}{tests/unit/test\+\_\+api\+\_\+main.\+py}\+:309-\/314\mbox{]}()}
\end{DoxyItemize}\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1524}{}\doxysubsubsection{\texorpdfstring{Assets}{Assets}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1524}
\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1525}{}\doxysubsubsubsection{\texorpdfstring{{\ttfamily GET /api/assets}}{{\ttfamily GET /api/assets}}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1525}
Retrieves a list of all assets, with optional filtering.

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{3}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Parameter   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Type   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-3}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Parameter   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Type   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-3}
\endhead
{\ttfamily asset\+\_\+class}   &{\ttfamily str}   &(Optional) Filter assets by a specific asset class (e.\+g., {\ttfamily EQUITY}).    \\\cline{1-3}
{\ttfamily sector}   &{\ttfamily str}   &(Optional) Filter assets by a specific sector (e.\+g., {\ttfamily Technology}).   \\\cline{1-3}
\end{longtabu}



\begin{DoxyItemize}
\item {\bfseries{Response\+:}} An array of {\ttfamily Asset\+Response} objects. {\itshape Sources\+: \mbox{[}\doxylink{api_2main_8py}{api/main.\+py}\+:110-\/129\mbox{]}(), \mbox{[}\doxylink{test__api__main_8py}{tests/unit/test\+\_\+api\+\_\+main.\+py}\+:151-\/189\mbox{]}()}
\end{DoxyItemize}\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1526}{}\doxysubsubsubsection{\texorpdfstring{{\ttfamily GET /api/assets/\{asset\+\_\+id\}}}{{\ttfamily GET /api/assets/\{asset\+\_\+id\}}}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1526}
Retrieves detailed information for a single asset by its ID.


\begin{DoxyItemize}
\item {\bfseries{Response\+:}} A single {\ttfamily Asset\+Response} object or a 404 error if not found. {\itshape Sources\+: \mbox{[}\doxylink{api_2main_8py}{api/main.\+py}\+:132-\/143\mbox{]}(), \mbox{[}\doxylink{test__api__main_8py}{tests/unit/test\+\_\+api\+\_\+main.\+py}\+:191-\/203\mbox{]}()}
\end{DoxyItemize}\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1527}{}\doxysubsubsubsection{\texorpdfstring{{\ttfamily GET /api/assets/\{asset\+\_\+id\}/relationships}}{{\ttfamily GET /api/assets/\{asset\+\_\+id\}/relationships}}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1527}
Retrieves all relationships for a specific asset.


\begin{DoxyItemize}
\item {\bfseries{Response\+:}} An array of {\ttfamily Relationship\+Response} objects. {\itshape Sources\+: \mbox{[}\doxylink{api_2main_8py}{api/main.\+py}\+:146-\/157\mbox{]}(), \mbox{[}\doxylink{test__api__main_8py}{tests/unit/test\+\_\+api\+\_\+main.\+py}\+:221-\/233\mbox{]}()}
\end{DoxyItemize}\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1528}{}\doxysubsubsection{\texorpdfstring{Relationships}{Relationships}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1528}
\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1529}{}\doxysubsubsubsection{\texorpdfstring{{\ttfamily GET /api/relationships}}{{\ttfamily GET /api/relationships}}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1529}
Retrieves all relationships in the graph.


\begin{DoxyItemize}
\item {\bfseries{Response\+:}} An array of {\ttfamily Relationship\+Response} objects. {\itshape Sources\+: \mbox{[}\doxylink{api_2main_8py}{api/main.\+py}\+:160-\/166\mbox{]}(), \mbox{[}\doxylink{test__api__main_8py}{tests/unit/test\+\_\+api\+\_\+main.\+py}\+:235-\/241\mbox{]}()}
\end{DoxyItemize}\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1530}{}\doxysubsubsection{\texorpdfstring{Metrics \& Visualization}{Metrics \& Visualization}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1530}
\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1531}{}\doxysubsubsubsection{\texorpdfstring{{\ttfamily GET /api/metrics}}{{\ttfamily GET /api/metrics}}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1531}
Calculates and returns key metrics about the network graph.


\begin{DoxyItemize}
\item {\bfseries{Response\+:}} A {\ttfamily Metrics\+Response} object. {\itshape Sources\+: \mbox{[}\doxylink{api_2main_8py}{api/main.\+py}\+:169-\/175\mbox{]}(), \mbox{[}\doxylink{test__api__main_8py}{tests/unit/test\+\_\+api\+\_\+main.\+py}\+:243-\/256\mbox{]}()}
\end{DoxyItemize}\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1532}{}\doxysubsubsubsection{\texorpdfstring{{\ttfamily GET /api/visualization}}{{\ttfamily GET /api/visualization}}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1532}
Returns the data required for the frontend to render the 3D network graph.


\begin{DoxyItemize}
\item {\bfseries{Response\+:}} A {\ttfamily Visualization\+Data\+Response} object containing nodes and edges. {\itshape Sources\+: \mbox{[}\doxylink{api_2main_8py}{api/main.\+py}\+:178-\/186\mbox{]}(), \mbox{[}\doxylink{test__api__main_8py}{tests/unit/test\+\_\+api\+\_\+main.\+py}\+:258-\/279\mbox{]}()}
\end{DoxyItemize}

The following sequence diagram shows a typical request to the visualization endpoint.


\begin{DoxyCode}{0}
\DoxyCodeLine{sequenceDiagram}
\DoxyCodeLine{\ \ \ \ participant\ Client\ as\ "{}Next.js\ Frontend"{}}
\DoxyCodeLine{\ \ \ \ participant\ API\ as\ "{}FastAPI\ Backend"{}}
\DoxyCodeLine{\ \ \ \ participant\ Graph\ as\ "{}AssetRelationshipGraph"{}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ Client-\/>>API:\ GET\ /api/visualization}
\DoxyCodeLine{\ \ \ \ API-\/>>Graph:\ get\_graph()}
\DoxyCodeLine{\ \ \ \ Note\ right\ of\ API:\ Get\ singleton\ instance}
\DoxyCodeLine{\ \ \ \ Graph-\/-\/>>API:\ graph\_instance}
\DoxyCodeLine{\ \ \ \ API-\/>>Graph:\ get\_3d\_visualization\_data()}
\DoxyCodeLine{\ \ \ \ Graph-\/-\/>>API:\ \{nodes:\ [...],\ links:\ [...]\}}
\DoxyCodeLine{\ \ \ \ API-\/-\/>>Client:\ 200\ OK\ with\ JSON\ payload}

\end{DoxyCode}


{\itshape Sources\+: \mbox{[}\doxylink{api_2main_8py}{api/main.\+py}\+:178-\/186\mbox{]}(), \mbox{[}\doxylink{ARCHITECTURE_8md}{ARCHITECTURE.\+md}\mbox{]}()}\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1533}{}\doxysubsection{\texorpdfstring{Data Models}{Data Models}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1533}
The API uses Pydantic models to define and validate the structure of JSON responses.

{\itshape Sources\+: \mbox{[}\doxylink{api_2main_8py}{api/main.\+py}\+:51-\/97\mbox{]}(), \mbox{[}\doxylink{test__api__main_8py}{tests/unit/test\+\_\+api\+\_\+main.\+py}\+:95-\/128\mbox{]}()}


\begin{DoxyCode}{0}
\DoxyCodeLine{classDiagram}
\DoxyCodeLine{\ \ \ \ class\ AssetResponse\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +str\ id}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +str\ symbol}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +str\ name}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +str\ asset\_class}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +str\ sector}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +str\ currency}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +float\ price}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +float\ market\_cap}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +dict\ additional\_fields}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ class\ RelationshipResponse\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +str\ source}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +str\ target}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +str\ relationship\_type}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +float\ strength}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ class\ MetricsResponse\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +int\ total\_assets}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +int\ total\_relationships}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +float\ network\_density}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +float\ average\_degree}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +int\ max\_degree}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +dict\ asset\_class\_distribution}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ class\ VisualizationNode\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +str\ id}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +str\ name}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +str\ asset\_class}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +str\ sector}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +float\ val}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +list\string~float\string~\ x,\ y,\ z}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ class\ VisualizationLink\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +str\ source}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +str\ target}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +str\ type}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +float\ strength}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ class\ VisualizationDataResponse\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +list\string~VisualizationNode\string~\ nodes}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +list\string~VisualizationLink\string~\ links}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ AssetResponse\ "{}1"{}\ -\/-\/\ "{}0..*"{}\ RelationshipResponse\ :\ (source/target)}
\DoxyCodeLine{\ \ \ \ MetricsResponse\ ..>\ AssetResponse\ :\ (counts)}
\DoxyCodeLine{\ \ \ \ VisualizationDataResponse\ o-\/-\/\ "{}many"{}\ VisualizationNode}
\DoxyCodeLine{\ \ \ \ VisualizationDataResponse\ o-\/-\/\ "{}many"{}\ VisualizationLink}
\DoxyCodeLine{\ \ \ \ VisualizationNode\ ..>\ AssetResponse\ :\ (derived\ from)}
\DoxyCodeLine{\ \ \ \ VisualizationLink\ ..>\ RelationshipResponse\ :\ (derived\ from)}

\end{DoxyCode}


{\itshape Sources\+: \mbox{[}\doxylink{api_2main_8py}{api/main.\+py}\+:51-\/97\mbox{]}()}\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1534}{}\doxysubsubsection{\texorpdfstring{Asset\+Response}{Asset\+Response}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1534}
\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{3}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Field   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Type   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-3}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Field   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Type   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-3}
\endhead
{\ttfamily id}   &{\ttfamily str}   &Unique identifier for the asset.    \\\cline{1-3}
{\ttfamily symbol}   &{\ttfamily str}   &Ticker symbol or identifier.    \\\cline{1-3}
{\ttfamily name}   &{\ttfamily str}   &Full name of the asset.    \\\cline{1-3}
{\ttfamily asset\+\_\+class}   &{\ttfamily str}   &The class of the asset (e.\+g., {\ttfamily EQUITY}).    \\\cline{1-3}
{\ttfamily sector}   &{\ttfamily str}   &The industry sector.    \\\cline{1-3}
{\ttfamily currency}   &{\ttfamily str}   &The currency of the asset price.    \\\cline{1-3}
{\ttfamily price}   &{\ttfamily float}   &The current price.    \\\cline{1-3}
{\ttfamily market\+\_\+cap}   &{\ttfamily float}   &The market capitalization.    \\\cline{1-3}
{\ttfamily additional\+\_\+fields}   &{\ttfamily dict}   &A dictionary of asset-\/specific fields.   \\\cline{1-3}
\end{longtabu}


{\itshape Sources\+: \mbox{[}\doxylink{api_2main_8py}{api/main.\+py}\+:52-\/63\mbox{]}()}\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1535}{}\doxysubsubsection{\texorpdfstring{Metrics\+Response}{Metrics\+Response}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1535}
\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{3}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Field   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Type   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-3}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Field   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Type   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-3}
\endhead
{\ttfamily total\+\_\+assets}   &{\ttfamily int}   &Total number of assets in the graph.    \\\cline{1-3}
{\ttfamily total\+\_\+relationships}   &{\ttfamily int}   &Total number of relationships.    \\\cline{1-3}
{\ttfamily network\+\_\+density}   &{\ttfamily float}   &The density of the network graph.    \\\cline{1-3}
{\ttfamily average\+\_\+degree}   &{\ttfamily float}   &The average number of connections per node.    \\\cline{1-3}
{\ttfamily max\+\_\+degree}   &{\ttfamily int}   &The highest number of connections for any single node.    \\\cline{1-3}
{\ttfamily asset\+\_\+class\+\_\+distribution}   &{\ttfamily dict}   &A count of assets per asset class.   \\\cline{1-3}
\end{longtabu}


{\itshape Sources\+: \mbox{[}\doxylink{api_2main_8py}{api/main.\+py}\+:72-\/80\mbox{]}()}\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1536}{}\doxysubsection{\texorpdfstring{Error Handling}{Error Handling}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1536}
The API includes a generic exception handler that catches any unhandled server-\/side errors. This prevents internal stack traces from being exposed to the client and returns a standard {\ttfamily 500 Internal Server Error} response. Specific errors, such as a non-\/existent asset, result in a {\ttfamily 404 Not Found} status code.

{\itshape Sources\+: \mbox{[}\doxylink{api_2main_8py}{api/main.\+py}\+:205-\/217\mbox{]}(), \mbox{[}\doxylink{test__api__main_8py}{tests/unit/test\+\_\+api\+\_\+main.\+py}\+:316-\/332\mbox{]}()}\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1537}{}\doxysubsection{\texorpdfstring{Summary}{Summary}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1537}
The Fast\+API application provides a robust and modern API layer that decouples the frontend from the core Python logic. It leverages a thread-\/safe singleton pattern for efficient data management and uses Pydantic for reliable data validation. The well-\/defined endpoints supply all necessary data for the Next.\+js frontend to deliver a rich, interactive user experience for exploring financial asset relationships.\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1538}{}\doxysubsubsection{\texorpdfstring{API Authentication}{API Authentication}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1538}


{\bfseries{Relevant source files}}\begin{adjustwidth}{1em}{0em}


The following files were used as context for generating this wiki page\+:


\begin{DoxyItemize}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/api/auth.py}{\texttt{ api/auth.\+py}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/api/main.py}{\texttt{ api/main.\+py}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/tests/integration/test_api_integration.py}{\texttt{ tests/integration/test\+\_\+api\+\_\+integration.\+py}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/SECURITY.md}{\texttt{ SECURITY.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/INTEGRATION_SUMMARY.md}{\texttt{ INTEGRATION\+\_\+\+SUMMARY.\+md}}
\end{DoxyItemize}\end{adjustwidth}
\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1539}{}\doxysection{\texorpdfstring{API Authentication}{API Authentication}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1539}
The Financial Asset Relationship Database API employs an OAuth2 Password Flow with JSON Web Tokens (JWT) to secure its endpoints. This system ensures that only authenticated users can access protected resources. The implementation is built using Fast\+API\textquotesingle{}s security utilities, providing a standardized and robust authentication mechanism.

The core logic is encapsulated within {\ttfamily \doxylink{auth_8py}{api/auth.\+py}}, which handles user verification, token creation, and decoding. The main API application, defined in {\ttfamily \doxylink{api_2main_8py}{api/main.\+py}}, integrates this authentication module to expose a token issuance endpoint and protect specific routes. The entire flow is validated through integration tests found in {\ttfamily \doxylink{test__api__integration_8py}{tests/integration/test\+\_\+api\+\_\+integration.\+py}}.\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1540}{}\doxysubsection{\texorpdfstring{Architecture and Core Components}{Architecture and Core Components}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1540}
The authentication system is composed of several key parts\+: data models for users and tokens, functions for handling the authentication logic, and API endpoints for user interaction.

Sources\+: \mbox{[}\doxylink{auth_8py}{api/auth.\+py}\mbox{]}(), \mbox{[}\doxylink{api_2main_8py}{api/main.\+py}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1541}{}\doxysubsubsection{\texorpdfstring{Data Models}{Data Models}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1541}
Pydantic models are used to define the data structures for users and tokens, ensuring type safety and validation.

This diagram illustrates the Pydantic models used for authentication.


\begin{DoxyCode}{0}
\DoxyCodeLine{classDiagram}
\DoxyCodeLine{\ \ \ \ class\ Token\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +access\_token:\ str}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +token\_type:\ str}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ class\ TokenData\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +username:\ str\ |\ None}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ class\ User\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +username:\ str}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +email:\ str\ |\ None}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +full\_name:\ str\ |\ None}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +disabled:\ bool\ |\ None}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ class\ UserInDB\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +hashed\_password:\ str}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ User\ <|-\/-\/\ UserInDB}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ Token\ -\/-\/|>\ TokenData\ :\ "{}Decodes\ to"{}}
\DoxyCodeLine{\ \ \ \ UserInDB\ -\/-\/|>\ User\ :\ "{}Extends"{}}

\end{DoxyCode}


Sources\+: \mbox{[}\doxylink{auth_8py}{api/auth.\+py}\+:28-\/51\mbox{]}()

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{4}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Model   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Fields   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Source File    }\\\cline{1-4}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Model   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Fields   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Source File    }\\\cline{1-4}
\endhead
{\ttfamily User}   &Basic user model.   &{\ttfamily username}, {\ttfamily email}, {\ttfamily full\+\_\+name}, {\ttfamily disabled}   &{\ttfamily \doxylink{auth_8py}{api/auth.\+py}\+:43-\/47}    \\\cline{1-4}
{\ttfamily User\+In\+DB}   &Extends {\ttfamily User} to include the hashed password for storage.   &Inherits from {\ttfamily User}, adds {\ttfamily hashed\+\_\+password}   &{\ttfamily \doxylink{auth_8py}{api/auth.\+py}\+:50-\/51}    \\\cline{1-4}
{\ttfamily Token}   &Represents the access token returned to the client.   &{\ttfamily access\+\_\+token}, {\ttfamily token\+\_\+type}   &{\ttfamily \doxylink{auth_8py}{api/auth.\+py}\+:28-\/30}    \\\cline{1-4}
{\ttfamily Token\+Data}   &Represents the data encoded within the JWT.   &{\ttfamily username}   &{\ttfamily \doxylink{auth_8py}{api/auth.\+py}\+:33-\/34}   \\\cline{1-4}
\end{longtabu}
\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1542}{}\doxysubsubsection{\texorpdfstring{Configuration}{Configuration}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1542}
Authentication behavior is configured through environment variables. A hardcoded user database is present for simplicity, with credentials also loaded from the environment.

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{4}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Variable   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Default Value   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Source File    }\\\cline{1-4}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Variable   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Default Value   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Source File    }\\\cline{1-4}
\endhead
{\ttfamily SECRET\+\_\+\+KEY}   &A secret string for encoding and decoding JWTs.   &"{}a\+\_\+very\+\_\+secret\+\_\+key"{}   &{\ttfamily \doxylink{auth_8py}{api/auth.\+py}\+:18}    \\\cline{1-4}
{\ttfamily ALGORITHM}   &The algorithm used for JWT signing.   &"{}\+HS256"{}   &{\ttfamily \doxylink{auth_8py}{api/auth.\+py}\+:19}    \\\cline{1-4}
{\ttfamily ACCESS\+\_\+\+TOKEN\+\_\+\+EXPIRE\+\_\+\+MINUTES}   &The token\textquotesingle{}s validity period in minutes.   &30   &{\ttfamily \doxylink{auth_8py}{api/auth.\+py}\+:20}    \\\cline{1-4}
{\ttfamily ADMIN\+\_\+\+USERNAME}   &Username for the default admin user.   &"{}admin"{}   &{\ttfamily \doxylink{auth_8py}{api/auth.\+py}\+:57}    \\\cline{1-4}
{\ttfamily ADMIN\+\_\+\+PASSWORD}   &Password for the default admin user.   &"{}admin"{}   &{\ttfamily \doxylink{auth_8py}{api/auth.\+py}\+:58}    \\\cline{1-4}
{\ttfamily ADMIN\+\_\+\+EMAIL}   &Email for the default admin user.   &"{}admin@example.\+com"{}   &{\ttfamily \doxylink{auth_8py}{api/auth.\+py}\+:59}    \\\cline{1-4}
{\ttfamily ADMIN\+\_\+\+FULL\+\_\+\+NAME}   &Full name for the default admin user.   &"{}\+Admin User"{}   &{\ttfamily \doxylink{auth_8py}{api/auth.\+py}\+:60}   \\\cline{1-4}
\end{longtabu}


The use of these environment variables is confirmed in the integration tests. Sources\+: \mbox{[}\doxylink{auth_8py}{api/auth.\+py}\+:17-\/21, 56-\/61\mbox{]}(), \mbox{[}\doxylink{test__api__integration_8py}{tests/integration/test\+\_\+api\+\_\+integration.\+py}\+:139-\/142\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1543}{}\doxysubsubsection{\texorpdfstring{Key Functions}{Key Functions}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1543}
The authentication logic is handled by a set of functions in {\ttfamily \doxylink{auth_8py}{api/auth.\+py}}.

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{3}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Function   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Source File    }\\\cline{1-3}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Function   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Source File    }\\\cline{1-3}
\endhead
{\ttfamily authenticate\+\_\+user()}   &Verifies a user\textquotesingle{}s credentials (username and password) against the user database.   &{\ttfamily \doxylink{auth_8py}{api/auth.\+py}\+:70-\/79}    \\\cline{1-3}
{\ttfamily create\+\_\+access\+\_\+token()}   &Generates a new JWT for a given username and expiration time.   &{\ttfamily \doxylink{auth_8py}{api/auth.\+py}\+:82-\/90}    \\\cline{1-3}
{\ttfamily get\+\_\+current\+\_\+active\+\_\+user()}   &A Fast\+API dependency that decodes the JWT from the request header and retrieves the corresponding active user.   &{\ttfamily \doxylink{auth_8py}{api/auth.\+py}\+:93-\/111}   \\\cline{1-3}
\end{longtabu}
\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1544}{}\doxysubsection{\texorpdfstring{Authentication Flow}{Authentication Flow}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1544}
The process of obtaining and using an access token follows the standard OAuth2 Password Flow.\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1545}{}\doxysubsubsection{\texorpdfstring{1. Token Issuance}{1. Token Issuance}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1545}
A client requests an access token by sending its credentials to the {\ttfamily /token} endpoint.

The following sequence diagram shows the token issuance process.


\begin{DoxyCode}{0}
\DoxyCodeLine{sequenceDiagram}
\DoxyCodeLine{\ \ \ \ participant\ Client}
\DoxyCodeLine{\ \ \ \ participant\ API\ as\ "{}FastAPI\ App"{}}
\DoxyCodeLine{\ \ \ \ participant\ Auth\ as\ "{}Auth\ Module"{}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ Client-\/>>API:\ POST\ /token\ (username,\ password)}
\DoxyCodeLine{\ \ \ \ activate\ API}
\DoxyCodeLine{\ \ \ \ API-\/>>Auth:\ authenticate\_user(username,\ password)}
\DoxyCodeLine{\ \ \ \ activate\ Auth}
\DoxyCodeLine{\ \ \ \ Note\ right\ of\ Auth:\ Verifies\ password\ hash}
\DoxyCodeLine{\ \ \ \ Auth-\/-\/>>API:\ UserInDB\ object\ or\ False}
\DoxyCodeLine{\ \ \ \ deactivate\ Auth}
\DoxyCodeLine{\ \ \ \ alt\ Credentials\ are\ valid}
\DoxyCodeLine{\ \ \ \ \ \ \ \ API-\/>>Auth:\ create\_access\_token(data=\{"{}sub"{}:\ username\})}
\DoxyCodeLine{\ \ \ \ \ \ \ \ activate\ Auth}
\DoxyCodeLine{\ \ \ \ \ \ \ \ Note\ right\ of\ Auth:\ Encodes\ JWT\ with\ SECRET\_KEY}
\DoxyCodeLine{\ \ \ \ \ \ \ \ Auth-\/-\/>>API:\ access\_token}
\DoxyCodeLine{\ \ \ \ \ \ \ \ deactivate\ Auth}
\DoxyCodeLine{\ \ \ \ \ \ \ \ API-\/-\/>>Client:\ 200\ OK\ \{\ "{}access\_token"{}:\ "{}..."{},\ "{}token\_type"{}:\ "{}bearer"{}\ \}}
\DoxyCodeLine{\ \ \ \ else\ Credentials\ are\ invalid}
\DoxyCodeLine{\ \ \ \ \ \ \ \ API-\/-\/xClient:\ 401\ Unauthorized}
\DoxyCodeLine{\ \ \ \ end}
\DoxyCodeLine{\ \ \ \ deactivate\ API}

\end{DoxyCode}


This flow is initiated by the {\ttfamily login\+\_\+for\+\_\+access\+\_\+token} function in {\ttfamily \doxylink{api_2main_8py}{api/main.\+py}}, which handles the {\ttfamily /token} endpoint. Sources\+: \mbox{[}\doxylink{api_2main_8py}{api/main.\+py}\+:129-\/142\mbox{]}(), \mbox{[}\doxylink{auth_8py}{api/auth.\+py}\+:70-\/90\mbox{]}(), \mbox{[}\doxylink{test__api__integration_8py}{tests/integration/test\+\_\+api\+\_\+integration.\+py}\+:137-\/150\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1546}{}\doxysubsubsection{\texorpdfstring{2. Accessing Protected Endpoints}{2. Accessing Protected Endpoints}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1546}
Once the client has an access token, it can access protected endpoints by including the token in the {\ttfamily Authorization} header.

This flowchart shows how a request to a protected endpoint is validated.


\begin{DoxyCode}{0}
\DoxyCodeLine{flowchart\ TD}
\DoxyCodeLine{\ \ \ \ A[Client\ sends\ request\ with\ 'Authorization:\ Bearer\ TOKEN']\ -\/-\/>\ B\{Protected\ Endpoint\};}
\DoxyCodeLine{\ \ \ \ B\ -\/-\/>\ C\{Depends(get\_current\_active\_user)\};}
\DoxyCodeLine{\ \ \ \ C\ -\/-\/>\ D[Decode\ JWT\ from\ header];}
\DoxyCodeLine{\ \ \ \ D\ -\/-\/>\ E\{Token\ valid\ and\ not\ expired?\};}
\DoxyCodeLine{\ \ \ \ E\ -\/-\/\ Yes\ -\/-\/>\ F[Retrieve\ username\ from\ token\ payload];}
\DoxyCodeLine{\ \ \ \ F\ -\/-\/>\ G[Fetch\ user\ from\ DB];}
\DoxyCodeLine{\ \ \ \ G\ -\/-\/>\ H\{User\ exists\ and\ is\ active?\};}
\DoxyCodeLine{\ \ \ \ H\ -\/-\/\ Yes\ -\/-\/>\ I[Execute\ endpoint\ logic];}
\DoxyCodeLine{\ \ \ \ I\ -\/-\/>\ J[Return\ response];}
\DoxyCodeLine{\ \ \ \ E\ -\/-\/\ No\ -\/-\/>\ K[HTTPException\ 401\ Unauthorized];}
\DoxyCodeLine{\ \ \ \ H\ -\/-\/\ No\ -\/-\/>\ K;}

\end{DoxyCode}


The {\ttfamily get\+\_\+current\+\_\+active\+\_\+user} function serves as the Fast\+API dependency that enforces this validation. Any endpoint that includes {\ttfamily Depends(get\+\_\+current\+\_\+active\+\_\+user)} in its signature is automatically protected. Sources\+: \mbox{[}\doxylink{auth_8py}{api/auth.\+py}\+:93-\/111\mbox{]}(), \mbox{[}\doxylink{api_2main_8py}{api/main.\+py}\+:145-\/149\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1547}{}\doxysubsection{\texorpdfstring{API Endpoints}{API Endpoints}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1547}
\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1548}{}\doxysubsubsection{\texorpdfstring{Authentication Endpoints}{Authentication Endpoints}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1548}
\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{6}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Endpoint   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Method   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Parameters (form-\/data)   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Response   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Source File    }\\\cline{1-6}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Endpoint   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Method   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Parameters (form-\/data)   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Response   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Source File    }\\\cline{1-6}
\endhead
{\ttfamily /token}   &{\ttfamily POST}   &Issues a JWT access token upon successful authentication.   &{\ttfamily username\+: str}, {\ttfamily password\+: str}   &{\ttfamily Token} model   &{\ttfamily \doxylink{api_2main_8py}{api/main.\+py}\+:129-\/142}    \\\cline{1-6}
{\ttfamily /api/users/me}   &{\ttfamily GET}   &Returns the details of the currently authenticated user. Protected endpoint.   &None   &{\ttfamily User} model   &{\ttfamily \doxylink{api_2main_8py}{api/main.\+py}\+:145-\/149}   \\\cline{1-6}
\end{longtabu}
\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1549}{}\doxysubsubsection{\texorpdfstring{Example Usage}{Example Usage}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1549}
To obtain a token, a client sends a POST request with form data.


\begin{DoxyCode}{0}
\DoxyCodeLine{curl\ -\/X\ POST\ "{}http://localhost:8000/token"{}\ \(\backslash\)}
\DoxyCodeLine{-\/H\ "{}Content-\/Type:\ application/x-\/www-\/form-\/urlencoded"{}\ \(\backslash\)}
\DoxyCodeLine{-\/d\ "{}username=admin\&password=admin"{}}

\end{DoxyCode}


The response will be a JSON object containing the access token.


\begin{DoxyCode}{0}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ "{}access\_token"{}:\ "{}eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."{},}
\DoxyCodeLine{\ \ "{}token\_type"{}:\ "{}bearer"{}}
\DoxyCodeLine{\}}

\end{DoxyCode}


This token is then used to access protected endpoints.


\begin{DoxyCode}{0}
\DoxyCodeLine{curl\ -\/X\ GET\ "{}http://localhost:8000/api/users/me"{}\ \(\backslash\)}
\DoxyCodeLine{-\/H\ "{}Authorization:\ Bearer\ eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."{}}

\end{DoxyCode}


Sources\+: \mbox{[}\doxylink{test__api__integration_8py}{tests/integration/test\+\_\+api\+\_\+integration.\+py}\+:137-\/165\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1550}{}\doxysubsection{\texorpdfstring{Security Considerations}{Security Considerations}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1550}
The current implementation uses a simple, in-\/memory user database defined in {\ttfamily \doxylink{auth_8py}{api/auth.\+py}}. This is suitable for development and demonstration but is not secure for a production environment. The {\ttfamily \doxylink{SECURITY_8md}{SECURITY.\+md}} document recommends implementing JWT authentication, which has been done, but a production system should replace the hardcoded user store with a proper database.


\begin{DoxyItemize}
\item {\bfseries{User Storage}}\+: The user database is hardcoded. For production, this should be migrated to a secure database system.
\item {\bfseries{Secret Management}}\+: The {\ttfamily SECRET\+\_\+\+KEY} should be managed securely via environment variables or a secrets management service, not hardcoded or left as the default.
\item {\bfseries{HTTPS}}\+: In production, the API should be served over HTTPS to protect credentials and tokens in transit.
\end{DoxyItemize}

Sources\+: \mbox{[}\doxylink{auth_8py}{api/auth.\+py}\+:54-\/68\mbox{]}(), \mbox{[}\doxylink{SECURITY_8md}{SECURITY.\+md}\+:53-\/70\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1551}{}\doxysubsection{\texorpdfstring{Summary}{Summary}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1551}
The API authentication system provides a secure and standard way to protect endpoints using OAuth2 and JWT. It is configured via environment variables and relies on a core {\ttfamily auth} module for its logic. While the current user management is basic, the overall structure is robust and follows modern security practices recommended for web APIs. The integration tests confirm that the token issuance and validation flow works as expected.\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1552}{}\doxysubsubsection{\texorpdfstring{Gradio Application (Legacy)}{Gradio Application (Legacy)}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1552}


{\bfseries{Relevant source files}}\begin{adjustwidth}{1em}{0em}
The following files were used as context for generating this wiki page\+:


\begin{DoxyItemize}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/app.py}{\texttt{ app.\+py}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/AI_RULES.md}{\texttt{ AI\+\_\+\+RULES.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/UI_COMPARISON.md}{\texttt{ UI\+\_\+\+COMPARISON.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/ARCHITECTURE.md}{\texttt{ ARCHITECTURE.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/README.md}{\texttt{ README.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/pyproject.toml}{\texttt{ pyproject.\+toml}}
\end{DoxyItemize}\end{adjustwidth}
\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1553}{}\doxysection{\texorpdfstring{Gradio Application (Legacy)}{Gradio Application (Legacy)}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1553}
The Gradio application, defined in {\ttfamily \doxylink{app_8py}{app.\+py}}, serves as the original, Python-\/native user interface for the Financial Asset Relationship Database. It provides an interactive web-\/based demo for visualizing the complex network of financial assets, exploring their relationships, and analyzing key metrics. Built using the Gradio library, it allows for rapid prototyping and direct interaction with the backend Python logic.

This application runs as a standalone web server and is launched via the command {\ttfamily python \doxylink{app_8py}{app.\+py}}. While it remains fully functional, it is considered the legacy UI in comparison to the newer "{}"{} "{}\+Next.\+js Frontend"{}, which offers a more modern and scalable architecture. The Gradio app is particularly suited for data scientists and Python developers who need a quick way to visualize and interact with the asset graph without requiring a separate frontend development environment.

{\itshape Sources\+: \mbox{[}\doxylink{app_8py}{app.\+py}\mbox{]}(), \mbox{[}\doxylink{UI__COMPARISON_8md}{UI\+\_\+\+COMPARISON.\+md}\mbox{]}(), \mbox{[}README.\+md\mbox{]}(), \mbox{[}\doxylink{ARCHITECTURE_8md}{ARCHITECTURE.\+md}\mbox{]}()}\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1554}{}\doxysubsection{\texorpdfstring{Architecture and Core Components}{Architecture and Core Components}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1554}
The application\textquotesingle{}s logic is encapsulated within the {\ttfamily Financial\+Asset\+App} class in {\ttfamily \doxylink{app_8py}{app.\+py}}. This class manages the application state, handles data initialization, and defines the methods that respond to user interactions in the UI.

{\itshape Sources\+: \mbox{[}\doxylink{app_8py}{app.\+py}\+:141-\/144\mbox{]}()}\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1555}{}\doxysubsubsection{\texorpdfstring{{\ttfamily Financial\+Asset\+App} Class}{{\ttfamily Financial\+Asset\+App} Class}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1555}
The {\ttfamily Financial\+Asset\+App} class is the central controller for the Gradio interface. It initializes the core {\ttfamily \doxylink{classAssetRelationshipGraph}{Asset\+Relationship\+Graph}} and connects UI components to backend data processing and visualization functions.

The diagram below shows the key methods within the {\ttfamily Financial\+Asset\+App} class.


\begin{DoxyCode}{0}
\DoxyCodeLine{classDiagram}
\DoxyCodeLine{\ \ \ \ class\ FinancialAssetApp\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +graph:\ AssetRelationshipGraph}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +\_\_init\_\_()}
\DoxyCodeLine{\ \ \ \ \ \ \ \ -\/\_initialize\_graph()}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +ensure\_graph()\ AssetRelationshipGraph}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +create\_interface()\ Blocks}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +refresh\_all\_outputs()\ Tuple}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +refresh\_visualization(...)\ Tuple}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +update\_asset\_info(asset\_id)\ Tuple}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +generate\_formulaic\_analysis()\ Tuple}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +show\_formula\_details(formula\_name)\ Tuple}
\DoxyCodeLine{\ \ \ \ \ \ \ \ -\/\_update\_metrics\_text()\ str}
\DoxyCodeLine{\ \ \ \ \ \ \ \ -\/\_format\_formula\_summary()\ str}
\DoxyCodeLine{\ \ \ \ \}}

\end{DoxyCode}


{\itshape Sources\+: \mbox{[}\doxylink{app_8py}{app.\+py}\+:141-\/419\mbox{]}()}\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1556}{}\doxysubsubsection{\texorpdfstring{Key Methods}{Key Methods}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1556}
\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{3}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Method   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Source    }\\\cline{1-3}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Method   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Source    }\\\cline{1-3}
\endhead
{\ttfamily \+\_\+initialize\+\_\+graph()}   &Initializes the {\ttfamily \doxylink{classAssetRelationshipGraph}{Asset\+Relationship\+Graph}} by calling {\ttfamily create\+\_\+real\+\_\+database()} to fetch data from Yahoo Finance.   &{\ttfamily \doxylink{app_8py}{app.\+py}\+:146-\/156}    \\\cline{1-3}
{\ttfamily create\+\_\+interface()}   &Constructs the entire Gradio UI, defining all tabs, components, and their layouts.   &{\ttfamily \doxylink{app_8py}{app.\+py}\+:421-\/638}    \\\cline{1-3}
{\ttfamily refresh\+\_\+all\+\_\+outputs()}   &A master function that refreshes all visualizations and reports across all tabs simultaneously.   &{\ttfamily \doxylink{app_8py}{app.\+py}\+:206-\/236}    \\\cline{1-3}
{\ttfamily refresh\+\_\+visualization()}   &Updates the 2D/3D network graph based on user-\/selected filters (e.\+g., view mode, relationship types).   &{\ttfamily \doxylink{app_8py}{app.\+py}\+:238-\/280}    \\\cline{1-3}
{\ttfamily update\+\_\+asset\+\_\+info()}   &Fetches and displays detailed JSON data for a selected asset in the "{}\+Asset Explorer"{} tab.   &{\ttfamily \doxylink{app_8py}{app.\+py}\+:189-\/204}    \\\cline{1-3}
{\ttfamily generate\+\_\+formulaic\+\_\+analysis()}   &Runs the {\ttfamily Formulaicd\+Analyzer} and uses {\ttfamily Formulaic\+Visualizer} to create and display plots in the "{}\+Formulaic Analysis"{} tab.   &{\ttfamily \doxylink{app_8py}{app.\+py}\+:282-\/336}   \\\cline{1-3}
\end{longtabu}
\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1557}{}\doxysubsection{\texorpdfstring{Application Startup Flow}{Application Startup Flow}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1557}
When the application is started with {\ttfamily python \doxylink{app_8py}{app.\+py}}, it follows a clear initialization sequence before launching the web interface.

The following flowchart illustrates the startup process.


\begin{DoxyCode}{0}
\DoxyCodeLine{flowchart\ TD}
\DoxyCodeLine{\ \ \ \ A[Start\ \`{}python\ app.py`]\ -\/-\/>\ B\{`if\ \_\_name\_\_\ ==\ "{}\_\_main\_\_"{}`\};}
\DoxyCodeLine{\ \ \ \ B\ -\/-\/>\ C[Instantiate\ \`{}FinancialAssetApp`];}
\DoxyCodeLine{\ \ \ \ C\ -\/-\/>\ D[Call\ \`{}app.\_initialize\_graph()`];}
\DoxyCodeLine{\ \ \ \ D\ -\/-\/>\ E[Call\ \`{}create\_real\_database()`\ from\ \`{}real\_data\_fetcher.py`];}
\DoxyCodeLine{\ \ \ \ E\ -\/-\/>\ F[Fetch\ data\ from\ yfinance];}
\DoxyCodeLine{\ \ \ \ F\ -\/-\/>\ G[Create\ \`{}AssetRelationshipGraph`\ instance];}
\DoxyCodeLine{\ \ \ \ G\ -\/-\/>\ H[Store\ graph\ in\ \`{}app.graph`];}
\DoxyCodeLine{\ \ \ \ H\ -\/-\/>\ I[Call\ \`{}app.create\_interface()`];}
\DoxyCodeLine{\ \ \ \ I\ -\/-\/>\ J[Build\ Gradio\ UI\ components];}
\DoxyCodeLine{\ \ \ \ J\ -\/-\/>\ K[Call\ \`{}demo.launch()`];}
\DoxyCodeLine{\ \ \ \ K\ -\/-\/>\ L[Gradio\ UI\ available\ at\ http://localhost:7860];}
\DoxyCodeLine{\ \ \ \ E\ -\/-\/\ On\ Error\ -\/-\/>\ M\{Log\ Error\ \&\ Raise\};}

\end{DoxyCode}


{\itshape Sources\+: \mbox{[}\doxylink{app_8py}{app.\+py}\+:641-\/648\mbox{]}(), \mbox{[}\doxylink{app_8py}{app.\+py}\+:146-\/156\mbox{]}(), \mbox{[}README.\+md\mbox{]}()}\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1558}{}\doxysubsection{\texorpdfstring{User Interface Tabs}{User Interface Tabs}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1558}
The UI is organized into several tabs, each serving a distinct purpose for exploring the financial asset data. The interface is built using Gradio and Plotly for visualizations.

{\itshape Sources\+: \mbox{[}\doxylink{app_8py}{app.\+py}\+:424-\/533\mbox{]}(), \mbox{[}\doxylink{AI__RULES_8md}{AI\+\_\+\+RULES.\+md}\mbox{]}()}

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{3}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Tab Name   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Purpose   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Key Functions    }\\\cline{1-3}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Tab Name   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Purpose   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Key Functions    }\\\cline{1-3}
\endhead
{\bfseries{Network Visualization (2D/3D)}}   &The main interactive view of the asset network. Supports 2D and 3D modes with extensive filtering.   &{\ttfamily refresh\+\_\+visualization}, {\ttfamily visualize\+\_\+3d\+\_\+graph\+\_\+with\+\_\+filters}, {\ttfamily visualize\+\_\+2d\+\_\+graph}    \\\cline{1-3}
{\bfseries{Metrics \& Analytics}}   &Displays quantitative statistics and charts about the network, such as asset distribution and relationship types.   &{\ttfamily update\+\_\+all\+\_\+metrics\+\_\+outputs}, {\ttfamily visualize\+\_\+metrics}    \\\cline{1-3}
{\bfseries{Schema \& Rules}}   &Shows a generated report of the database schema, data models, and business rules for relationships.   &{\ttfamily refresh\+\_\+all\+\_\+outputs}, {\ttfamily generate\+\_\+schema\+\_\+report}    \\\cline{1-3}
{\bfseries{Asset Explorer}}   &Allows users to select a specific asset from a dropdown and view its detailed attributes and connections in JSON format.   &{\ttfamily update\+\_\+asset\+\_\+info}    \\\cline{1-3}
{\bfseries{Formulaic Analysis}}   &Provides advanced mathematical analysis, extracting and visualizing formulas and correlations between financial variables.   &{\ttfamily generate\+\_\+formulaic\+\_\+analysis}, {\ttfamily show\+\_\+formula\+\_\+details}    \\\cline{1-3}
{\bfseries{Documentation}}   &A static tab containing help text and a quick start guide on how to use the application.   &N/A (Static Markdown)   \\\cline{1-3}
\end{longtabu}
\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1559}{}\doxysubsubsection{\texorpdfstring{Network Visualization Tab}{Network Visualization Tab}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1559}
This is the primary tab for visual exploration. It provides numerous controls to filter and customize the graph view.\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1560}{}\doxysubsubsubsection{\texorpdfstring{Visualization Controls}{Visualization Controls}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1560}
\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{5}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Control   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Type   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Options   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Source    }\\\cline{1-5}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Control   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Type   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Options   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Source    }\\\cline{1-5}
\endhead
Visualization Mode   &Radio   &{\ttfamily 3D}, {\ttfamily 2D}   &Toggles between 2D and 3D graph layouts.   &{\ttfamily \doxylink{app_8py}{app.\+py}\+:437}    \\\cline{1-5}
2D Layout Type   &Radio   &{\ttfamily spring}, {\ttfamily circular}, {\ttfamily grid}   &Selects the algorithm for the 2D graph layout. Visible only in 2D mode.   &{\ttfamily \doxylink{app_8py}{app.\+py}\+:441}    \\\cline{1-5}
Relationship Filters   &Checkbox   &(Multiple)   &A series of checkboxes to toggle the visibility of different relationship types (e.\+g., "{}\+Same Sector"{}, "{}\+Regulatory Impact"{}).   &{\ttfamily \doxylink{app_8py}{app.\+py}\+:451-\/465}    \\\cline{1-5}
Show Direction Arrows   &Checkbox   &{\ttfamily True}, {\ttfamily False}   &Toggles the visibility of arrows indicating relationship direction in the 3D view.   &{\ttfamily \doxylink{app_8py}{app.\+py}\+:466}   \\\cline{1-5}
\end{longtabu}


{\itshape Sources\+: \mbox{[}\doxylink{app_8py}{app.\+py}\+:432-\/466\mbox{]}()}\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1561}{}\doxysubsection{\texorpdfstring{Event Handling and Data Flow}{Event Handling and Data Flow}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1561}
User interactions in the Gradio UI trigger specific Python methods in the {\ttfamily Financial\+Asset\+App} class. The {\ttfamily gr.\+State} component is used to maintain the {\ttfamily \doxylink{classAssetRelationshipGraph}{Asset\+Relationship\+Graph}} object between events.

The sequence diagram below shows a typical user interaction\+: changing a filter and refreshing the 3D visualization.


\begin{DoxyCode}{0}
\DoxyCodeLine{sequenceDiagram}
\DoxyCodeLine{\ \ \ \ participant\ User}
\DoxyCodeLine{\ \ \ \ participant\ Gradio\_UI\ as\ "{}Gradio\ UI"{}}
\DoxyCodeLine{\ \ \ \ participant\ FinancialAssetApp\ as\ "{}app.py"{}}
\DoxyCodeLine{\ \ \ \ participant\ GraphVisuals\ as\ "{}graph\_visuals.py"{}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ User-\/>>Gradio\_UI:\ Clicks\ 'Show\ Regulatory'\ checkbox}
\DoxyCodeLine{\ \ \ \ Gradio\_UI-\/>>FinancialAssetApp:\ Calls\ refresh\_visualization()}
\DoxyCodeLine{\ \ \ \ Note\ over\ FinancialAssetApp:\ Passes\ current\ state\ of\ all\ filter\ checkboxes}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ FinancialAssetApp-\/>>FinancialAssetApp:\ ensure\_graph()}
\DoxyCodeLine{\ \ \ \ FinancialAssetApp-\/>>GraphVisuals:\ visualize\_3d\_graph\_with\_filters(graph,\ filters)}
\DoxyCodeLine{\ \ \ \ GraphVisuals-\/-\/>>FinancialAssetApp:\ Returns\ Plotly\ Figure\ object}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ FinancialAssetApp-\/-\/>>Gradio\_UI:\ Returns\ Figure\ and\ error\ state}
\DoxyCodeLine{\ \ \ \ Gradio\_UI-\/-\/>>User:\ Updates\ 3D\ Plot\ component}

\end{DoxyCode}


{\itshape Sources\+: \mbox{[}\doxylink{app_8py}{app.\+py}\+:596-\/601\mbox{]}(), \mbox{[}\doxylink{app_8py}{app.\+py}\+:238-\/280\mbox{]}()}\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1562}{}\doxysubsection{\texorpdfstring{Dependencies}{Dependencies}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1562}
The Gradio application relies on several key Python libraries defined in the project\textquotesingle{}s configuration.

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{3}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Library   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Usage   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Source    }\\\cline{1-3}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Library   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Usage   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Source    }\\\cline{1-3}
\endhead
{\ttfamily gradio}   &The core framework for building the web UI.   &{\ttfamily pyproject.\+toml\+:16}    \\\cline{1-3}
{\ttfamily plotly}   &The exclusive library used for all 2D and 3D visualizations.   &{\ttfamily pyproject.\+toml\+:17}    \\\cline{1-3}
{\ttfamily pandas}   &Used for data manipulation before visualization.   &{\ttfamily pyproject.\+toml\+:22}    \\\cline{1-3}
{\ttfamily yfinance}   &Fetches real-\/time financial data to populate the graph.   &{\ttfamily pyproject.\+toml\+:20}   \\\cline{1-3}
\end{longtabu}


{\itshape Sources\+: \mbox{[}pyproject.\+toml\+:15-\/23\mbox{]}(), \mbox{[}\doxylink{AI__RULES_8md}{AI\+\_\+\+RULES.\+md}\mbox{]}()}\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1563}{}\doxysubsection{\texorpdfstring{Conclusion}{Conclusion}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1563}
The {\ttfamily \doxylink{app_8py}{app.\+py}} file provides a powerful, self-\/contained, and interactive tool for financial data analysis. As the original UI, it demonstrates the core value of the project by enabling direct, visual interaction with the asset relationship graph. While the project has evolved to include a more modern Next.\+js frontend, the Gradio application remains a valuable asset for rapid development, debugging, and Python-\/centric data exploration.

{\itshape Sources\+: \mbox{[}\doxylink{app_8py}{app.\+py}\mbox{]}(), \mbox{[}\doxylink{UI__COMPARISON_8md}{UI\+\_\+\+COMPARISON.\+md}\mbox{]}()}\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1564}{}\doxysubsection{\texorpdfstring{Frontend Components}{Frontend Components}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1564}
\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1565}{}\doxysubsubsection{\texorpdfstring{Next.\+js Frontend Overview}{Next.\+js Frontend Overview}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1565}


{\bfseries{Relevant source files}}\begin{adjustwidth}{1em}{0em}


The following files were used as context for generating this wiki page\+:


\begin{DoxyItemize}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/frontend/README.md}{\texttt{ frontend/\+README.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/frontend/package.json}{\texttt{ frontend/package.\+json}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/ARCHITECTURE.md}{\texttt{ ARCHITECTURE.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/INTEGRATION_SUMMARY.md}{\texttt{ INTEGRATION\+\_\+\+SUMMARY.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/QUICK_START.md}{\texttt{ QUICK\+\_\+\+START.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/TESTING_GUIDE.md}{\texttt{ TESTING\+\_\+\+GUIDE.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/frontend/__tests__/config/package-validation.test.ts}{\texttt{ frontend/\texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}tests\texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}/config/package-\/validation.test.\+ts}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/UI_COMPARISON.md}{\texttt{ UI\+\_\+\+COMPARISON.\+md}}
\end{DoxyItemize}\end{adjustwidth}
\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1566}{}\doxysection{\texorpdfstring{Next.\+js Frontend Overview}{Next.\+js Frontend Overview}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1566}
The Next.\+js frontend is a modern, responsive, and type-\/safe web application that serves as the primary user interface for the Financial Asset Relationship Database. It is built with Next.\+js 14, React 18, and Type\+Script, offering a more feature-\/rich and customizable experience compared to the original Gradio UI. The application communicates with a dedicated Fast\+API backend via a REST API to fetch and display complex financial data, including interactive 3D network graphs, analytical metrics, and a filterable asset explorer.

This frontend is designed for scalability and can be deployed on serverless platforms like Vercel. It provides a clear separation between the user interface and the core business logic, which is handled by the Python backend. For more information on the backend, see the Architecture Overview.

Sources\+: \mbox{[}\doxylink{frontend_2README_8md}{frontend/\+README.\+md}\mbox{]}(), \mbox{[}\doxylink{INTEGRATION__SUMMARY_8md}{INTEGRATION\+\_\+\+SUMMARY.\+md}\mbox{]}(), \mbox{[}\doxylink{UI__COMPARISON_8md}{UI\+\_\+\+COMPARISON.\+md}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1567}{}\doxysubsection{\texorpdfstring{Architecture and Technology Stack}{Architecture and Technology Stack}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1567}
The frontend application is a client-\/side Next.\+js/\+React application that interacts with a Python-\/based Fast\+API server. This architecture decouples the presentation layer from the data processing and business logic, enabling independent development and scaling.

Sources\+: \mbox{[}\doxylink{ARCHITECTURE_8md}{ARCHITECTURE.\+md}\+:4-\/43\mbox{]}(), \mbox{[}\doxylink{INTEGRATION__SUMMARY_8md}{INTEGRATION\+\_\+\+SUMMARY.\+md}\+:65-\/95\mbox{]}()

This diagram illustrates the high-\/level system architecture, showing the interaction between the Next.\+js frontend, the Fast\+API backend, and the core Python logic.


\begin{DoxyCode}{0}
\DoxyCodeLine{graph\ TD}
\DoxyCodeLine{\ \ \ \ subgraph\ User\_Browser}
\DoxyCodeLine{\ \ \ \ \ \ \ \ A[Next.js\ UI\ on\ Port\ 3000]}
\DoxyCodeLine{\ \ \ \ end}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ subgraph\ Vercel\_Platform}
\DoxyCodeLine{\ \ \ \ \ \ \ \ B[FastAPI\ Backend\ on\ Port\ 8000]}
\DoxyCodeLine{\ \ \ \ \ \ \ \ C[Core\ Business\ Logic<br>(asset\_graph.py)]}
\DoxyCodeLine{\ \ \ \ end}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ A\ -\/-\/\ "{}REST\ API\ Calls\ (Axios)"{}\ -\/-\/>\ B}
\DoxyCodeLine{\ \ \ \ B\ -\/-\/\ "{}Direct\ Function\ Calls"{}\ -\/-\/>\ C}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ style\ A\ fill:\#cde4ff}
\DoxyCodeLine{\ \ \ \ style\ B\ fill:\#d5f0d5}

\end{DoxyCode}


Sources\+: \mbox{[}\doxylink{ARCHITECTURE_8md}{ARCHITECTURE.\+md}\+:120-\/136\mbox{]}(), \mbox{[}\doxylink{INTEGRATION__SUMMARY_8md}{INTEGRATION\+\_\+\+SUMMARY.\+md}\+:65-\/95\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1568}{}\doxysubsubsection{\texorpdfstring{Technology Stack}{Technology Stack}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1568}
The frontend leverages a modern web development stack to deliver a high-\/quality user experience.

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{3}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Technology   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Version   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Purpose    }\\\cline{1-3}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Technology   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Version   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Purpose    }\\\cline{1-3}
\endhead
{\bfseries{Next.\+js}}   &{\ttfamily 14.\+2.\+35}   &React framework for server-\/side rendering, routing, and build optimization.    \\\cline{1-3}
{\bfseries{React}}   &{\ttfamily \texorpdfstring{$^\wedge$}{\string^}18.2.\+0}   &UI library for building components.    \\\cline{1-3}
{\bfseries{Type\+Script}}   &{\ttfamily \texorpdfstring{$^\wedge$}{\string^}5.3.\+0}   &Provides static typing for code quality and maintainability.    \\\cline{1-3}
{\bfseries{Tailwind CSS}}   &{\ttfamily \texorpdfstring{$^\wedge$}{\string^}3.3.\+0}   &A utility-\/first CSS framework for styling.    \\\cline{1-3}
{\bfseries{Plotly.\+js}}   &{\ttfamily \texorpdfstring{$^\wedge$}{\string^}2.27.\+0}   &Library for creating interactive 2D and 3D visualizations.    \\\cline{1-3}
{\bfseries{Recharts}}   &{\ttfamily \texorpdfstring{$^\wedge$}{\string^}2.10.\+0}   &A composable charting library built on React components.    \\\cline{1-3}
{\bfseries{Axios}}   &{\ttfamily \texorpdfstring{$^\wedge$}{\string^}1.13.\+2}   &HTTP client for making REST API requests to the backend.    \\\cline{1-3}
{\bfseries{Jest}}   &{\ttfamily \texorpdfstring{$^\wedge$}{\string^}29.7.\+0}   &Testing framework for unit and component tests.    \\\cline{1-3}
{\bfseries{React Testing Library}}   &{\ttfamily \texorpdfstring{$^\wedge$}{\string^}14.1.\+2}   &Utilities for testing React components in a user-\/centric way.   \\\cline{1-3}
\end{longtabu}


Sources\+: \mbox{[}frontend/package.\+json\+:15-\/39\mbox{]}(), \mbox{[}\doxylink{frontend_2README_8md}{frontend/\+README.\+md}\+:63-\/69\mbox{]}(), \mbox{[}\doxylink{ARCHITECTURE_8md}{ARCHITECTURE.\+md}\+:100-\/107\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1569}{}\doxysubsection{\texorpdfstring{Project Structure}{Project Structure}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1569}
The {\ttfamily frontend} directory is organized to follow Next.\+js conventions, separating UI components, business logic, type definitions, and static assets.

This diagram shows the layout of the key directories within the {\ttfamily frontend} folder.


\begin{DoxyCode}{0}
\DoxyCodeLine{graph\ TD}
\DoxyCodeLine{\ \ \ \ A(frontend/)\ -\/-\/>\ B(app/)}
\DoxyCodeLine{\ \ \ \ A\ -\/-\/>\ C(public/)}
\DoxyCodeLine{\ \ \ \ A\ -\/-\/>\ D(package.json)}
\DoxyCodeLine{\ \ \ \ A\ -\/-\/>\ E(next.config.js)}
\DoxyCodeLine{\ \ \ \ A\ -\/-\/>\ F(tailwind.config.js)}
\DoxyCodeLine{\ \ \ \ A\ -\/-\/>\ G(\_\_tests\_\_/)}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ B\ -\/-\/>\ B1(components/)}
\DoxyCodeLine{\ \ \ \ B\ -\/-\/>\ B2(lib/)}
\DoxyCodeLine{\ \ \ \ B\ -\/-\/>\ B3(types/)}
\DoxyCodeLine{\ \ \ \ B\ -\/-\/>\ B4(page.tsx)}
\DoxyCodeLine{\ \ \ \ B\ -\/-\/>\ B5(layout.tsx)}
\DoxyCodeLine{\ \ \ \ B\ -\/-\/>\ B6(globals.css)}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ B1\ -\/-\/>\ B1a(NetworkVisualization.tsx)}
\DoxyCodeLine{\ \ \ \ B1\ -\/-\/>\ B1b(MetricsDashboard.tsx)}
\DoxyCodeLine{\ \ \ \ B1\ -\/-\/>\ B1c(AssetList.tsx)}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ B2\ -\/-\/>\ B2a(api.ts)}

\end{DoxyCode}


Sources\+: \mbox{[}\doxylink{frontend_2README_8md}{frontend/\+README.\+md}\+:38-\/53\mbox{]}(), \mbox{[}\doxylink{INTEGRATION__SUMMARY_8md}{INTEGRATION\+\_\+\+SUMMARY.\+md}\+:30-\/46\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1570}{}\doxysubsubsection{\texorpdfstring{Key Directories and Files}{Key Directories and Files}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1570}
\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{2}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Path   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-2}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Path   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-2}
\endhead
{\ttfamily app/}   &Contains all application routes, components, and logic, following the Next.\+js App Router convention.    \\\cline{1-2}
{\ttfamily app/components/}   &Houses reusable React components like {\ttfamily Network\+Visualization.\+tsx}, {\ttfamily Metrics\+Dashboard.\+tsx}, and {\ttfamily Asset\+List.\+tsx}.    \\\cline{1-2}
{\ttfamily app/lib/api.\+ts}   &The API client module responsible for all communication with the backend. It uses {\ttfamily axios}.    \\\cline{1-2}
{\ttfamily app/types/api.\+ts}   &Contains Type\+Script type definitions for API request and response objects.    \\\cline{1-2}
{\ttfamily app/page.\+tsx}   &The main entry point page for the application, which integrates all the major components into a tabbed interface.    \\\cline{1-2}
{\ttfamily app/layout.\+tsx}   &The root layout component for the application.    \\\cline{1-2}
{\ttfamily public/}   &Stores static assets like images and fonts.    \\\cline{1-2}
{\ttfamily \+\_\+\+\_\+tests\+\_\+\+\_\+/}   &Contains all Jest tests for components, libraries, and configuration.    \\\cline{1-2}
{\ttfamily package.\+json}   &Defines project metadata, dependencies, and npm scripts.    \\\cline{1-2}
{\ttfamily next.\+config.\+js}   &Configuration file for the Next.\+js framework.    \\\cline{1-2}
{\ttfamily tailwind.\+config.\+js}   &Configuration file for Tailwind CSS.   \\\cline{1-2}
\end{longtabu}


Sources\+: \mbox{[}\doxylink{frontend_2README_8md}{frontend/\+README.\+md}\+:38-\/53\mbox{]}(), \mbox{[}\doxylink{INTEGRATION__SUMMARY_8md}{INTEGRATION\+\_\+\+SUMMARY.\+md}\+:30-\/46\mbox{]}(), \mbox{[}\doxylink{TESTING__GUIDE_8md}{TESTING\+\_\+\+GUIDE.\+md}\+:121-\/122\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1571}{}\doxysubsection{\texorpdfstring{Core Components}{Core Components}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1571}
The UI is built from a set of modular React components, each responsible for a specific feature.

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{3}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Component   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Features    }\\\cline{1-3}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Component   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Features    }\\\cline{1-3}
\endhead
{\bfseries{Network\+Visualization.\+tsx}}   &Renders the interactive 3D network graph of financial assets.   &Uses Plotly.\+js, supports zoom/pan/rotate, displays node and edge details on hover.    \\\cline{1-3}
{\bfseries{Metrics\+Dashboard.\+tsx}}   &Displays key statistics and analytics about the asset network.   &Shows total assets, relationships, network density, and asset class distribution.    \\\cline{1-3}
{\bfseries{Asset\+List.\+tsx}}   &Provides a filterable and searchable table of all financial assets.   &Allows filtering by asset class and sector.   \\\cline{1-3}
\end{longtabu}


These components are integrated into the main page ({\ttfamily app/page.\+tsx}) and organized within a tabbed layout, allowing users to switch between different views of the data.

Sources\+: \mbox{[}\doxylink{frontend_2README_8md}{frontend/\+README.\+md}\+:40-\/43\mbox{]}(), \mbox{[}\doxylink{INTEGRATION__SUMMARY_8md}{INTEGRATION\+\_\+\+SUMMARY.\+md}\+:49-\/63\mbox{]}(), \mbox{[}\doxylink{TESTING__GUIDE_8md}{TESTING\+\_\+\+GUIDE.\+md}\+:121-\/122, 178-\/185\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1572}{}\doxysubsection{\texorpdfstring{Data Flow}{Data Flow}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1572}
User interactions in the frontend trigger API calls to the Fast\+API backend to fetch data, which is then rendered by the React components. The {\ttfamily app/lib/api.\+ts} module centralizes all data-\/fetching logic.

The following sequence diagram shows the data flow for loading the 3D visualization.


\begin{DoxyCode}{0}
\DoxyCodeLine{sequenceDiagram}
\DoxyCodeLine{\ \ \ \ participant\ User\ as\ User}
\DoxyCodeLine{\ \ \ \ participant\ ReactComponent\ as\ "{}NetworkVisualization.tsx"{}}
\DoxyCodeLine{\ \ \ \ participant\ ApiClient\ as\ "{}api.ts\ (Axios)"{}}
\DoxyCodeLine{\ \ \ \ participant\ FastAPIServer\ as\ "{}FastAPI\ Backend"{}}
\DoxyCodeLine{\ \ \ \ participant\ CoreLogic\ as\ "{}asset\_graph.py"{}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ User-\/>>ReactComponent:\ Navigates\ to\ Visualization\ Tab}
\DoxyCodeLine{\ \ \ \ activate\ ReactComponent}
\DoxyCodeLine{\ \ \ \ ReactComponent-\/>>ApiClient:\ getVisualizationData()}
\DoxyCodeLine{\ \ \ \ activate\ ApiClient}
\DoxyCodeLine{\ \ \ \ ApiClient-\/>>FastAPIServer:\ GET\ /api/visualization}
\DoxyCodeLine{\ \ \ \ activate\ FastAPIServer}
\DoxyCodeLine{\ \ \ \ FastAPIServer-\/>>CoreLogic:\ get\_3d\_visualization\_data()}
\DoxyCodeLine{\ \ \ \ activate\ CoreLogic}
\DoxyCodeLine{\ \ \ \ CoreLogic-\/-\/>>FastAPIServer:\ \{\ nodes:\ [...],\ edges:\ [...]\ \}}
\DoxyCodeLine{\ \ \ \ deactivate\ CoreLogic}
\DoxyCodeLine{\ \ \ \ FastAPIServer-\/-\/>>ApiClient:\ 200\ OK\ with\ JSON\ data}
\DoxyCodeLine{\ \ \ \ deactivate\ FastAPIServer}
\DoxyCodeLine{\ \ \ \ ApiClient-\/-\/>>ReactComponent:\ Returns\ visualization\ data}
\DoxyCodeLine{\ \ \ \ deactivate\ ApiClient}
\DoxyCodeLine{\ \ \ \ ReactComponent-\/>>ReactComponent:\ Renders\ data\ with\ Plotly.js}
\DoxyCodeLine{\ \ \ \ deactivate\ ReactComponent}

\end{DoxyCode}


Sources\+: \mbox{[}\doxylink{ARCHITECTURE_8md}{ARCHITECTURE.\+md}\+:73-\/95\mbox{]}(), \mbox{[}\doxylink{INTEGRATION__SUMMARY_8md}{INTEGRATION\+\_\+\+SUMMARY.\+md}\+:10-\/23, 37-\/38\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1573}{}\doxysubsection{\texorpdfstring{Setup and Development}{Setup and Development}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1573}
To run the frontend locally, a few setup steps are required.\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1574}{}\doxysubsubsection{\texorpdfstring{Prerequisites}{Prerequisites}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1574}

\begin{DoxyItemize}
\item Node.\+js 18 or higher
\item npm or yarn
\end{DoxyItemize}

Sources\+: \mbox{[}\doxylink{frontend_2README_8md}{frontend/\+README.\+md}\+:8-\/9\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1575}{}\doxysubsubsection{\texorpdfstring{Installation and Execution}{Installation and Execution}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1575}

\begin{DoxyEnumerate}
\item {\bfseries{Install dependencies}} from the {\ttfamily frontend} directory\+: {\ttfamily bash npm install }
\item {\bfseries{Configure environment variables}}. Create a {\ttfamily .env.\+local} file in the {\ttfamily frontend} directory with the URL of the running backend API\+: {\ttfamily env NEXT\+\_\+\+PUBLIC\+\_\+\+API\+\_\+\+URL=\href{http://localhost:8000}{\texttt{ http\+://localhost\+:8000}} }
\item {\bfseries{Run the development server}}\+: {\ttfamily bash npm run dev } The application will be available at {\ttfamily \href{http://localhost:3000}{\texttt{ http\+://localhost\+:3000}}}.
\end{DoxyEnumerate}

Sources\+: \mbox{[}\doxylink{frontend_2README_8md}{frontend/\+README.\+md}\+:12-\/24\mbox{]}(), \mbox{[}\doxylink{QUICK__START_8md}{QUICK\+\_\+\+START.\+md}\+:41-\/52\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1576}{}\doxysubsubsection{\texorpdfstring{NPM Scripts}{NPM Scripts}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1576}
The {\ttfamily package.\+json} file defines several scripts for managing the development lifecycle.

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{2}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Script   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-2}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Script   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-2}
\endhead
{\ttfamily dev}   &Starts the Next.\+js development server with hot-\/reloading.    \\\cline{1-2}
{\ttfamily build}   &Creates an optimized production build of the application.    \\\cline{1-2}
{\ttfamily start}   &Starts the production server (requires a build first).    \\\cline{1-2}
{\ttfamily lint}   &Runs ESLint to check for code quality and style issues.    \\\cline{1-2}
{\ttfamily test}   &Runs the Jest test suite.    \\\cline{1-2}
{\ttfamily test\+:watch}   &Runs tests in interactive watch mode.    \\\cline{1-2}
{\ttfamily test\+:coverage}   &Runs tests and generates a code coverage report.    \\\cline{1-2}
{\ttfamily test\+:ci}   &Runs tests in a CI-\/friendly mode.   \\\cline{1-2}
\end{longtabu}


Sources\+: \mbox{[}frontend/package.\+json\+:5-\/12\mbox{]}(), \mbox{[}frontend/\texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}tests\texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}/config/package-\/validation.test.\+ts\+:88-\/95\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1577}{}\doxysubsection{\texorpdfstring{Testing}{Testing}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1577}
The frontend includes a comprehensive test suite using Jest and React Testing Library. Tests cover components, the API client, and configuration files.


\begin{DoxyItemize}
\item {\bfseries{Component Tests}}\+: Verify that components render correctly, handle user interactions, and manage data states (loading, error, success). Key files tested include {\ttfamily Asset\+List.\+test.\+tsx}, {\ttfamily Metrics\+Dashboard.\+test.\+tsx}, and {\ttfamily Network\+Visualization.\+test.\+tsx}.
\item {\bfseries{API Client Tests}}\+: The {\ttfamily api.\+test.\+ts} file ensures that the API client correctly calls backend endpoints, handles parameters, and manages success and error responses.
\item {\bfseries{Configuration Tests}}\+: The {\ttfamily package-\/validation.\+test.\+ts} file validates the {\ttfamily package.\+json} for correct dependencies, scripts, and versioning.
\end{DoxyItemize}

To run the tests, use the following commands from the {\ttfamily frontend} directory\+:


\begin{DoxyItemize}
\item {\ttfamily npm test}\+: Run all tests.
\item {\ttfamily npm test -\/-\/ -\/-\/coverage}\+: Run tests with a coverage report.
\item {\ttfamily npm test -\/-\/ -\/-\/watch}\+: Run tests in watch mode.
\end{DoxyItemize}

Sources\+: \mbox{[}\doxylink{frontend_2README_8md}{frontend/\+README.\+md}\+:28-\/36\mbox{]}(), \mbox{[}\doxylink{TESTING__GUIDE_8md}{TESTING\+\_\+\+GUIDE.\+md}\+:92-\/192\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1578}{}\doxysubsection{\texorpdfstring{Conclusion}{Conclusion}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1578}
The Next.\+js frontend provides a robust, modern, and maintainable interface for the Financial Asset Relationship Database. Its component-\/based architecture, separation from the backend API, and comprehensive testing strategy make it a scalable solution suitable for production deployment. It stands as a powerful alternative to the original Gradio UI, offering superior customization, user experience, and alignment with modern web development practices.

Sources\+: \mbox{[}\doxylink{UI__COMPARISON_8md}{UI\+\_\+\+COMPARISON.\+md}\+:13-\/33, 142-\/150\mbox{]}(), \mbox{[}\doxylink{INTEGRATION__SUMMARY_8md}{INTEGRATION\+\_\+\+SUMMARY.\+md}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1579}{}\doxysubsubsection{\texorpdfstring{Frontend API Integration}{Frontend API Integration}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1579}


{\bfseries{Relevant source files}}\begin{adjustwidth}{1em}{0em}


The following files were used as context for generating this wiki page\+:


\begin{DoxyItemize}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/frontend/app/lib/api.ts}{\texttt{ frontend/app/lib/api.\+ts}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/frontend/app/types/api.ts}{\texttt{ frontend/app/types/api.\+ts}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/frontend/__tests__/lib/api.test.ts}{\texttt{ frontend/\texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}tests\texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}/lib/api.test.\+ts}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/INTEGRATION_SUMMARY.md}{\texttt{ INTEGRATION\+\_\+\+SUMMARY.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/ARCHITECTURE.md}{\texttt{ ARCHITECTURE.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/TEST_SUMMARY.md}{\texttt{ TEST\+\_\+\+SUMMARY.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/frontend/README.md}{\texttt{ frontend/\+README.\+md}}
\end{DoxyItemize}

\end{adjustwidth}
\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1580}{}\doxysection{\texorpdfstring{Frontend API Integration}{Frontend API Integration}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1580}
The Frontend API integration layer is a Type\+Script module that serves as the exclusive communication bridge between the Next.\+js frontend application and the backend Fast\+API server. Its primary purpose is to provide a centralized, type-\/safe, and testable interface for all data-\/fetching operations. This module abstracts the underlying HTTP communication, handled by Axios, and exposes a set of asynchronous functions tailored to the application\textquotesingle{}s data requirements, such as fetching assets, relationships, network metrics, and visualization data.

This system is a core part of the modern web interface, which runs parallel to the original Gradio UI. The architecture ensures a clean separation between the frontend presentation logic and the backend business logic, with this API client acting as the intermediary. For more information on the overall system design, see the Architecture Overview.

Sources\+: \mbox{[}frontend/app/lib/api.\+ts\mbox{]}(), \mbox{[}\doxylink{INTEGRATION__SUMMARY_8md}{INTEGRATION\+\_\+\+SUMMARY.\+md}\mbox{]}(), \mbox{[}\doxylink{ARCHITECTURE_8md}{ARCHITECTURE.\+md}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1581}{}\doxysubsection{\texorpdfstring{Architecture and Configuration}{Architecture and Configuration}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1581}
The API client is built around a pre-\/configured Axios instance. This instance sets the base URL for all API requests, which is dynamically sourced from an environment variable. This approach allows the application to seamlessly switch between different backend environments (e.\+g., local development, staging, production) without code changes.

Sources\+: \mbox{[}frontend/app/lib/api.\+ts\+:7-\/11\mbox{]}(), \mbox{[}\doxylink{frontend_2README_8md}{frontend/\+README.\+md}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1582}{}\doxysubsubsection{\texorpdfstring{Client Initialization}{Client Initialization}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1582}
An Axios instance is created with the {\ttfamily base\+URL} set to the value of {\ttfamily NEXT\+\_\+\+PUBLIC\+\_\+\+API\+\_\+\+URL}. If this environment variable is not set, it defaults to {\ttfamily \href{http://localhost:8000}{\texttt{ http\+://localhost\+:8000}}}, ensuring functionality in a standard local development setup.


\begin{DoxyCode}{0}
\DoxyCodeLine{//\ Source:\ frontend/app/lib/api.ts:7-\/11}
\DoxyCodeLine{const\ apiClient\ =\ axios.create(\{}
\DoxyCodeLine{\ \ baseURL:\ process.env.NEXT\_PUBLIC\_API\_URL\ ||\ "{}http://localhost:8000"{},}
\DoxyCodeLine{\ \ timeout:\ 10000,\ //\ Example\ timeout}
\DoxyCodeLine{\});}

\end{DoxyCode}


Sources\+: \mbox{[}frontend/app/lib/api.\+ts\+:7-\/11\mbox{]}(), \mbox{[}\doxylink{frontend_2README_8md}{frontend/\+README.\+md}\mbox{]}()

The following diagram illustrates the configuration flow for the API client.


\begin{DoxyCode}{0}
\DoxyCodeLine{graph\ TD}
\DoxyCodeLine{\ \ \ \ A[Environment]\ -\/-\/\ reads\ -\/-\/>\ B(process.env.NEXT\_PUBLIC\_API\_URL);}
\DoxyCodeLine{\ \ \ \ B\ -\/-\/\ "{}Is\ it\ defined?"{}\ -\/-\/>\ C\{Use\ Value\};}
\DoxyCodeLine{\ \ \ \ B\ -\/-\/\ "{}Is\ it\ undefined?"{}\ -\/-\/>\ D[Use\ Default\ 'http://localhost:8000'];}
\DoxyCodeLine{\ \ \ \ C\ -\/-\/>\ E[axios.create(\{\ baseURL\ \})];}
\DoxyCodeLine{\ \ \ \ D\ -\/-\/>\ E;}
\DoxyCodeLine{\ \ \ \ E\ -\/-\/>\ F(apiClient\ Instance);}

\end{DoxyCode}


This diagram shows how the {\ttfamily api\+Client} instance is configured with the correct base URL. Sources\+: \mbox{[}frontend/app/lib/api.\+ts\+:7-\/11\mbox{]}(), \mbox{[}\doxylink{frontend_2README_8md}{frontend/\+README.\+md}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1583}{}\doxysubsection{\texorpdfstring{API Client Functions}{API Client Functions}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1583}
The module exports a collection of functions, each corresponding to a specific backend API endpoint. These functions encapsulate the logic for making the request, handling the response data, and managing potential errors.

Sources\+: \mbox{[}frontend/app/lib/api.\+ts\mbox{]}(), \mbox{[}\doxylink{TEST__SUMMARY_8md}{TEST\+\_\+\+SUMMARY.\+md}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1584}{}\doxysubsubsection{\texorpdfstring{Endpoint Summary}{Endpoint Summary}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1584}
The table below maps the client functions to their respective backend API endpoints.

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{4}{|X[-1]}|}
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Function Name   }&\cellcolor{\tableheadbgcolor}\textbf{ HTTP Method   }&\cellcolor{\tableheadbgcolor}\textbf{ Endpoint Path   }&\cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-4}
\endfirsthead
\hline
\endfoot
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Function Name   }&\cellcolor{\tableheadbgcolor}\textbf{ HTTP Method   }&\cellcolor{\tableheadbgcolor}\textbf{ Endpoint Path   }&\cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-4}
\endhead
{\ttfamily health\+Check}   &{\ttfamily GET}   &{\ttfamily /api/health}   &Checks the health of the backend API.    \\\cline{1-4}
{\ttfamily get\+Assets}   &{\ttfamily GET}   &{\ttfamily /api/assets}   &Fetches a list of assets, with optional filtering.    \\\cline{1-4}
{\ttfamily get\+Asset\+Detail}   &{\ttfamily GET}   &{\ttfamily /api/assets/\{id\}}   &Fetches detailed information for a single asset.    \\\cline{1-4}
{\ttfamily get\+Asset\+Relationships}   &{\ttfamily GET}   &{\ttfamily /api/assets/\{id\}/relationships}   &Fetches relationships for a specific asset.    \\\cline{1-4}
{\ttfamily get\+All\+Relationships}   &{\ttfamily GET}   &{\ttfamily /api/relationships}   &Fetches all relationships in the graph.    \\\cline{1-4}
{\ttfamily get\+Metrics}   &{\ttfamily GET}   &{\ttfamily /api/metrics}   &Fetches network-\/wide metrics.    \\\cline{1-4}
{\ttfamily get\+Visualization\+Data}   &{\ttfamily GET}   &{\ttfamily /api/visualization}   &Fetches data required for the 3D network graph.    \\\cline{1-4}
{\ttfamily get\+Asset\+Classes}   &{\ttfamily GET}   &{\ttfamily /api/asset-\/classes}   &Fetches the list of available asset classes.    \\\cline{1-4}
{\ttfamily get\+Sectors}   &{\ttfamily GET}   &{\ttfamily /api/sectors}   &Fetches the list of available industry sectors.   \\\cline{1-4}
\end{longtabu}


Sources\+: \mbox{[}frontend/app/lib/api.\+ts\mbox{]}(), \mbox{[}\doxylink{INTEGRATION__SUMMARY_8md}{INTEGRATION\+\_\+\+SUMMARY.\+md}\mbox{]}(), \mbox{[}\doxylink{TEST__SUMMARY_8md}{TEST\+\_\+\+SUMMARY.\+md}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1585}{}\doxysubsubsection{\texorpdfstring{Function Details}{Function Details}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1585}
\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1586}{}\doxysubsubsubsection{\texorpdfstring{{\ttfamily get\+Assets}}{{\ttfamily get\+Assets}}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1586}
This function retrieves a list of financial assets. It supports optional filtering by {\ttfamily asset\+Class} and {\ttfamily sector}.


\begin{DoxyItemize}
\item {\bfseries{Parameters}}\+:
\begin{DoxyItemize}
\item {\ttfamily asset\+Class} (optional, {\ttfamily string})\+: The asset class to filter by.
\item {\ttfamily sector} (optional, {\ttfamily string})\+: The sector to filter by.
\end{DoxyItemize}
\item {\bfseries{Returns}}\+: {\ttfamily Promise\texorpdfstring{$<$}{<}Asset\mbox{[}\mbox{]}\texorpdfstring{$>$}{>}}
\end{DoxyItemize}

The function constructs query parameters dynamically based on the provided arguments.

Sources\+: \mbox{[}frontend/app/lib/api.\+ts\+:25-\/36\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1587}{}\doxysubsubsection{\texorpdfstring{API Call Flow Example}{API Call Flow Example}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1587}
The following sequence diagram illustrates a typical flow when a frontend component calls the {\ttfamily get\+Assets} function.


\begin{DoxyCode}{0}
\DoxyCodeLine{sequenceDiagram}
\DoxyCodeLine{\ \ \ \ participant\ Component\ as\ "{}React\ Component"{}}
\DoxyCodeLine{\ \ \ \ participant\ APIClient\ as\ "{}api.ts"{}}
\DoxyCodeLine{\ \ \ \ participant\ Axios\ as\ "{}Axios\ Instance"{}}
\DoxyCodeLine{\ \ \ \ participant\ Backend\ as\ "{}FastAPI\ Backend"{}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ Component-\/>>APIClient:\ getAssets(\{\ assetClass:\ 'Equity'\ \})}
\DoxyCodeLine{\ \ \ \ activate\ APIClient}
\DoxyCodeLine{\ \ \ \ APIClient-\/>>Axios:\ apiClient.get('/api/assets',\ \{\ params:\ \{\ asset\_class:\ 'Equity'\ \}\ \})}
\DoxyCodeLine{\ \ \ \ activate\ Axios}
\DoxyCodeLine{\ \ \ \ Axios-\/>>Backend:\ GET\ /api/assets?asset\_class=Equity}
\DoxyCodeLine{\ \ \ \ activate\ Backend}
\DoxyCodeLine{\ \ \ \ Backend-\/-\/>>Axios:\ 200\ OK\ (JSON:\ Asset[])}
\DoxyCodeLine{\ \ \ \ deactivate\ Backend}
\DoxyCodeLine{\ \ \ \ Axios-\/-\/>>APIClient:\ Promise\ resolves\ with\ response}
\DoxyCodeLine{\ \ \ \ deactivate\ Axios}
\DoxyCodeLine{\ \ \ \ APIClient-\/-\/>>Component:\ return\ response.data}
\DoxyCodeLine{\ \ \ \ deactivate\ APIClient}

\end{DoxyCode}


This diagram shows the journey of a request from a React component to the backend and back. Sources\+: \mbox{[}frontend/app/lib/api.\+ts\+:25-\/36\mbox{]}(), \mbox{[}\doxylink{ARCHITECTURE_8md}{ARCHITECTURE.\+md}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1588}{}\doxysubsection{\texorpdfstring{Data Models and Types}{Data Models and Types}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1588}
To ensure type safety across the application, all data structures returned by the API are strictly typed using Type\+Script interfaces defined in {\ttfamily frontend/app/types/api.\+ts}. These types are used as generics in the API client functions to provide compile-\/time checks and editor autocompletion.

Sources\+: \mbox{[}frontend/app/types/api.\+ts\mbox{]}(), \mbox{[}\doxylink{TEST__SUMMARY_8md}{TEST\+\_\+\+SUMMARY.\+md}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1589}{}\doxysubsubsection{\texorpdfstring{Core Data Models}{Core Data Models}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1589}
The diagram below shows the main data entities and their relationships.


\begin{DoxyCode}{0}
\DoxyCodeLine{classDiagram}
\DoxyCodeLine{\ \ \ \ class\ Asset\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +id:\ string}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +symbol:\ string}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +name:\ string}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +asset\_class:\ string}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +sector:\ string}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +currency:\ string}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +market\_cap:\ number}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +price:\ number}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +additional\_fields:\ object}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ class\ Relationship\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +source:\ string}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +target:\ string}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +type:\ string}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +strength:\ number}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ class\ Metrics\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +total\_assets:\ number}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +total\_relationships:\ number}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +network\_density:\ number}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +average\_degree:\ number}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +max\_degree:\ AssetDegree}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +asset\_class\_distribution:\ object}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ class\ VisualizationData\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +nodes:\ Node[]}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +edges:\ Edge[]}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ class\ Node\ \{}
\DoxyCodeLine{\ \ \ \ \ \ +id:\ string}
\DoxyCodeLine{\ \ \ \ \ \ +label:\ string}
\DoxyCodeLine{\ \ \ \ \ \ +color:\ string}
\DoxyCodeLine{\ \ \ \ \ \ +size:\ number}
\DoxyCodeLine{\ \ \ \ \ \ +details:\ Asset}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ class\ Edge\ \{}
\DoxyCodeLine{\ \ \ \ \ \ +source:\ string}
\DoxyCodeLine{\ \ \ \ \ \ +target:\ string}
\DoxyCodeLine{\ \ \ \ \ \ +strength:\ number}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ VisualizationData\ "{}1"{}\ -\/-\/\ "{}0..*"{}\ Node}
\DoxyCodeLine{\ \ \ \ VisualizationData\ "{}1"{}\ -\/-\/\ "{}0..*"{}\ Edge}
\DoxyCodeLine{\ \ \ \ Node\ "{}1"{}\ -\/-\/\ "{}1"{}\ Asset\ :\ contains}
\DoxyCodeLine{\ \ \ \ Edge\ "{}1"{}\ -\/-\/\ "{}1"{}\ Relationship\ :\ represents}

\end{DoxyCode}


This class diagram outlines the structure of the primary data types used in the API communication. Sources\+: \mbox{[}frontend/app/types/api.\+ts\mbox{]}(), \mbox{[}\doxylink{TEST__SUMMARY_8md}{TEST\+\_\+\+SUMMARY.\+md}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1590}{}\doxysubsubsection{\texorpdfstring{{\ttfamily Asset} Interface}{{\ttfamily Asset} Interface}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1590}
\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{3}{|X[-1]}|}
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Property   }&\cellcolor{\tableheadbgcolor}\textbf{ Type   }&\cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-3}
\endfirsthead
\hline
\endfoot
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Property   }&\cellcolor{\tableheadbgcolor}\textbf{ Type   }&\cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-3}
\endhead
{\ttfamily id}   &{\ttfamily string}   &Unique identifier for the asset.    \\\cline{1-3}
{\ttfamily symbol}   &{\ttfamily string}   &The ticker symbol or identifier.    \\\cline{1-3}
{\ttfamily name}   &{\ttfamily string}   &The full name of the asset.    \\\cline{1-3}
{\ttfamily asset\+\_\+class}   &{\ttfamily string}   &The class of the asset (e.\+g., \textquotesingle{}Equity\textquotesingle{}, \textquotesingle{}Bond\textquotesingle{}).    \\\cline{1-3}
{\ttfamily sector}   &{\ttfamily string}   &The industry sector.    \\\cline{1-3}
{\ttfamily currency}   &{\ttfamily string}   &The currency the asset is priced in (ISO code).    \\\cline{1-3}
{\ttfamily market\+\_\+cap}   &{\ttfamily number}   &The market capitalization.    \\\cline{1-3}
{\ttfamily price}   &{\ttfamily number}   &The current price of the asset.    \\\cline{1-3}
{\ttfamily additional\+\_\+fields}   &{\ttfamily Record\texorpdfstring{$<$}{<}string, any\texorpdfstring{$>$}{>}}   &A key-\/value map for asset-\/specific data.   \\\cline{1-3}
\end{longtabu}


Sources\+: \mbox{[}frontend/app/types/api.\+ts\+:1-\/11\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1591}{}\doxysubsection{\texorpdfstring{Error Handling}{Error Handling}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1591}
Error handling is implemented using {\ttfamily try...catch} blocks within each API function. The client is designed to catch errors thrown by Axios, which are typically instances of {\ttfamily Axios\+Error}. The caught error is logged to the console, and the function re-\/throws the error to allow the calling component to implement its own UI-\/specific error handling logic (e.\+g., displaying a notification or a fallback UI).

The test suite validates this behavior by mocking various error scenarios, including network errors, timeouts, and HTTP status codes like 404 and 500.

Sources\+: \mbox{[}frontend/app/lib/api.\+ts\mbox{]}(), \mbox{[}frontend/\texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}tests\texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}/lib/api.test.\+ts\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1592}{}\doxysubsubsection{\texorpdfstring{Error Handling Flow}{Error Handling Flow}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1592}

\begin{DoxyCode}{0}
\DoxyCodeLine{flowchart\ TD}
\DoxyCodeLine{\ \ \ \ A[Component\ calls\ API\ function]\ -\/-\/>\ B\{try...catch\ block\};}
\DoxyCodeLine{\ \ \ \ B\ -\/-\/\ "{}try"{}\ -\/-\/>\ C[apiClient\ makes\ HTTP\ request];}
\DoxyCodeLine{\ \ \ \ C\ -\/-\/>\ D\{Request\ Successful?\};}
\DoxyCodeLine{\ \ \ \ D\ -\/-\/\ Yes\ -\/-\/>\ E[Return\ response.data];}
\DoxyCodeLine{\ \ \ \ D\ -\/-\/\ No\ -\/-\/>\ F[Axios\ throws\ error];}
\DoxyCodeLine{\ \ \ \ F\ -\/-\/>\ G[catch\ (error)\ block];}
\DoxyCodeLine{\ \ \ \ G\ -\/-\/>\ H[Log\ error\ to\ console];}
\DoxyCodeLine{\ \ \ \ H\ -\/-\/>\ I[Re-\/throw\ error];}
\DoxyCodeLine{\ \ \ \ I\ -\/-\/>\ J[Calling\ component\ handles\ error];}
\DoxyCodeLine{\ \ \ \ E\ -\/-\/>\ J;}

\end{DoxyCode}


This flowchart shows the standardized error handling process for all API calls. Sources\+: \mbox{[}frontend/app/lib/api.\+ts\+:13-\/23\mbox{]}(), \mbox{[}frontend/\texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}tests\texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}/lib/api.test.\+ts\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1593}{}\doxysubsection{\texorpdfstring{Testing}{Testing}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1593}
The API client is extensively tested using Jest. The tests cover every exported function and validate multiple scenarios\+:


\begin{DoxyItemize}
\item {\bfseries{Configuration}}\+: Ensures the Axios instance is created correctly.
\item {\bfseries{Successful Responses}}\+: Verifies that data is returned in the expected format.
\item {\bfseries{Filtering}}\+: Confirms that query parameters are correctly passed for functions like {\ttfamily get\+Assets}.
\item {\bfseries{Error Handling}}\+: Mocks network errors, HTTP 404/500 errors, and timeouts to ensure they are handled gracefully.
\item {\bfseries{Type Safety}}\+: The tests are written in Type\+Script, implicitly validating the data models.
\end{DoxyItemize}

These tests provide a safety net against regressions and ensure the API client remains reliable and consistent with the backend contract.

Sources\+: \mbox{[}frontend/\texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}tests\texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}/lib/api.test.\+ts\mbox{]}(), \mbox{[}\doxylink{TEST__SUMMARY_8md}{TEST\+\_\+\+SUMMARY.\+md}\mbox{]}(), \mbox{[}\doxylink{TESTING__GUIDE_8md}{TESTING\+\_\+\+GUIDE.\+md}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1594}{}\doxysubsubsection{\texorpdfstring{Component\+: Network\+Visualization}{Component\+: Network\+Visualization}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1594}


{\bfseries{Relevant source files}}\begin{adjustwidth}{1em}{0em}
The following files were used as context for generating this wiki page\+:


\begin{DoxyItemize}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/frontend/app/components/NetworkVisualization.tsx}{\texttt{ frontend/app/components/\+Network\+Visualization.\+tsx}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/frontend/__tests__/components/NetworkVisualization.test.tsx}{\texttt{ frontend/\texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}tests\texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}/components/\+Network\+Visualization.test.\+tsx}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/frontend/app/types/api.ts}{\texttt{ frontend/app/types/api.\+ts}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/frontend/app/page.tsx}{\texttt{ frontend/app/page.\+tsx}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/api/main.py}{\texttt{ api/main.\+py}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/ARCHITECTURE.md}{\texttt{ ARCHITECTURE.\+md}}
\end{DoxyItemize}\end{adjustwidth}
\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1595}{}\doxysection{\texorpdfstring{Component\+: Network\+Visualization}{Component\+: Network\+Visualization}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1595}
The {\ttfamily Network\+Visualization} component is a client-\/side React component responsible for rendering an interactive 3D graph of financial assets and their relationships. It utilizes the {\ttfamily react-\/plotly.\+js} library to create the visualization based on data fetched from the backend API. This component is a core feature of the Next.\+js frontend, providing a visual representation of the interconnected financial network.

The component is designed to be integrated into a tabbed interface on the main application page, where it receives processed data and handles its own rendering logic, including loading and empty states.

Sources\+: \mbox{[}frontend/app/components/\+Network\+Visualization.\+tsx\mbox{]}(), \mbox{[}frontend/app/page.\+tsx\+:16\mbox{]}(), \mbox{[}\doxylink{ARCHITECTURE_8md}{ARCHITECTURE.\+md}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1596}{}\doxysubsection{\texorpdfstring{Component Architecture}{Component Architecture}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1596}
The component receives visualization data as a prop and processes it into a format suitable for Plotly.\+js. Its internal logic handles different states\+: loading, empty data, and successful data rendering.\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1597}{}\doxysubsubsection{\texorpdfstring{Component Props}{Component Props}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1597}
The component accepts a single prop\+:

\texorpdfstring{$\vert$}{|} Prop \texorpdfstring{$\vert$}{|} Type \texorpdfstring{$\vert$}{|} Description \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} \+:-\/-\/--- \texorpdfstring{$\vert$}{|} \+:-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/--- \texorpdfstring{$\vert$}{|} \+:-\/-\/-\/-\/-\/-\/-\/--- \texorpdfstring{$\vert$}{|} -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/--- \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} {\ttfamily data} \texorpdfstring{$\vert$}{|} {\ttfamily Visualization\+Data \texorpdfstring{$\vert$}{|} null} \texorpdfstring{$\vert$}{|} An object containing node and edge data for the graph, or {\ttfamily null} if data is loading. \texorpdfstring{$\vert$}{|}

Sources\+: \mbox{[}frontend/app/components/\+Network\+Visualization.\+tsx\+:11\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1598}{}\doxysubsubsection{\texorpdfstring{State Management}{State Management}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1598}
The component is stateless and derives its entire view from the {\ttfamily data} prop. It implements conditional rendering based on the state of this prop\+:


\begin{DoxyEnumerate}
\item If {\ttfamily data} is {\ttfamily null}, it displays a "{}\+Loading visualization..."{} message.
\item If {\ttfamily data} is present but {\ttfamily data.\+nodes} is an empty array, it displays a "{}\+No visualization data available."{} message.
\item If {\ttfamily data} and {\ttfamily data.\+nodes} are populated, it renders the Plotly graph.
\end{DoxyEnumerate}

Sources\+: \mbox{[}frontend/app/components/\+Network\+Visualization.\+tsx\+:14-\/19\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1599}{}\doxysubsubsection{\texorpdfstring{Rendering Flow}{Rendering Flow}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1599}
The following diagram illustrates the component\textquotesingle{}s rendering logic.


\begin{DoxyCode}{0}
\DoxyCodeLine{flowchart\ TD}
\DoxyCodeLine{\ \ \ \ A[Component\ Renders]\ -\/-\/>\ B\{Is\ \`{}data`\ prop\ null?\};}
\DoxyCodeLine{\ \ \ \ B\ -\/-\/\ Yes\ -\/-\/>\ C[Display\ "{}Loading\ visualization..."{}];}
\DoxyCodeLine{\ \ \ \ B\ -\/-\/\ No\ -\/-\/>\ D\{Is\ \`{}data.nodes`\ empty?\};}
\DoxyCodeLine{\ \ \ \ D\ -\/-\/\ Yes\ -\/-\/>\ E[Display\ "{}No\ visualization\ data\ available."{}];}
\DoxyCodeLine{\ \ \ \ D\ -\/-\/\ No\ -\/-\/>\ F[Process\ Nodes\ and\ Edges];}
\DoxyCodeLine{\ \ \ \ F\ -\/-\/>\ G[Configure\ Plotly\ Data\ and\ Layout];}
\DoxyCodeLine{\ \ \ \ G\ -\/-\/>\ H[Render\ Plotly\ 3D\ Graph];}

\end{DoxyCode}


{\itshape This diagram shows the conditional rendering path based on the {\ttfamily data} prop.}

Sources\+: \mbox{[}frontend/app/components/\+Network\+Visualization.\+tsx\+:13-\/89\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1600}{}\doxysubsection{\texorpdfstring{Data Processing}{Data Processing}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1600}
The component receives data structured according to the {\ttfamily Visualization\+Data} type and transforms it into traces for Plotly.\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1601}{}\doxysubsubsection{\texorpdfstring{Input Data Structure}{Input Data Structure}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1601}
The {\ttfamily data} prop conforms to the {\ttfamily Visualization\+Data} interface, which is defined in {\ttfamily frontend/app/types/api.\+ts}.


\begin{DoxyCode}{0}
\DoxyCodeLine{classDiagram}
\DoxyCodeLine{\ \ \ \ class\ VisualizationData\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +Node[]\ nodes}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +Edge[]\ edges}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ class\ Node\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +string\ id}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +string\ label}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +string\ color}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +number\ size}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +number\ x}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +number\ y}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +number\ z}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ class\ Edge\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +string\ source}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +string\ target}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +string\ color}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +number\ width}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ VisualizationData\ "{}1"{}\ *-\/-\/\ "{}0..*"{}\ Node}
\DoxyCodeLine{\ \ \ \ VisualizationData\ "{}1"{}\ *-\/-\/\ "{}0..*"{}\ Edge}

\end{DoxyCode}


{\itshape This diagram shows the structure of the {\ttfamily Visualization\+Data} object, including its {\ttfamily Node} and {\ttfamily Edge} arrays.}

Sources\+: \mbox{[}frontend/app/types/api.\+ts\+:25-\/41\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1602}{}\doxysubsubsection{\texorpdfstring{Node and Edge Transformation}{Node and Edge Transformation}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1602}
The component processes the {\ttfamily nodes} and {\ttfamily edges} arrays to create separate traces for the Plotly chart.


\begin{DoxyEnumerate}
\item {\bfseries{Node Processing}}\+: It iterates through {\ttfamily data.\+nodes} to create a {\ttfamily scatter3d} trace. The {\ttfamily x}, {\ttfamily y}, {\ttfamily z}, {\ttfamily text}, {\ttfamily marker.\+color}, and {\ttfamily marker.\+size} properties are populated from the corresponding fields in each {\ttfamily Node} object. Sources\+: \mbox{[}frontend/app/components/\+Network\+Visualization.\+tsx\+:23-\/32\mbox{]}()
\item {\bfseries{Edge Processing}}\+: It constructs a {\ttfamily scatter3d} trace for the edges. For each edge, it finds the coordinates of the source and target nodes and adds them to {\ttfamily x}, {\ttfamily y}, and {\ttfamily z} arrays, with a {\ttfamily null} value in between to create separate lines for each edge. Sources\+: \mbox{[}frontend/app/components/\+Network\+Visualization.\+tsx\+:34-\/52\mbox{]}()
\end{DoxyEnumerate}\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1603}{}\doxysubsection{\texorpdfstring{Plotly Configuration}{Plotly Configuration}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1603}
The visualization is configured through {\ttfamily data} (traces) and {\ttfamily layout} objects passed to the {\ttfamily Plot} component from {\ttfamily react-\/plotly.\+js}.\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1604}{}\doxysubsubsection{\texorpdfstring{Plotly Traces}{Plotly Traces}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1604}
Two {\ttfamily scatter3d} traces are generated\+: one for nodes and one for edges.\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1605}{}\doxysubsubsubsection{\texorpdfstring{Node Trace ({\ttfamily node\+Trace})}{Node Trace ({\ttfamily node\+Trace})}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1605}
\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{3}{|X[-1]}|}
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Property   }&\cellcolor{\tableheadbgcolor}\textbf{ Value   }&\cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-3}
\endfirsthead
\hline
\endfoot
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Property   }&\cellcolor{\tableheadbgcolor}\textbf{ Value   }&\cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-3}
\endhead
{\ttfamily x}, {\ttfamily y}, {\ttfamily z}   &Arrays of coordinates from {\ttfamily data.\+nodes}   &Positions the nodes in 3D space.    \\\cline{1-3}
{\ttfamily text}   &Array of labels from {\ttfamily data.\+nodes}   &Text to display on hover.    \\\cline{1-3}
{\ttfamily mode}   &`\textquotesingle{}markers'{\ttfamily \textbackslash{}ilinebr \texorpdfstring{$<$}{<}/td\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}td class="{}markdown\+Table\+Body\+Left"{}\texorpdfstring{$>$}{>} Renders nodes as markers (points). \textbackslash{}ilinebr \texorpdfstring{$<$}{<}/td\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}/tr\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}tr class="{}markdown\+Table\+Row\+Even"{}\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}td class="{}markdown\+Table\+Body\+Left"{}\texorpdfstring{$>$}{>}}hoverinfo{\ttfamily \textbackslash{}ilinebr \texorpdfstring{$<$}{<}/td\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}td class="{}markdown\+Table\+Body\+Left"{}\texorpdfstring{$>$}{>}}\textquotesingle{}text\textquotesingle{}{\ttfamily \textbackslash{}ilinebr \texorpdfstring{$<$}{<}/td\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}td class="{}markdown\+Table\+Body\+Left"{}\texorpdfstring{$>$}{>} Shows only the}text{\ttfamily field on hover. \textbackslash{}ilinebr \texorpdfstring{$<$}{<}/td\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}/tr\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}tr class="{}markdown\+Table\+Row\+Odd"{}\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}td class="{}markdown\+Table\+Body\+Left"{}\texorpdfstring{$>$}{>}}marker.\+color{\ttfamily \textbackslash{}ilinebr \texorpdfstring{$<$}{<}/td\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}td class="{}markdown\+Table\+Body\+Left"{}\texorpdfstring{$>$}{>} Array of colors from}data.\+nodes{\ttfamily \textbackslash{}ilinebr \texorpdfstring{$<$}{<}/td\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}td class="{}markdown\+Table\+Body\+Left"{}\texorpdfstring{$>$}{>} Sets the color for each node. \textbackslash{}ilinebr \texorpdfstring{$<$}{<}/td\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}/tr\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}tr class="{}markdown\+Table\+Row\+Even"{}\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}td class="{}markdown\+Table\+Body\+Left"{}\texorpdfstring{$>$}{>}}marker.\+size{\ttfamily \textbackslash{}ilinebr \texorpdfstring{$<$}{<}/td\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}td class="{}markdown\+Table\+Body\+Left"{}\texorpdfstring{$>$}{>} Array of sizes from}data.\+nodes{\ttfamily \textbackslash{}ilinebr \texorpdfstring{$<$}{<}/td\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}td class="{}markdown\+Table\+Body\+Left"{}\texorpdfstring{$>$}{>} Sets the size for each node. \textbackslash{}ilinebr \texorpdfstring{$<$}{<}/td\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}/tr\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}tr class="{}markdown\+Table\+Row\+Odd"{}\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}td class="{}markdown\+Table\+Body\+Left"{}\texorpdfstring{$>$}{>}}marker.\+sizemode{\ttfamily \textbackslash{}ilinebr \texorpdfstring{$<$}{<}/td\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}td class="{}markdown\+Table\+Body\+Left"{}\texorpdfstring{$>$}{>}}\textquotesingle{}diameter\textquotesingle{}{\ttfamily \textbackslash{}ilinebr \texorpdfstring{$<$}{<}/td\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}td class="{}markdown\+Table\+Body\+Left"{}\texorpdfstring{$>$}{>} Interprets}size\`{} as the marker diameter.   \\\cline{1-3}
\end{longtabu}


Sources\+: \mbox{[}frontend/app/components/\+Network\+Visualization.\+tsx\+:21-\/33\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1606}{}\doxysubsubsubsection{\texorpdfstring{Edge Trace ({\ttfamily edge\+Trace})}{Edge Trace ({\ttfamily edge\+Trace})}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1606}
\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{3}{|X[-1]}|}
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Property   }&\cellcolor{\tableheadbgcolor}\textbf{ Value   }&\cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-3}
\endfirsthead
\hline
\endfoot
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Property   }&\cellcolor{\tableheadbgcolor}\textbf{ Value   }&\cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-3}
\endhead
{\ttfamily x}, {\ttfamily y}, {\ttfamily z}   &Arrays of interleaved source/target coordinates separated by {\ttfamily null}   &Defines the start and end points for each edge line.    \\\cline{1-3}
{\ttfamily mode}   &`\textquotesingle{}lines'{\ttfamily \textbackslash{}ilinebr \texorpdfstring{$<$}{<}/td\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}td class="{}markdown\+Table\+Body\+Left"{}\texorpdfstring{$>$}{>} Renders edges as lines. \textbackslash{}ilinebr \texorpdfstring{$<$}{<}/td\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}/tr\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}tr class="{}markdown\+Table\+Row\+Odd"{}\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}td class="{}markdown\+Table\+Body\+Left"{}\texorpdfstring{$>$}{>}}hoverinfo{\ttfamily \textbackslash{}ilinebr \texorpdfstring{$<$}{<}/td\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}td class="{}markdown\+Table\+Body\+Left"{}\texorpdfstring{$>$}{>}}\textquotesingle{}none\textquotesingle{}{\ttfamily \textbackslash{}ilinebr \texorpdfstring{$<$}{<}/td\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}td class="{}markdown\+Table\+Body\+Left"{}\texorpdfstring{$>$}{>} Disables hover interactions for edges. \textbackslash{}ilinebr \texorpdfstring{$<$}{<}/td\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}/tr\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}tr class="{}markdown\+Table\+Row\+Even"{}\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}td class="{}markdown\+Table\+Body\+Left"{}\texorpdfstring{$>$}{>}}line.\+color{\ttfamily \textbackslash{}ilinebr \texorpdfstring{$<$}{<}/td\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}td class="{}markdown\+Table\+Body\+Left"{}\texorpdfstring{$>$}{>}}\textquotesingle{}\#888\textquotesingle{}{\ttfamily \textbackslash{}ilinebr \texorpdfstring{$<$}{<}/td\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}td class="{}markdown\+Table\+Body\+Left"{}\texorpdfstring{$>$}{>} Sets a default gray color for all edges. \textbackslash{}ilinebr \texorpdfstring{$<$}{<}/td\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}/tr\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}tr class="{}markdown\+Table\+Row\+Odd"{}\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}td class="{}markdown\+Table\+Body\+Left"{}\texorpdfstring{$>$}{>}}line.\+width{\ttfamily \textbackslash{}ilinebr \texorpdfstring{$<$}{<}/td\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}td class="{}markdown\+Table\+Body\+Left"{}\texorpdfstring{$>$}{>}}1\`{}   &Sets a default width for all edges.   \\\cline{1-3}
\end{longtabu}


Sources\+: \mbox{[}frontend/app/components/\+Network\+Visualization.\+tsx\+:34-\/53\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1607}{}\doxysubsubsection{\texorpdfstring{Plotly Layout}{Plotly Layout}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1607}
The {\ttfamily layout} object configures the overall appearance and behavior of the 3D scene.

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{3}{|X[-1]}|}
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Property   }&\cellcolor{\tableheadbgcolor}\textbf{ Value   }&\cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-3}
\endfirsthead
\hline
\endfoot
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Property   }&\cellcolor{\tableheadbgcolor}\textbf{ Value   }&\cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-3}
\endhead
{\ttfamily title}   &`\textquotesingle{}Financial Asset Relationship Network'{\ttfamily \textbackslash{}ilinebr \texorpdfstring{$<$}{<}/td\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}td class="{}markdown\+Table\+Body\+Left"{}\texorpdfstring{$>$}{>} The title of the graph. \textbackslash{}ilinebr \texorpdfstring{$<$}{<}/td\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}/tr\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}tr class="{}markdown\+Table\+Row\+Even"{}\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}td class="{}markdown\+Table\+Body\+Left"{}\texorpdfstring{$>$}{>}}autosize{\ttfamily \textbackslash{}ilinebr \texorpdfstring{$<$}{<}/td\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}td class="{}markdown\+Table\+Body\+Left"{}\texorpdfstring{$>$}{>}}true{\ttfamily \textbackslash{}ilinebr \texorpdfstring{$<$}{<}/td\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}td class="{}markdown\+Table\+Body\+Left"{}\texorpdfstring{$>$}{>} Allows the plot to fill its container. \textbackslash{}ilinebr \texorpdfstring{$<$}{<}/td\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}/tr\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}tr class="{}markdown\+Table\+Row\+Odd"{}\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}td class="{}markdown\+Table\+Body\+Left"{}\texorpdfstring{$>$}{>}}showlegend{\ttfamily \textbackslash{}ilinebr \texorpdfstring{$<$}{<}/td\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}td class="{}markdown\+Table\+Body\+Left"{}\texorpdfstring{$>$}{>}}false{\ttfamily \textbackslash{}ilinebr \texorpdfstring{$<$}{<}/td\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}td class="{}markdown\+Table\+Body\+Left"{}\texorpdfstring{$>$}{>} Hides the plot legend. \textbackslash{}ilinebr \texorpdfstring{$<$}{<}/td\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}/tr\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}tr class="{}markdown\+Table\+Row\+Even"{}\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}td class="{}markdown\+Table\+Body\+Left"{}\texorpdfstring{$>$}{>}}scene.\+xaxis.\+visible{\ttfamily \textbackslash{}ilinebr \texorpdfstring{$<$}{<}/td\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}td class="{}markdown\+Table\+Body\+Left"{}\texorpdfstring{$>$}{>}}false{\ttfamily \textbackslash{}ilinebr \texorpdfstring{$<$}{<}/td\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}td class="{}markdown\+Table\+Body\+Left"{}\texorpdfstring{$>$}{>} Hides the x-\/axis lines, labels, and grid. \textbackslash{}ilinebr \texorpdfstring{$<$}{<}/td\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}/tr\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}tr class="{}markdown\+Table\+Row\+Odd"{}\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}td class="{}markdown\+Table\+Body\+Left"{}\texorpdfstring{$>$}{>}}scene.\+yaxis.\+visible{\ttfamily \textbackslash{}ilinebr \texorpdfstring{$<$}{<}/td\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}td class="{}markdown\+Table\+Body\+Left"{}\texorpdfstring{$>$}{>}}false{\ttfamily \textbackslash{}ilinebr \texorpdfstring{$<$}{<}/td\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}td class="{}markdown\+Table\+Body\+Left"{}\texorpdfstring{$>$}{>} Hides the y-\/axis lines, labels, and grid. \textbackslash{}ilinebr \texorpdfstring{$<$}{<}/td\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}/tr\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}tr class="{}markdown\+Table\+Row\+Even"{}\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}td class="{}markdown\+Table\+Body\+Left"{}\texorpdfstring{$>$}{>}}scene.\+zaxis.\+visible{\ttfamily \textbackslash{}ilinebr \texorpdfstring{$<$}{<}/td\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}td class="{}markdown\+Table\+Body\+Left"{}\texorpdfstring{$>$}{>}}false{\ttfamily \textbackslash{}ilinebr \texorpdfstring{$<$}{<}/td\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}td class="{}markdown\+Table\+Body\+Left"{}\texorpdfstring{$>$}{>} Hides the z-\/axis lines, labels, and grid. \textbackslash{}ilinebr \texorpdfstring{$<$}{<}/td\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}/tr\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}tr class="{}markdown\+Table\+Row\+Odd"{}\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}td class="{}markdown\+Table\+Body\+Left"{}\texorpdfstring{$>$}{>}}margin{\ttfamily \textbackslash{}ilinebr \texorpdfstring{$<$}{<}/td\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}td class="{}markdown\+Table\+Body\+Left"{}\texorpdfstring{$>$}{>}}\{ l\+: 0, r\+: 0, b\+: 0, t\+: 40 \}{\ttfamily \textbackslash{}ilinebr \texorpdfstring{$<$}{<}/td\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}td class="{}markdown\+Table\+Body\+Left"{}\texorpdfstring{$>$}{>} Removes margins around the plot area. \textbackslash{}ilinebr \texorpdfstring{$<$}{<}/td\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}/tr\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}tr class="{}markdown\+Table\+Row\+Even"{}\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}td class="{}markdown\+Table\+Body\+Left"{}\texorpdfstring{$>$}{>}}paper\+\_\+bgcolor{\ttfamily \textbackslash{}ilinebr \texorpdfstring{$<$}{<}/td\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}td class="{}markdown\+Table\+Body\+Left"{}\texorpdfstring{$>$}{>}}\textquotesingle{}\#f0f2f5\textquotesingle{}{\ttfamily (light) or}\textquotesingle{}\#1a202c\textquotesingle{}{\ttfamily (dark) \textbackslash{}ilinebr \texorpdfstring{$<$}{<}/td\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}td class="{}markdown\+Table\+Body\+Left"{}\texorpdfstring{$>$}{>} Sets the background color of the plot container. \textbackslash{}ilinebr \texorpdfstring{$<$}{<}/td\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}/tr\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}tr class="{}markdown\+Table\+Row\+Odd"{}\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}td class="{}markdown\+Table\+Body\+Left"{}\texorpdfstring{$>$}{>}}plot\+\_\+bgcolor{\ttfamily \textbackslash{}ilinebr \texorpdfstring{$<$}{<}/td\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}td class="{}markdown\+Table\+Body\+Left"{}\texorpdfstring{$>$}{>}}\textquotesingle{}\#f0f2f5\textquotesingle{}{\ttfamily (light) or}\textquotesingle{}\#1a202c\textquotesingle{}\`{} (dark)   &Sets the background color of the plotting area.   \\\cline{1-3}
\end{longtabu}


{\itshape Note\+: Background colors are conditionally set based on the theme, but the provided file only shows one set of values.} Sources\+: \mbox{[}frontend/app/components/\+Network\+Visualization.\+tsx\+:55-\/73\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1608}{}\doxysubsection{\texorpdfstring{Integration}{Integration}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1608}
The {\ttfamily Network\+Visualization} component is used within the main application page, {\ttfamily frontend/app/page.\+tsx}.


\begin{DoxyCode}{0}
\DoxyCodeLine{sequenceDiagram}
\DoxyCodeLine{\ \ \ \ participant\ Page\ as\ "{}app/page.tsx"{}}
\DoxyCodeLine{\ \ \ \ participant\ API\ as\ "{}FastAPI\ Backend"{}}
\DoxyCodeLine{\ \ \ \ participant\ Viz\ as\ "{}NetworkVisualization"{}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ Page-\/>>API:\ GET\ /api/visualization}
\DoxyCodeLine{\ \ \ \ API-\/-\/>>Page:\ \{\ nodes:\ [...],\ edges:\ [...]\ \}}
\DoxyCodeLine{\ \ \ \ Page-\/>>Viz:\ Renders\ <NetworkVisualization\ data=\{vizData\}\ />}
\DoxyCodeLine{\ \ \ \ Note\ over\ Viz:\ Component\ processes\ data\ and\ renders\ Plotly\ graph}

\end{DoxyCode}


{\itshape This diagram shows how the main page fetches data and passes it to the {\ttfamily Network\+Visualization} component.}

In {\ttfamily page.\+tsx}, it is rendered inside a {\ttfamily Tabs\+Content} container, making it visible when the "{}3\+D Visualization"{} tab is active. The {\ttfamily viz\+Data} state from the page is passed directly to the component\textquotesingle{}s {\ttfamily data} prop.

Sources\+: \mbox{[}frontend/app/page.\+tsx\+:16, 68-\/70\mbox{]}(), \mbox{[}\doxylink{ARCHITECTURE_8md}{ARCHITECTURE.\+md}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1609}{}\doxysubsection{\texorpdfstring{Testing}{Testing}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1609}
The component is tested in {\ttfamily frontend/\+\_\+\+\_\+tests\+\_\+\+\_\+/components/\+Network\+Visualization.\+test.\+tsx}. The tests cover several key areas\+:


\begin{DoxyItemize}
\item {\bfseries{Rendering States}}\+:
\begin{DoxyItemize}
\item It correctly displays a loading message when {\ttfamily data} is {\ttfamily null}.
\item It correctly displays an empty state message when {\ttfamily data.\+nodes} is an empty array.
\item It renders the {\ttfamily Plot} component when valid data is provided.
\end{DoxyItemize}
\item {\bfseries{Data Processing}}\+:
\begin{DoxyItemize}
\item It processes node data correctly into Plotly-\/compatible {\ttfamily x}, {\ttfamily y}, {\ttfamily z}, {\ttfamily color}, and {\ttfamily size} arrays.
\item It processes edge data correctly, ensuring source and target nodes are connected.
\end{DoxyItemize}
\item {\bfseries{Plotly Configuration}}\+:
\begin{DoxyItemize}
\item It verifies that the {\ttfamily data} and {\ttfamily layout} props passed to the {\ttfamily Plot} component have the correct structure and values.
\end{DoxyItemize}
\item {\bfseries{Edge Cases}}\+:
\begin{DoxyItemize}
\item Handles scenarios with a single node and no edges.
\item Handles empty data gracefully.
\end{DoxyItemize}
\end{DoxyItemize}

Sources\+: \mbox{[}frontend/\texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}tests\texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}/components/\+Network\+Visualization.test.\+tsx\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1610}{}\doxysubsection{\texorpdfstring{Summary}{Summary}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1610}
The {\ttfamily Network\+Visualization} component is a specialized, presentation-\/focused component that encapsulates the logic for displaying a complex 3D financial network graph. It effectively decouples the visualization logic from the data-\/fetching and state management concerns, which are handled by its parent component ({\ttfamily page.\+tsx}). By relying on a well-\/defined {\ttfamily Visualization\+Data} structure, it serves as a robust and testable module for the application\textquotesingle{}s primary visual feature.\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1611}{}\doxysubsubsection{\texorpdfstring{Component\+: Asset\+List}{Component\+: Asset\+List}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1611}


{\bfseries{Relevant source files}}\begin{adjustwidth}{1em}{0em}


The following files were used as context for generating this wiki page\+:


\begin{DoxyItemize}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/frontend/app/components/AssetList.tsx}{\texttt{ frontend/app/components/\+Asset\+List.\+tsx}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/frontend/__tests__/components/AssetList.test.tsx}{\texttt{ frontend/\texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}tests\texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}/components/\+Asset\+List.test.\+tsx}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/frontend/app/lib/api.ts}{\texttt{ frontend/app/lib/api.\+ts}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/frontend/app/types/api.ts}{\texttt{ frontend/app/types/api.\+ts}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/TESTING_GUIDE.md}{\texttt{ TESTING\+\_\+\+GUIDE.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/frontend/README.md}{\texttt{ frontend/\+README.\+md}}
\end{DoxyItemize}

\end{adjustwidth}
\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1612}{}\doxysection{\texorpdfstring{Component\+: Asset\+List}{Component\+: Asset\+List}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1612}
The {\ttfamily Asset\+List} is a stateful React component responsible for displaying a filterable and paginated list of financial assets. It fetches data from the backend API, manages loading and error states, and updates the view based on user interactions with filter and pagination controls. The component\textquotesingle{}s state is synchronized with the URL query parameters, allowing for shareable and bookmarkable views.

Sources\+: \mbox{[}frontend/app/components/\+Asset\+List.\+tsx\mbox{]}(), \mbox{[}\doxylink{frontend_2README_8md}{frontend/\+README.\+md}\+:30-\/34\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1613}{}\doxysubsection{\texorpdfstring{Architecture and Data Flow}{Architecture and Data Flow}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1613}
The component\textquotesingle{}s logic is centered around a {\ttfamily use\+Effect} hook that triggers data fetching whenever URL search parameters change. It uses hooks from {\ttfamily next/navigation} to read and write to the URL, creating a single source of truth for the component\textquotesingle{}s state.

Sources\+: \mbox{[}frontend/app/components/\+Asset\+List.\+tsx\+:41-\/69\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1614}{}\doxysubsubsection{\texorpdfstring{Component Lifecycle and State Management}{Component Lifecycle and State Management}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1614}
The following diagram illustrates the data flow from component mount to rendering the asset list.


\begin{DoxyCode}{0}
\DoxyCodeLine{flowchart\ TD}
\DoxyCodeLine{\ \ \ \ subgraph\ AssetList\ Component}
\DoxyCodeLine{\ \ \ \ \ \ \ \ A[Mount]\ -\/-\/>\ B\{Read\ URL\ Search\ Params\};}
\DoxyCodeLine{\ \ \ \ \ \ \ \ B\ -\/-\/>\ C[Set\ Initial\ State\ (page,\ filters)];}
\DoxyCodeLine{\ \ \ \ \ \ \ \ C\ -\/-\/>\ D[useEffect\ Trigger];}
\DoxyCodeLine{\ \ \ \ \ \ \ \ D\ -\/-\/>\ E\{Fetch\ Data\ from\ API\};}
\DoxyCodeLine{\ \ \ \ \ \ \ \ E\ -\/-\/\ Success\ -\/-\/>\ F[Set\ Assets\ \&\ Pagination\ Data];}
\DoxyCodeLine{\ \ \ \ \ \ \ \ E\ -\/-\/\ Error\ -\/-\/>\ G[Set\ Error\ State];}
\DoxyCodeLine{\ \ \ \ \ \ \ \ F\ -\/-\/>\ H[Render\ Asset\ Table\ \&\ Filters];}
\DoxyCodeLine{\ \ \ \ \ \ \ \ G\ -\/-\/>\ I[Render\ Error\ Message];}
\DoxyCodeLine{\ \ \ \ end}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ subgraph\ User\ Interaction}
\DoxyCodeLine{\ \ \ \ \ \ \ \ J[User\ changes\ filter/page]\ -\/-\/>\ K[Update\ URL\ Search\ Params];}
\DoxyCodeLine{\ \ \ \ end}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ K\ -\/-\/>\ D;}

\end{DoxyCode}


This diagram shows the reactive loop where changes to URL parameters trigger a data refetch. Sources\+: \mbox{[}frontend/app/components/\+Asset\+List.\+tsx\+:28-\/69\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1615}{}\doxysubsubsection{\texorpdfstring{API Interaction}{API Interaction}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1615}
{\ttfamily Asset\+List} interacts with three main functions from the API client library ({\ttfamily app/lib/api.\+ts})\+:


\begin{DoxyEnumerate}
\item {\ttfamily api.\+get\+Asset\+Classes()}\+: To populate the "{}\+Asset Class"{} filter dropdown.
\item {\ttfamily api.\+get\+Sectors()}\+: To populate the "{}\+Sector"{} filter dropdown.
\item {\ttfamily api.\+get\+Assets()}\+: To fetch the paginated list of assets based on current filters.
\end{DoxyEnumerate}

Sources\+: \mbox{[}frontend/app/components/\+Asset\+List.\+tsx\+:44-\/50\mbox{]}(), \mbox{[}frontend/\texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}tests\texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}/components/\+Asset\+List.test.\+tsx\+:43-\/45\mbox{]}()

The following sequence diagram details the process of fetching assets.


\begin{DoxyCode}{0}
\DoxyCodeLine{sequenceDiagram}
\DoxyCodeLine{\ \ \ \ participant\ User}
\DoxyCodeLine{\ \ \ \ participant\ AssetList\ as\ "{}AssetList.tsx"{}}
\DoxyCodeLine{\ \ \ \ participant\ APIClient\ as\ "{}api.ts"{}}
\DoxyCodeLine{\ \ \ \ participant\ Backend\ as\ "{}Backend\ API"{}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ User-\/>>AssetList:\ Changes\ filter\ (e.g.,\ selects\ 'EQUITY')}
\DoxyCodeLine{\ \ \ \ activate\ AssetList}
\DoxyCodeLine{\ \ \ \ AssetList-\/>>AssetList:\ handleFilterChange()}
\DoxyCodeLine{\ \ \ \ AssetList-\/>>AssetList:\ Updates\ URL\ with\ new\ search\ param}
\DoxyCodeLine{\ \ \ \ Note\ over\ AssetList:\ useEffect\ hook\ is\ triggered\ by\ URL\ change}
\DoxyCodeLine{\ \ \ \ AssetList-\/>>APIClient:\ api.getAssets(\{\ asset\_class:\ 'EQUITY',\ ...\ \})}
\DoxyCodeLine{\ \ \ \ deactivate\ AssetList}
\DoxyCodeLine{\ \ \ \ activate\ APIClient}
\DoxyCodeLine{\ \ \ \ APIClient-\/>>Backend:\ GET\ /api/assets?asset\_class=EQUITY}
\DoxyCodeLine{\ \ \ \ activate\ Backend}
\DoxyCodeLine{\ \ \ \ Backend-\/-\/>>APIClient:\ PaginatedAssetsResponse}
\DoxyCodeLine{\ \ \ \ deactivate\ Backend}
\DoxyCodeLine{\ \ \ \ APIClient-\/-\/>>AssetList:\ Promise\ resolves\ with\ asset\ data}
\DoxyCodeLine{\ \ \ \ deactivate\ APIClient}
\DoxyCodeLine{\ \ \ \ activate\ AssetList}
\DoxyCodeLine{\ \ \ \ AssetList-\/>>AssetList:\ Updates\ state\ with\ new\ assets}
\DoxyCodeLine{\ \ \ \ AssetList-\/-\/>>User:\ Renders\ updated\ asset\ table}
\DoxyCodeLine{\ \ \ \ deactivate\ AssetList}

\end{DoxyCode}


This diagram illustrates how a user filter change propagates through the component to the backend API and back to the UI. Sources\+: \mbox{[}frontend/app/components/\+Asset\+List.\+tsx\+:41-\/69\mbox{]}(), \mbox{[}frontend/app/lib/api.\+ts\+:20-\/33\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1616}{}\doxysubsubsection{\texorpdfstring{{\ttfamily get\+Assets} API Parameters}{{\ttfamily get\+Assets} API Parameters}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1616}
The {\ttfamily get\+Assets} function accepts several parameters to filter and paginate the results.

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{4}{|X[-1]}|}
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Parameter   }&\cellcolor{\tableheadbgcolor}\textbf{ Type   }&\cellcolor{\tableheadbgcolor}\textbf{ Description   }&\cellcolor{\tableheadbgcolor}\textbf{ Source    }\\\cline{1-4}
\endfirsthead
\hline
\endfoot
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Parameter   }&\cellcolor{\tableheadbgcolor}\textbf{ Type   }&\cellcolor{\tableheadbgcolor}\textbf{ Description   }&\cellcolor{\tableheadbgcolor}\textbf{ Source    }\\\cline{1-4}
\endhead
{\ttfamily page}   &{\ttfamily number}   &The page number to retrieve.   &{\ttfamily \mbox{[}frontend/app/lib/api.\+ts\+:21\mbox{]}()}    \\\cline{1-4}
{\ttfamily per\+\_\+page}   &{\ttfamily number}   &The number of assets to retrieve per page.   &{\ttfamily \mbox{[}frontend/app/lib/api.\+ts\+:21\mbox{]}()}    \\\cline{1-4}
{\ttfamily asset\+\_\+class}   &{\ttfamily string}   &Filters assets by their class (e.\+g., \textquotesingle{}EQUITY\textquotesingle{}).   &{\ttfamily \mbox{[}frontend/app/lib/api.\+ts\+:21\mbox{]}()}    \\\cline{1-4}
{\ttfamily sector}   &{\ttfamily string}   &Filters assets by their sector (e.\+g., \textquotesingle{}Technology\textquotesingle{}).   &{\ttfamily \mbox{[}frontend/app/lib/api.\+ts\+:21\mbox{]}()}   \\\cline{1-4}
\end{longtabu}
\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1617}{}\doxysubsection{\texorpdfstring{UI Components}{UI Components}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1617}
\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1618}{}\doxysubsubsection{\texorpdfstring{Filters}{Filters}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1618}
The "{}\+Filters"{} section contains two dropdown menus\+: "{}\+Asset Class"{} and "{}\+Sector"{}.


\begin{DoxyItemize}
\item The options for these dropdowns are fetched from the {\ttfamily get\+Asset\+Classes} and {\ttfamily get\+Sectors} API endpoints on component mount.
\item Changing a filter\textquotesingle{}s value triggers the {\ttfamily handle\+Filter\+Change} function, which updates the corresponding URL search parameter and resets the page to 1. This change automatically triggers a data refetch via the {\ttfamily use\+Effect} hook.
\end{DoxyItemize}

Sources\+: \mbox{[}frontend/app/components/\+Asset\+List.\+tsx\+:75-\/111\mbox{]}(), \mbox{[}frontend/\texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}tests\texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}/components/\+Asset\+List.test.\+tsx\+:81-\/96\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1619}{}\doxysubsubsection{\texorpdfstring{Asset Table}{Asset Table}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1619}
The main content area is a table that displays the fetched assets. If the data is loading or an error occurs, a message is displayed instead.

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{3}{|X[-1]}|}
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Column   }&\cellcolor{\tableheadbgcolor}\textbf{ Description   }&\cellcolor{\tableheadbgcolor}\textbf{ Data Type    }\\\cline{1-3}
\endfirsthead
\hline
\endfoot
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Column   }&\cellcolor{\tableheadbgcolor}\textbf{ Description   }&\cellcolor{\tableheadbgcolor}\textbf{ Data Type    }\\\cline{1-3}
\endhead
{\bfseries{Symbol}}   &The asset\textquotesingle{}s ticker symbol.   &{\ttfamily string}    \\\cline{1-3}
{\bfseries{Name}}   &The full name of the asset.   &{\ttfamily string}    \\\cline{1-3}
{\bfseries{Asset Class}}   &The class of the asset (e.\+g., EQUITY, BOND).   &{\ttfamily string}    \\\cline{1-3}
{\bfseries{Sector}}   &The industry sector of the asset.   &{\ttfamily string}    \\\cline{1-3}
{\bfseries{Price}}   &The current price of the asset.   &{\ttfamily number}    \\\cline{1-3}
{\bfseries{Market Cap}}   &The market capitalization of the asset.   &{\ttfamily number}    \\\cline{1-3}
{\bfseries{Currency}}   &The currency of the price and market cap.   &{\ttfamily string}   \\\cline{1-3}
\end{longtabu}


The data for this table corresponds to the {\ttfamily Asset} type definition. Sources\+: \mbox{[}frontend/app/components/\+Asset\+List.\+tsx\+:125-\/163\mbox{]}(), \mbox{[}frontend/app/types/api.\+ts\+:1-\/10\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1620}{}\doxysubsubsection{\texorpdfstring{Pagination}{Pagination}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1620}
Pagination controls are rendered below the table.


\begin{DoxyItemize}
\item They include "{}\+Previous"{} and "{}\+Next"{} buttons.
\item The component calculates whether to disable these buttons based on the current {\ttfamily page} and the {\ttfamily total} number of assets returned from the API.
\item Clicking a button updates the {\ttfamily page} search parameter in the URL, triggering a refetch for the new page.
\end{DoxyItemize}

Sources\+: \mbox{[}frontend/app/components/\+Asset\+List.\+tsx\+:165-\/186\mbox{]}(), \mbox{[}frontend/\texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}tests\texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}/components/\+Asset\+List.test.\+tsx\+:128-\/143\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1621}{}\doxysubsection{\texorpdfstring{Error Handling and Loading States}{Error Handling and Loading States}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1621}
The component manages its state through {\ttfamily use\+State} hooks for {\ttfamily loading} and {\ttfamily error}.


\begin{DoxyItemize}
\item {\bfseries{Loading}}\+: The {\ttfamily loading} state is {\ttfamily true} while an API request is in progress. The UI displays a "{}\+Loading results..."{} message.
\item {\bfseries{Error}}\+: If an API call fails, the {\ttfamily error} state is set with an error message. The UI displays an alert with the error, and the error is logged to the console via {\ttfamily console.\+error}.
\item {\bfseries{Empty State}}\+: If the API returns no assets, a "{}\+No assets found"{} message is displayed.
\end{DoxyItemize}

Sources\+: \mbox{[}frontend/app/components/\+Asset\+List.\+tsx\+:23-\/24, 60-\/64, 113-\/124\mbox{]}(), \mbox{[}frontend/\texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}tests\texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}/components/\+Asset\+List.test.\+tsx\+:116-\/127\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1622}{}\doxysubsection{\texorpdfstring{Testing}{Testing}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1622}
The component is tested comprehensively in {\ttfamily Asset\+List.\+test.\+tsx}. The tests cover\+:


\begin{DoxyItemize}
\item Initial component rendering.
\item Data loading and display from a mocked API.
\item Functionality of asset class and sector filters.
\item Pagination logic (next/previous page requests).
\item Correct handling of loading, empty, and error states.
\item Respecting initial state from URL query parameters on mount.
\end{DoxyItemize}

The tests use {\ttfamily jest.\+mock} to mock the {\ttfamily api} client and {\ttfamily next/navigation} hooks, ensuring the component\textquotesingle{}s logic is tested in isolation.

Sources\+: \mbox{[}frontend/\texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}tests\texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}/components/\+Asset\+List.test.\+tsx\mbox{]}(), \mbox{[}\doxylink{TESTING__GUIDE_8md}{TESTING\+\_\+\+GUIDE.\+md}\+:73-\/93\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1623}{}\doxysubsection{\texorpdfstring{Summary}{Summary}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1623}
The {\ttfamily Asset\+List} component serves as a robust and interactive data browser for financial assets. By leveraging URL parameters for state management, it provides a clean, shareable, and bookmarkable user experience. Its clear separation of concernsâ€”fetching data, managing state, and rendering UIâ€”makes it a maintainable and central part of the application\textquotesingle{}s frontend.\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1624}{}\doxysubsection{\texorpdfstring{Deployment and Infrastructure}{Deployment and Infrastructure}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1624}
\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1625}{}\doxysubsubsection{\texorpdfstring{Local Development Setup}{Local Development Setup}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1625}


{\bfseries{Relevant source files}}\begin{adjustwidth}{1em}{0em}
The following files were used as context for generating this wiki page\+:
\begin{DoxyItemize}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/run-dev.sh}{\texttt{ run-\/dev.\+sh}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/run-dev.bat}{\texttt{ run-\/dev.\+bat}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/README.md}{\texttt{ README.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/CONTRIBUTING.md}{\texttt{ CONTRIBUTING.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/SUMMARY.md}{\texttt{ SUMMARY.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/frontend/README.md}{\texttt{ frontend/\+README.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/ARCHITECTURE.md}{\texttt{ ARCHITECTURE.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/INTEGRATION_SUMMARY.md}{\texttt{ INTEGRATION\+\_\+\+SUMMARY.\+md}}
\end{DoxyItemize}\end{adjustwidth}
\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1626}{}\doxysection{\texorpdfstring{Local Development Setup}{Local Development Setup}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1626}
The project supports multiple local development environments, including a modern Next.\+js frontend with a Fast\+API backend, an original Gradio-\/based UI, and a containerized Docker setup. This guide provides instructions for setting up and running the application locally for development and testing purposes. The recommended setup for most developers is the Next.\+js and Fast\+API combination, which can be launched with a single script.

For more information on the system\textquotesingle{}s components and how they interact, refer to the Architecture Overview. For contribution guidelines, including coding standards and pull request processes, see the Contributing Guide.\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1627}{}\doxysubsection{\texorpdfstring{Prerequisites}{Prerequisites}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1627}
Before starting, ensure you have the following tools installed on your system.

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{3}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Tool   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Minimum Version   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Source    }\\\cline{1-3}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Tool   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Minimum Version   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Source    }\\\cline{1-3}
\endhead
Python   &3.\+8+   &{\ttfamily \doxylink{CONTRIBUTING_8md}{CONTRIBUTING.\+md}}    \\\cline{1-3}
Node.\+js   &18+   &{\ttfamily README.\+md}    \\\cline{1-3}
Git   &N/A   &{\ttfamily \doxylink{CONTRIBUTING_8md}{CONTRIBUTING.\+md}}    \\\cline{1-3}
Virtual Env Tool   &{\ttfamily venv}, {\ttfamily virtualenv}, or {\ttfamily conda}   &{\ttfamily \doxylink{CONTRIBUTING_8md}{CONTRIBUTING.\+md}}   \\\cline{1-3}
\end{longtabu}


Sources\+: \mbox{[}\doxylink{CONTRIBUTING_8md}{CONTRIBUTING.\+md}\+:16-\/20\mbox{]}(), \mbox{[}README.\+md\+:8-\/9\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1628}{}\doxysubsection{\texorpdfstring{Core Environment Setup}{Core Environment Setup}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1628}
This initial setup is required for all development options except Docker. It involves creating a Python virtual environment and installing all necessary dependencies.\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1629}{}\doxysubsubsection{\texorpdfstring{1. Clone the Repository}{1. Clone the Repository}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1629}
First, clone your fork of the repository to your local machine. Sources\+: \mbox{[}\doxylink{CONTRIBUTING_8md}{CONTRIBUTING.\+md}\+:25-\/28\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1630}{}\doxysubsubsection{\texorpdfstring{2. Create and Activate Virtual Environment}{2. Create and Activate Virtual Environment}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1630}
It is crucial to use a virtual environment to isolate project dependencies.

{\bfseries{Create the environment\+:}}


\begin{DoxyCode}{0}
\DoxyCodeLine{python\ -\/m\ venv\ .venv}

\end{DoxyCode}


{\bfseries{Activate the environment\+:}}


\begin{DoxyItemize}
\item {\bfseries{Windows (Power\+Shell)\+:}} {\ttfamily .\textbackslash{}.venv\textbackslash{}Scripts\textbackslash{}Activate.\+ps1}
\item {\bfseries{Windows (Command Prompt)\+:}} {\ttfamily .venv\textbackslash{}Scripts\textbackslash{}activate.\+bat}
\item {\bfseries{mac\+OS/\+Linux\+:}} {\ttfamily source .venv/bin/activate}
\end{DoxyItemize}

Sources\+: \mbox{[}\doxylink{CONTRIBUTING_8md}{CONTRIBUTING.\+md}\+:40-\/56\mbox{]}(), \mbox{[}README.\+md\+:17-\/29\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1631}{}\doxysubsubsection{\texorpdfstring{3. Install Dependencies}{3. Install Dependencies}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1631}
The project separates production and development dependencies. The {\ttfamily install-\/dev} Makefile command installs both.


\begin{DoxyCode}{0}
\DoxyCodeLine{\#\ Install\ all\ dependencies\ using\ the\ Makefile}
\DoxyCodeLine{make\ install-\/dev}

\end{DoxyCode}


Alternatively, you can install them manually\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\#\ Install\ production\ dependencies}
\DoxyCodeLine{pip\ install\ -\/r\ requirements.txt}
\DoxyCodeLine{}
\DoxyCodeLine{\#\ Install\ development\ dependencies}
\DoxyCodeLine{pip\ install\ -\/r\ requirements-\/dev.txt}

\end{DoxyCode}


Sources\+: \mbox{[}\doxylink{CONTRIBUTING_8md}{CONTRIBUTING.\+md}\+:58-\/68\mbox{]}(), \mbox{[}\doxylink{SUMMARY_8md}{SUMMARY.\+md}\+:32-\/33\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1632}{}\doxysubsection{\texorpdfstring{Development Environment Options}{Development Environment Options}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1632}
The project can be run in three different modes for local development.\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1633}{}\doxysubsubsection{\texorpdfstring{Option 1\+: Next.\+js Frontend + Fast\+API Backend (Recommended)}{Option 1\+: Next.\+js Frontend + Fast\+API Backend (Recommended)}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1633}
This setup runs the modern web frontend and the REST API backend. It is the recommended approach for most development tasks.\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1634}{}\doxysubsubsubsection{\texorpdfstring{Automated Quick Start}{Automated Quick Start}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1634}
The easiest way to start is by using the provided run scripts, which launch both the backend and frontend servers concurrently.


\begin{DoxyItemize}
\item {\bfseries{Linux/mac\+OS\+:}} {\ttfamily ./run-\/dev.sh}
\item {\bfseries{Windows\+:}} {\ttfamily run-\/dev.\+bat}
\end{DoxyItemize}

This will start the Fast\+API backend on {\ttfamily \href{http://localhost:8000}{\texttt{ http\+://localhost\+:8000}}} and the Next.\+js frontend on {\ttfamily \href{http://localhost:3000}{\texttt{ http\+://localhost\+:3000}}}.

The following diagram illustrates the process executed by the {\ttfamily run-\/dev} scripts.


\begin{DoxyCode}{0}
\DoxyCodeLine{flowchart\ TD}
\DoxyCodeLine{\ \ \ \ A[Start\ run-\/dev.sh\ /\ run-\/dev.bat]\ -\/-\/>\ B\{Terminal\ 1\};}
\DoxyCodeLine{\ \ \ \ A\ -\/-\/>\ C\{Terminal\ 2\};}
\DoxyCodeLine{\ \ \ \ B\ -\/-\/>\ D[Start\ FastAPI\ Backend];}
\DoxyCodeLine{\ \ \ \ D\ -\/-\/>\ E["{}uvicorn\ api.main:app\ -\/-\/reload\ -\/-\/port\ 8000"{}];}
\DoxyCodeLine{\ \ \ \ C\ -\/-\/>\ F[Start\ Next.js\ Frontend];}
\DoxyCodeLine{\ \ \ \ F\ -\/-\/>\ G["{}cd\ frontend\ \&\&\ npm\ run\ dev"{}];}
\DoxyCodeLine{\ \ \ \ E\ -\/-\/>\ H[Backend\ running\ on\ port\ 8000];}
\DoxyCodeLine{\ \ \ \ G\ -\/-\/>\ I[Frontend\ running\ on\ port\ 3000];}

\end{DoxyCode}


Sources\+: \mbox{[}README.\+md\+:35-\/42\mbox{]}(), \mbox{[}\doxylink{INTEGRATION__SUMMARY_8md}{INTEGRATION\+\_\+\+SUMMARY.\+md}\+:129-\/137\mbox{]}(), \mbox{[}run-\/dev.\+sh\mbox{]}(), \mbox{[}run-\/dev.\+bat\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1635}{}\doxysubsubsubsection{\texorpdfstring{Manual Setup}{Manual Setup}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1635}
You can also start the servers manually in two separate terminals.


\begin{DoxyEnumerate}
\item {\bfseries{Start the Fast\+API Backend (Terminal 1)\+:}} Ensure your Python virtual environment is activated.

{\ttfamily bash python -\/m uvicorn \doxylink{namespaceapi_1_1main}{api.\+main}\+:app -\/-\/reload -\/-\/port 8000 }

The API and its auto-\/generated documentation will be available at {\ttfamily \href{http://localhost:8000}{\texttt{ http\+://localhost\+:8000}}} and {\ttfamily \href{http://localhost:8000/docs}{\texttt{ http\+://localhost\+:8000/docs}}} respectively.
\item {\bfseries{Start the Next.\+js Frontend (Terminal 2)\+:}} {\ttfamily bash cd frontend npm install npm run dev } The frontend application will be accessible at {\ttfamily \href{http://localhost:3000}{\texttt{ http\+://localhost\+:3000}}}.
\end{DoxyEnumerate}

The local development architecture for this option is shown below.


\begin{DoxyCode}{0}
\DoxyCodeLine{graph\ TD}
\DoxyCodeLine{\ \ \ \ subgraph\ "{}Developer\ Machine"{}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ Frontend["{}Next.js\ (npm\ run\ dev)<br>Port\ 3000"{}]}
\DoxyCodeLine{\ \ \ \ \ \ \ \ Backend["{}FastAPI\ (uvicorn)<br>Port\ 8000"{}]}
\DoxyCodeLine{\ \ \ \ \ \ \ \ Frontend\ -\/-\/\ "{}HTTP\ REST\ API"{}\ -\/-\/>\ Backend}
\DoxyCodeLine{\ \ \ \ end}

\end{DoxyCode}


Sources\+: \mbox{[}README.\+md\+:44-\/58\mbox{]}(), \mbox{[}\doxylink{frontend_2README_8md}{frontend/\+README.\+md}\+:15-\/21\mbox{]}(), \mbox{[}\doxylink{ARCHITECTURE_8md}{ARCHITECTURE.\+md}\+:204-\/217\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1636}{}\doxysubsubsection{\texorpdfstring{Option 2\+: Gradio UI (Original)}{Option 2\+: Gradio UI (Original)}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1636}
This option runs the original Python-\/based Gradio interface. This is useful for tasks directly related to the {\ttfamily \doxylink{app_8py}{app.\+py}} logic.


\begin{DoxyEnumerate}
\item Ensure your Python virtual environment is activated and dependencies are installed.
\item Run the application\+: {\ttfamily bash python \doxylink{app_8py}{app.\+py} }
\item The application will be available at {\ttfamily \href{http://localhost:7860}{\texttt{ http\+://localhost\+:7860}}}.
\end{DoxyEnumerate}

Sources\+: \mbox{[}README.\+md\+:11-\/33\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1637}{}\doxysubsubsection{\texorpdfstring{Option 3\+: Docker Installation (Alternative)}{Option 3\+: Docker Installation (Alternative)}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1637}
For a containerized environment that encapsulates all dependencies, you can use Docker.


\begin{DoxyEnumerate}
\item {\bfseries{Using Docker Compose (Recommended)\+:}} This command builds the necessary images and starts the services defined in {\ttfamily docker-\/compose.\+yml}.

{\ttfamily bash docker-\/compose up -\/-\/build }

You can also use the Makefile shortcut\+:

{\ttfamily bash make docker-\/compose-\/up }
\item {\bfseries{Using Docker Directly\+:}} This method builds a single image and runs the Gradio application. {\ttfamily bash docker build -\/t financial-\/asset-\/db . docker run -\/p 7860\+:7860 financial-\/asset-\/db }
\end{DoxyEnumerate}

Sources\+: \mbox{[}README.\+md\+:62-\/77\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1638}{}\doxysubsection{\texorpdfstring{Development Tools and Workflow}{Development Tools and Workflow}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1638}
The repository is configured with a suite of tools to ensure code quality and consistency. These are managed via {\ttfamily pre-\/commit} hooks and {\ttfamily Makefile} commands.\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1639}{}\doxysubsubsection{\texorpdfstring{Pre-\/commit Hooks}{Pre-\/commit Hooks}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1639}
Pre-\/commit hooks automatically run checks before each commit. It is highly recommended to install them.


\begin{DoxyCode}{0}
\DoxyCodeLine{\#\ Install\ hooks}
\DoxyCodeLine{pre-\/commit\ install}
\DoxyCodeLine{}
\DoxyCodeLine{\#\ Or\ use\ the\ Makefile}
\DoxyCodeLine{make\ pre-\/commit}

\end{DoxyCode}


The hooks are configured in {\ttfamily .pre-\/commit-\/config.\+yaml} and run tools like {\ttfamily black}, {\ttfamily isort}, {\ttfamily flake8}, and {\ttfamily mypy}. Sources\+: \mbox{[}\doxylink{CONTRIBUTING_8md}{CONTRIBUTING.\+md}\+:70-\/76\mbox{]}(), \mbox{[}\doxylink{SUMMARY_8md}{SUMMARY.\+md}\+:35-\/36\mbox{]}(), \mbox{[}\doxylink{AUDIT__REPORT_8md}{AUDIT\+\_\+\+REPORT.\+md}\+:195-\/204\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1640}{}\doxysubsubsection{\texorpdfstring{Makefile Commands}{Makefile Commands}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1640}
The {\ttfamily Makefile} provides shortcuts for common development tasks.

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{3}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Command   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Source    }\\\cline{1-3}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Command   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Source    }\\\cline{1-3}
\endhead
{\ttfamily make help}   &Show all available commands.   &{\ttfamily \doxylink{SUMMARY_8md}{SUMMARY.\+md}}    \\\cline{1-3}
{\ttfamily make install-\/dev}   &Install both production and development dependencies.   &{\ttfamily \doxylink{CONTRIBUTING_8md}{CONTRIBUTING.\+md}}    \\\cline{1-3}
{\ttfamily make check}   &Run all checks\+: format, lint, type-\/check, and test.   &{\ttfamily \doxylink{CONTRIBUTING_8md}{CONTRIBUTING.\+md}}    \\\cline{1-3}
{\ttfamily make format}   &Format code with {\ttfamily black} and {\ttfamily isort}.   &{\ttfamily \doxylink{CONTRIBUTING_8md}{CONTRIBUTING.\+md}}    \\\cline{1-3}
{\ttfamily make lint}   &Run linters ({\ttfamily flake8} and {\ttfamily pylint}).   &{\ttfamily \doxylink{CONTRIBUTING_8md}{CONTRIBUTING.\+md}}    \\\cline{1-3}
{\ttfamily make type-\/check}   &Run {\ttfamily mypy} type checker.   &{\ttfamily \doxylink{CONTRIBUTING_8md}{CONTRIBUTING.\+md}}    \\\cline{1-3}
{\ttfamily make test}   &Run {\ttfamily pytest} with coverage.   &{\ttfamily \doxylink{CONTRIBUTING_8md}{CONTRIBUTING.\+md}}    \\\cline{1-3}
{\ttfamily make test-\/fast}   &Run {\ttfamily pytest} without coverage.   &{\ttfamily \doxylink{CONTRIBUTING_8md}{CONTRIBUTING.\+md}}    \\\cline{1-3}
{\ttfamily make run}   &Run the application (likely {\ttfamily python \doxylink{app_8py}{app.\+py}}).   &{\ttfamily \doxylink{SUMMARY_8md}{SUMMARY.\+md}}   \\\cline{1-3}
\end{longtabu}


Sources\+: \mbox{[}\doxylink{SUMMARY_8md}{SUMMARY.\+md}\+:47-\/62\mbox{]}(), \mbox{[}\doxylink{CONTRIBUTING_8md}{CONTRIBUTING.\+md}\+:95-\/112\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1641}{}\doxysubsubsection{\texorpdfstring{Running Tests}{Running Tests}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1641}
The project has separate test suites for the backend and frontend.\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1642}{}\doxysubsubsubsection{\texorpdfstring{Backend Testing (Python)}{Backend Testing (Python)}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1642}
Use {\ttfamily pytest} to run the backend tests.


\begin{DoxyCode}{0}
\DoxyCodeLine{\#\ Run\ all\ tests}
\DoxyCodeLine{pytest}
\DoxyCodeLine{}
\DoxyCodeLine{\#\ Run\ with\ coverage}
\DoxyCodeLine{pytest\ -\/-\/cov=src}

\end{DoxyCode}


Makefile shortcuts are also available\+: {\ttfamily make test} or {\ttfamily make test-\/fast}. Sources\+: \mbox{[}\doxylink{CONTRIBUTING_8md}{CONTRIBUTING.\+md}\+:173-\/189\mbox{]}(), \mbox{[}README.\+md\+:188-\/196\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1643}{}\doxysubsubsubsection{\texorpdfstring{Frontend Testing (Type\+Script)}{Frontend Testing (Type\+Script)}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1643}
The frontend tests use Jest.


\begin{DoxyCode}{0}
\DoxyCodeLine{cd\ frontend}
\DoxyCodeLine{}
\DoxyCodeLine{\#\ Run\ all\ tests}
\DoxyCodeLine{npm\ test}
\DoxyCodeLine{}
\DoxyCodeLine{\#\ Run\ tests\ with\ coverage}
\DoxyCodeLine{npm\ test\ -\/-\/\ -\/-\/coverage}

\end{DoxyCode}


Sources\+: \mbox{[}README.\+md\+:198-\/206\mbox{]}(), \mbox{[}\doxylink{frontend_2README_8md}{frontend/\+README.\+md}\+:25-\/31\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1644}{}\doxysubsection{\texorpdfstring{Summary}{Summary}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1644}
The local development setup is flexible, offering a modern dual-\/server environment with Next.\+js and Fast\+API, a legacy Gradio UI, and a containerized Docker option. The recommended path for most developers is the Next.\+js/\+Fast\+API setup, which is easily launched using the {\ttfamily run-\/dev} scripts. The project is also equipped with a robust set of development tools, managed through {\ttfamily pre-\/commit} hooks and a {\ttfamily Makefile}, to streamline development and maintain high code quality.\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1645}{}\doxysubsubsection{\texorpdfstring{Docker Deployment}{Docker Deployment}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1645}


{\bfseries{Relevant source files}}\begin{adjustwidth}{1em}{0em}


The following files were used as context for generating this wiki page\+:


\begin{DoxyItemize}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/DOCKER.md}{\texttt{ DOCKER.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/README.md}{\texttt{ README.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/SECURITY.md}{\texttt{ SECURITY.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/ARCHITECTURE.md}{\texttt{ ARCHITECTURE.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/AUDIT_REPORT.md}{\texttt{ AUDIT\+\_\+\+REPORT.\+md}}
\end{DoxyItemize}

\end{adjustwidth}
\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1646}{}\doxysection{\texorpdfstring{Docker Deployment}{Docker Deployment}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1646}
The Financial Asset Relationship Database application can be deployed and run within Docker containers, providing a consistent and isolated environment. This approach simplifies dependency management and ensures the application runs the same way regardless of the host machine. Deployment can be managed using Docker Compose for multi-\/container setups (including an optional database) or by building and running the application container directly with Docker.

While automated CI/\+CD workflows for publishing Docker images were removed to streamline the build process, local Docker-\/based deployment remains a supported and documented method for running the application.

Sources\+: \mbox{[}\doxylink{DOCKER_8md}{DOCKER.\+md}\mbox{]}(), \mbox{[}README.\+md\+:49-\/62\mbox{]}(), \mbox{[}\doxylink{AUDIT__REPORT_8md}{AUDIT\+\_\+\+REPORT.\+md}\+:83-\/85\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1647}{}\doxysubsection{\texorpdfstring{Quick Start}{Quick Start}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1647}
There are two primary methods for launching the application with Docker.\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1648}{}\doxysubsubsection{\texorpdfstring{Using Docker Compose (Recommended)}{Using Docker Compose (Recommended)}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1648}
This method builds and starts the application service defined in {\ttfamily docker-\/compose.\+yml}.


\begin{DoxyCode}{0}
\DoxyCodeLine{\#\ Build\ and\ start\ the\ application}
\DoxyCodeLine{docker-\/compose\ up\ -\/-\/build}

\end{DoxyCode}


The application will be accessible at {\ttfamily \href{http://localhost:7860}{\texttt{ http\+://localhost\+:7860}}}.

Sources\+: \mbox{[}\doxylink{DOCKER_8md}{DOCKER.\+md}\+:6-\/11\mbox{]}(), \mbox{[}README.\+md\+:52-\/54\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1649}{}\doxysubsubsection{\texorpdfstring{Using Docker Directly}{Using Docker Directly}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1649}
This method involves manually building the Docker image from the {\ttfamily Dockerfile} and then running it as a container.


\begin{DoxyCode}{0}
\DoxyCodeLine{\#\ 1.\ Build\ the\ image}
\DoxyCodeLine{docker\ build\ -\/t\ financial-\/asset-\/db\ .}
\DoxyCodeLine{}
\DoxyCodeLine{\#\ 2.\ Run\ the\ container,\ mapping\ port\ 7860}
\DoxyCodeLine{docker\ run\ -\/p\ 7860:7860\ financial-\/asset-\/db}

\end{DoxyCode}


The application will be accessible at {\ttfamily \href{http://localhost:7860}{\texttt{ http\+://localhost\+:7860}}}.

Sources\+: \mbox{[}\doxylink{DOCKER_8md}{DOCKER.\+md}\+:13-\/20\mbox{]}(), \mbox{[}README.\+md\+:56-\/58\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1650}{}\doxysubsection{\texorpdfstring{Deployment Architecture}{Deployment Architecture}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1650}
The Docker deployment isolates the application and its dependencies. The {\ttfamily docker-\/compose.\+yml} file orchestrates the services, including the main application and an optional Postgre\+SQL database.

Sources\+: \mbox{[}\doxylink{ARCHITECTURE_8md}{ARCHITECTURE.\+md}\+:10-\/47\mbox{]}(), \mbox{[}\doxylink{DOCKER_8md}{DOCKER.\+md}\+:36-\/46\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1651}{}\doxysubsubsection{\texorpdfstring{Service Interaction}{Service Interaction}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1651}
The following diagram illustrates the services defined in the Docker Compose setup.


\begin{DoxyCode}{0}
\DoxyCodeLine{graph\ TD}
\DoxyCodeLine{\ \ \ \ subgraph\ Docker\ Environment}
\DoxyCodeLine{\ \ \ \ \ \ \ \ App\_Service[app:\ financial-\/asset-\/db]}
\DoxyCodeLine{\ \ \ \ \ \ \ \ Postgres\_Service[postgres\ (Optional)]}
\DoxyCodeLine{\ \ \ \ end}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ User[User]\ -\/-\/>|HTTP\ Request\ on\ localhost:7860|\ App\_Service}
\DoxyCodeLine{\ \ \ \ App\_Service\ -\/-\/>|Connects\ via\ internal\ network|\ Postgres\_Service}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ style\ App\_Service\ fill:\#d4f0fd}
\DoxyCodeLine{\ \ \ \ style\ Postgres\_Service\ fill:\#fcf3cf}

\end{DoxyCode}


This diagram shows the user accessing the {\ttfamily app} service, which can optionally connect to a {\ttfamily postgres} database service within the same Docker network.

Sources\+: \mbox{[}\doxylink{DOCKER_8md}{DOCKER.\+md}\+:36-\/46\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1652}{}\doxysubsection{\texorpdfstring{Configuration}{Configuration}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1652}
\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1653}{}\doxysubsubsection{\texorpdfstring{Docker Compose Services}{Docker Compose Services}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1653}
The {\ttfamily docker-\/compose.\+yml} file describes the services, networks, and volumes. Although the file is not present, {\ttfamily \doxylink{DOCKER_8md}{DOCKER.\+md}} outlines its key components\+: an {\ttfamily app} service for the Gradio application and an optional {\ttfamily postgres} service for data persistence. The {\ttfamily app} service mounts the local {\ttfamily src/} directory for live development.

Sources\+: \mbox{[}\doxylink{DOCKER_8md}{DOCKER.\+md}\+:24-\/28, 36-\/38\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1654}{}\doxysubsubsection{\texorpdfstring{Environment Variables}{Environment Variables}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1654}
Application behavior is configured via environment variables set in {\ttfamily docker-\/compose.\+yml}.

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{3}{|X[-1]}|}
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Variable   }&\cellcolor{\tableheadbgcolor}\textbf{ Description   }&\cellcolor{\tableheadbgcolor}\textbf{ Default Value    }\\\cline{1-3}
\endfirsthead
\hline
\endfoot
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Variable   }&\cellcolor{\tableheadbgcolor}\textbf{ Description   }&\cellcolor{\tableheadbgcolor}\textbf{ Default Value    }\\\cline{1-3}
\endhead
{\ttfamily GRADIO\+\_\+\+SERVER\+\_\+\+NAME}   &The host address the Gradio server binds to. {\ttfamily 0.\+0.\+0.\+0} makes it accessible externally.   &{\ttfamily 0.\+0.\+0.\+0}    \\\cline{1-3}
{\ttfamily GRADIO\+\_\+\+SERVER\+\_\+\+PORT}   &The port the Gradio server listens on inside the container.   &{\ttfamily 7860}    \\\cline{1-3}
{\ttfamily DATABASE\+\_\+\+URL}   &The connection string for the Postgre\+SQL database.   &{\ttfamily postgresql\+://finuser\+:changeme@postgres\+:5432/financial\+\_\+assets}   \\\cline{1-3}
\end{longtabu}


Sources\+: \mbox{[}\doxylink{DOCKER_8md}{DOCKER.\+md}\+:48-\/53\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1655}{}\doxysubsubsection{\texorpdfstring{Port Mapping}{Port Mapping}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1655}
To avoid conflicts, the host port can be changed in {\ttfamily docker-\/compose.\+yml}. The following example maps host port {\ttfamily 8080} to the container\textquotesingle{}s port {\ttfamily 7860}.


\begin{DoxyCode}{0}
\DoxyCodeLine{ports:}
\DoxyCodeLine{\ \ -\/\ "{}8080:7860"{}\ \#\ Use\ port\ 8080\ on\ the\ host}

\end{DoxyCode}


Sources\+: \mbox{[}\doxylink{DOCKER_8md}{DOCKER.\+md}\+:100-\/103\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1656}{}\doxysubsection{\texorpdfstring{Dockerfile and Security}{Dockerfile and Security}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1656}
The project emphasizes security in its Docker configuration, following several best practices.

Sources\+: \mbox{[}\doxylink{SECURITY_8md}{SECURITY.\+md}\+:13-\/18, 209-\/229\mbox{]}(), \mbox{[}\doxylink{DOCKER_8md}{DOCKER.\+md}\+:115-\/118\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1657}{}\doxysubsubsection{\texorpdfstring{Key Security Practices}{Key Security Practices}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1657}

\begin{DoxyItemize}
\item {\bfseries{Non-\/\+Root User}}\+: The {\ttfamily Dockerfile} creates and switches to a non-\/root user named {\ttfamily appuser} to reduce potential security risks.
\item {\bfseries{Minimal \doxylink{classBase}{Base} Image}}\+: The image is based on {\ttfamily python\+:3.\+11-\/slim} to minimize the attack surface by excluding unnecessary packages.
\item {\bfseries{No Hardcoded Secrets}}\+: Secrets and passwords should be managed through environment variables or a secrets management tool, not hardcoded in the image.
\item {\bfseries{Health Checks}}\+: The application includes health checks that Docker can use to verify the container\textquotesingle{}s status.
\end{DoxyItemize}

This diagram shows the flow for checking container health.


\begin{DoxyCode}{0}
\DoxyCodeLine{flowchart\ TD}
\DoxyCodeLine{\ \ \ \ A[Docker\ Daemon]\ -\/-\/\ Periodically\ runs\ -\/-\/>\ B\{Health\ Check\ Command\}}
\DoxyCodeLine{\ \ \ \ B\ -\/-\/\ Success\ -\/-\/>\ C[State:\ healthy]}
\DoxyCodeLine{\ \ \ \ B\ -\/-\/\ Failure\ -\/-\/>\ D[State:\ unhealthy]}

\end{DoxyCode}


Sources\+: \mbox{[}\doxylink{SECURITY_8md}{SECURITY.\+md}\+:15, 212-\/213\mbox{]}(), \mbox{[}\doxylink{DOCKER_8md}{DOCKER.\+md}\+:88-\/93, 116\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1658}{}\doxysubsubsection{\texorpdfstring{Multi-\/\+Stage Build (Advanced)}{Multi-\/\+Stage Build (Advanced)}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1658}
For smaller production images, a multi-\/stage build is recommended. This separates the build environment from the runtime environment, ensuring the final image contains only the necessary artifacts.


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{preprocessor}{\#\ Build\ stage}}
\DoxyCodeLine{FROM\ python:3.11-\/slim\ as\ builder}
\DoxyCodeLine{WORKDIR\ /\mbox{\hyperlink{namespaceapp}{app}}}
\DoxyCodeLine{COPY\ requirements.txt\ .}
\DoxyCodeLine{RUN\ pip\ install\ -\/-\/user\ -\/-\/no-\/cache-\/dir\ -\/r\ requirements.txt}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{preprocessor}{\#\ Runtime\ stage}}
\DoxyCodeLine{FROM\ python:3.11-\/slim}
\DoxyCodeLine{WORKDIR\ /\mbox{\hyperlink{namespaceapp}{app}}}
\DoxyCodeLine{COPY\ -\/-\/from=builder\ /\mbox{\hyperlink{namespaceapi_1_1main_a0310b837dae9253adee650f5978e92ea}{root}}/.local\ /\mbox{\hyperlink{namespaceapi_1_1main_a0310b837dae9253adee650f5978e92ea}{root}}/.local}
\DoxyCodeLine{COPY\ .\ .}
\DoxyCodeLine{ENV\ PATH=/\mbox{\hyperlink{namespaceapi_1_1main_a0310b837dae9253adee650f5978e92ea}{root}}/.local/bin:\$PATH}
\DoxyCodeLine{CMD\ [\textcolor{stringliteral}{"{}python"{}},\ \textcolor{stringliteral}{"{}app.py"{}}]}

\end{DoxyCode}


Sources\+: \mbox{[}\doxylink{DOCKER_8md}{DOCKER.\+md}\+:128-\/141\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1659}{}\doxysubsection{\texorpdfstring{Command Reference}{Command Reference}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1659}
The {\ttfamily \doxylink{DOCKER_8md}{DOCKER.\+md}} file provides a comprehensive list of commands for managing the application with both Docker and Docker Compose.\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1660}{}\doxysubsubsection{\texorpdfstring{Docker Commands}{Docker Commands}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1660}
\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{2}{|X[-1]}|}
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Command   }&\cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-2}
\endfirsthead
\hline
\endfoot
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Command   }&\cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-2}
\endhead
{\ttfamily docker build -\/t financial-\/asset-\/db .}   &Build the Docker image.    \\\cline{1-2}
{\ttfamily docker run -\/p 7860\+:7860 financial-\/asset-\/db}   &Run the container and map ports.    \\\cline{1-2}
{\ttfamily docker ps}   &List running containers.    \\\cline{1-2}
{\ttfamily docker logs -\/f \texorpdfstring{$<$}{<}container\+\_\+name\texorpdfstring{$>$}{>}}   &Follow the logs of a container.    \\\cline{1-2}
{\ttfamily docker stop \texorpdfstring{$<$}{<}container\+\_\+name\texorpdfstring{$>$}{>}}   &Stop a running container.    \\\cline{1-2}
{\ttfamily docker rm \texorpdfstring{$<$}{<}container\+\_\+name\texorpdfstring{$>$}{>}}   &Remove a stopped container.    \\\cline{1-2}
{\ttfamily docker rmi \texorpdfstring{$<$}{<}image\+\_\+name\texorpdfstring{$>$}{>}}   &Remove a Docker image.   \\\cline{1-2}
\end{longtabu}


Sources\+: \mbox{[}\doxylink{DOCKER_8md}{DOCKER.\+md}\+:55-\/86\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1661}{}\doxysubsubsection{\texorpdfstring{Docker Compose Commands}{Docker Compose Commands}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1661}
\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{2}{|X[-1]}|}
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Command   }&\cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-2}
\endfirsthead
\hline
\endfoot
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Command   }&\cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-2}
\endhead
{\ttfamily docker-\/compose up}   &Start services in the foreground.    \\\cline{1-2}
{\ttfamily docker-\/compose up -\/d}   &Start services in detached (background) mode.    \\\cline{1-2}
{\ttfamily docker-\/compose down}   &Stop and remove containers, networks.    \\\cline{1-2}
{\ttfamily docker-\/compose down -\/v}   &Stop and remove containers, networks, and volumes.    \\\cline{1-2}
{\ttfamily docker-\/compose build}   &Rebuild service images.    \\\cline{1-2}
{\ttfamily docker-\/compose up -\/-\/build}   &Rebuild images and then start services.    \\\cline{1-2}
{\ttfamily docker-\/compose logs -\/f app}   &Follow logs for the {\ttfamily app} service.   \\\cline{1-2}
\end{longtabu}


Sources\+: \mbox{[}\doxylink{DOCKER_8md}{DOCKER.\+md}\+:88-\/113\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1662}{}\doxysubsection{\texorpdfstring{Summary}{Summary}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1662}
Docker provides a powerful and flexible way to run the Financial Asset Relationship Database locally. Using Docker Compose is the recommended approach as it simplifies the management of the application and its optional database service. The project incorporates security best practices into its Docker setup, such as using a non-\/root user and minimal base images, to provide a secure runtime environment.

Sources\+: \mbox{[}\doxylink{DOCKER_8md}{DOCKER.\+md}\mbox{]}(), \mbox{[}README.\+md\+:49-\/62\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1663}{}\doxysubsubsection{\texorpdfstring{Vercel Deployment}{Vercel Deployment}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1663}


{\bfseries{Relevant source files}}\begin{adjustwidth}{1em}{0em}
The following files were used as context for generating this wiki page\+:


\begin{DoxyItemize}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/vercel.json}{\texttt{ vercel.\+json}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/DEPLOYMENT.md}{\texttt{ DEPLOYMENT.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/VERCEL_DEPLOYMENT_CHECKLIST.md}{\texttt{ VERCEL\+\_\+\+DEPLOYMENT\+\_\+\+CHECKLIST.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/ARCHITECTURE.md}{\texttt{ ARCHITECTURE.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/INTEGRATION_SUMMARY.md}{\texttt{ INTEGRATION\+\_\+\+SUMMARY.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/tests/unit/test_dev_scripts.py}{\texttt{ tests/unit/test\+\_\+dev\+\_\+scripts.\+py}}
\end{DoxyItemize}\end{adjustwidth}
\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1664}{}\doxysection{\texorpdfstring{Vercel Deployment}{Vercel Deployment}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1664}
This project utilizes Vercel for deploying its integrated frontend and backend components. The deployment architecture consists of a Next.\+js frontend application and a Python-\/based Fast\+API backend, which runs as a Vercel Serverless Function. This setup allows for a scalable, modern web application with a powerful Python backend for data processing and API services.

The Vercel deployment is configured to handle both the Next.\+js application and the Python API within a single project, routing requests appropriately based on the URL path. This guide provides a comprehensive overview of the deployment architecture, configuration, processes, and troubleshooting steps. For more details on the overall system design, see the \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/ARCHITECTURE.md}{\texttt{ Architecture Overview}}.

Sources\+: \mbox{[}\doxylink{DEPLOYMENT_8md}{DEPLOYMENT.\+md}\mbox{]}(), \mbox{[}\doxylink{ARCHITECTURE_8md}{ARCHITECTURE.\+md}\mbox{]}(), \mbox{[}\doxylink{INTEGRATION__SUMMARY_8md}{INTEGRATION\+\_\+\+SUMMARY.\+md}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1665}{}\doxysubsection{\texorpdfstring{Architecture on Vercel}{Architecture on Vercel}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1665}
The application is deployed on Vercel as a monorepo containing two primary components\+: the Next.\+js frontend and the Fast\+API backend. Vercel automatically handles the build and deployment of both.


\begin{DoxyItemize}
\item {\bfseries{Next.\+js Frontend}}\+: Served by Vercel\textquotesingle{}s Edge Network, providing fast delivery of static assets and server-\/side rendered pages.
\item {\bfseries{Python Backend}}\+: The Fast\+API application located in the {\ttfamily /api} directory is deployed as a Vercel Serverless Function. This function handles all API requests.
\end{DoxyItemize}

The diagram below illustrates the Vercel deployment architecture.


\begin{DoxyCode}{0}
\DoxyCodeLine{graph\ TD}
\DoxyCodeLine{\ \ \ \ subgraph\ User}
\DoxyCodeLine{\ \ \ \ \ \ \ \ A[Internet\ Users]}
\DoxyCodeLine{\ \ \ \ end}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ subgraph\ Vercel\ Platform}
\DoxyCodeLine{\ \ \ \ \ \ \ \ A\ -\/-\/\ HTTPS\ -\/-\/>\ B\{Vercel\ Edge\ Network\};}
\DoxyCodeLine{\ \ \ \ \ \ \ \ B\ -\/-\/\ /\ (root)\ -\/-\/>\ C[Next.js\ Frontend];}
\DoxyCodeLine{\ \ \ \ \ \ \ \ B\ -\/-\/\ /api/...\ -\/-\/>\ D[Python\ Serverless\ Function];}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ subgraph\ Frontend}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ C(Static\ Pages\ \&\ React\ Components)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ end}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ subgraph\ Backend}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ D(FastAPI\ App)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ end}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ C\ -\/.-\/>\ D;}
\DoxyCodeLine{\ \ \ \ end}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ style\ C\ fill:\#f9f,stroke:\#333,stroke-\/width:2px}
\DoxyCodeLine{\ \ \ \ style\ D\ fill:\#ccf,stroke:\#333,stroke-\/width:2px}

\end{DoxyCode}


This diagram shows that user requests are routed by Vercel\textquotesingle{}s Edge Network. Requests to the root path ({\ttfamily /}) are served by the Next.\+js frontend, while requests to {\ttfamily /api/...} are directed to the Python Serverless Function running the Fast\+API application.

Sources\+: \mbox{[}\doxylink{ARCHITECTURE_8md}{ARCHITECTURE.\+md}\mbox{]}(), \mbox{[}\doxylink{DEPLOYMENT_8md}{DEPLOYMENT.\+md}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1666}{}\doxysubsection{\texorpdfstring{Deployment Configuration}{Deployment Configuration}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1666}
The core of the Vercel deployment is managed by the {\ttfamily vercel.\+json} file located in the project root. This file instructs Vercel on how to build and route the different parts of the application.

Sources\+: \mbox{[}vercel.\+json\mbox{]}(), \mbox{[}\doxylink{test__dev__scripts_8py}{tests/unit/test\+\_\+dev\+\_\+scripts.\+py}\+:15-\/23\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1667}{}\doxysubsubsection{\texorpdfstring{{\ttfamily vercel.\+json} Structure}{{\ttfamily vercel.\+json} Structure}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1667}
The configuration is split into two main sections\+: {\ttfamily builds} and {\ttfamily routes}.


\begin{DoxyCode}{0}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ "{}builds"{}:\ [}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ "{}src"{}:\ "{}api/main.py"{},}
\DoxyCodeLine{\ \ \ \ \ \ "{}use"{}:\ "{}@vercel/python"{},}
\DoxyCodeLine{\ \ \ \ \ \ "{}config"{}:\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ "{}maxLambdaSize"{}:\ "{}50mb"{}}
\DoxyCodeLine{\ \ \ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \},}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ "{}src"{}:\ "{}frontend/package.json"{},}
\DoxyCodeLine{\ \ \ \ \ \ "{}use"{}:\ "{}@vercel/next"{}}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ ],}
\DoxyCodeLine{\ \ "{}routes"{}:\ [}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ "{}src"{}:\ "{}/api/(.*)"{},}
\DoxyCodeLine{\ \ \ \ \ \ "{}dest"{}:\ "{}api/main.py"{}}
\DoxyCodeLine{\ \ \ \ \},}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ "{}src"{}:\ "{}/(.*)"{},}
\DoxyCodeLine{\ \ \ \ \ \ "{}dest"{}:\ "{}frontend/\$1"{}}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ ]}
\DoxyCodeLine{\}}

\end{DoxyCode}


Sources\+: \mbox{[}vercel.\+json\mbox{]}(), \mbox{[}\doxylink{VERCEL__DEPLOYMENT__CHECKLIST_8md}{VERCEL\+\_\+\+DEPLOYMENT\+\_\+\+CHECKLIST.\+md}\+:126-\/135\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1668}{}\doxysubsubsubsection{\texorpdfstring{Builds Configuration}{Builds Configuration}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1668}
The {\ttfamily builds} array defines how Vercel should compile the project source code.

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{4}{|X[-1]}|}
\hline
\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily src}   }&\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily use}   }&\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily config}   }&\cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-4}
\endfirsthead
\hline
\endfoot
\hline
\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily src}   }&\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily use}   }&\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily config}   }&\cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-4}
\endhead
{\ttfamily \doxylink{api_2main_8py}{api/main.\+py}}   &{\ttfamily @vercel/python}   &{\ttfamily \{"{}max\+Lambda\+Size"{}\+: "{}50mb"{}\}}   &Specifies that the Python API entrypoint is {\ttfamily \doxylink{api_2main_8py}{api/main.\+py}} and should be built using the Vercel Python runtime. The {\ttfamily max\+Lambda\+Size} is increased to 50MB to accommodate dependencies.    \\\cline{1-4}
{\ttfamily frontend/package.\+json}   &{\ttfamily @vercel/next}   &N/A   &Specifies that the {\ttfamily frontend} directory contains a Next.\+js application, identified by its {\ttfamily package.\+json} file. It will be built using the Vercel Next.\+js runtime.   \\\cline{1-4}
\end{longtabu}


Sources\+: \mbox{[}vercel.\+json\+:2-\/15\mbox{]}(), \mbox{[}\doxylink{VERCEL__DEPLOYMENT__CHECKLIST_8md}{VERCEL\+\_\+\+DEPLOYMENT\+\_\+\+CHECKLIST.\+md}\+:126-\/135\mbox{]}(), \mbox{[}\doxylink{test__dev__scripts_8py}{tests/unit/test\+\_\+dev\+\_\+scripts.\+py}\+:25-\/35\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1669}{}\doxysubsubsubsection{\texorpdfstring{Routes Configuration}{Routes Configuration}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1669}
The {\ttfamily routes} array defines how incoming requests are routed to the built outputs.

The following diagram illustrates the routing logic defined in {\ttfamily vercel.\+json}.


\begin{DoxyCode}{0}
\DoxyCodeLine{flowchart\ TD}
\DoxyCodeLine{\ \ \ \ A[Incoming\ Request]\ -\/-\/>\ B\{Path\ Matching\};}
\DoxyCodeLine{\ \ \ \ B\ -\/-\/\ "{}/api/..."{}\ -\/-\/>\ C[Route\ to\ api/main.py];}
\DoxyCodeLine{\ \ \ \ B\ -\/-\/\ "{}/..."{}\ -\/-\/>\ D[Route\ to\ frontend];}

\end{DoxyCode}


\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{3}{|X[-1]}|}
\hline
\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily src}   }&\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily dest}   }&\cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-3}
\endfirsthead
\hline
\endfoot
\hline
\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily src}   }&\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily dest}   }&\cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-3}
\endhead
{\ttfamily /api/(.\texorpdfstring{$\ast$}{*})}   &{\ttfamily \doxylink{api_2main_8py}{api/main.\+py}}   &Any request path starting with {\ttfamily /api/} is rewritten and handled by the Python serverless function defined in {\ttfamily \doxylink{api_2main_8py}{api/main.\+py}}.    \\\cline{1-3}
{\ttfamily /(.\texorpdfstring{$\ast$}{*})}   &{\ttfamily frontend/\$1}   &All other requests are routed to the Next.\+js application in the {\ttfamily frontend} directory.   \\\cline{1-3}
\end{longtabu}


Sources\+: \mbox{[}vercel.\+json\+:16-\/26\mbox{]}(), \mbox{[}\doxylink{test__dev__scripts_8py}{tests/unit/test\+\_\+dev\+\_\+scripts.\+py}\+:37-\/45\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1670}{}\doxysubsection{\texorpdfstring{Deployment Process}{Deployment Process}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1670}
There are two recommended methods for deploying the application to Vercel\+: Git\+Hub Integration and the Vercel CLI.

Sources\+: \mbox{[}\doxylink{DEPLOYMENT_8md}{DEPLOYMENT.\+md}\+:63-\/84\mbox{]}(), \mbox{[}\doxylink{VERCEL__DEPLOYMENT__CHECKLIST_8md}{VERCEL\+\_\+\+DEPLOYMENT\+\_\+\+CHECKLIST.\+md}\+:43-\/108\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1671}{}\doxysubsubsection{\texorpdfstring{Git\+Hub Integration (Recommended)}{Git\+Hub Integration (Recommended)}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1671}
This method provides continuous deployment, automatically deploying changes pushed to the repository.


\begin{DoxyCode}{0}
\DoxyCodeLine{sequenceDiagram}
\DoxyCodeLine{\ \ \ \ participant\ Dev\ as\ Developer}
\DoxyCodeLine{\ \ \ \ participant\ GitHub}
\DoxyCodeLine{\ \ \ \ participant\ Vercel}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ Dev-\/>>GitHub:\ git\ push\ origin\ main}
\DoxyCodeLine{\ \ \ \ activate\ GitHub}
\DoxyCodeLine{\ \ \ \ GitHub-\/>>Vercel:\ Webhook:\ Code\ pushed}
\DoxyCodeLine{\ \ \ \ deactivate\ GitHub}
\DoxyCodeLine{\ \ \ \ activate\ Vercel}
\DoxyCodeLine{\ \ \ \ Vercel-\/-\/>>Vercel:\ Auto-\/detects\ Next.js\ \&\ Python}
\DoxyCodeLine{\ \ \ \ Vercel-\/-\/>>Vercel:\ Runs\ builds\ based\ on\ vercel.json}
\DoxyCodeLine{\ \ \ \ Vercel-\/-\/>>Vercel:\ Deploys\ to\ production\ URL}
\DoxyCodeLine{\ \ \ \ deactivate\ Vercel}

\end{DoxyCode}


{\bfseries{Steps\+:}}


\begin{DoxyEnumerate}
\item {\bfseries{Push to Git\+Hub}}\+: Ensure all code is committed and pushed to the {\ttfamily main} branch.
\item {\bfseries{Connect to Vercel}}\+: In the Vercel dashboard, create a "{}\+New Project"{} and import the Git\+Hub repository.
\item {\bfseries{Configure Project}}\+: Vercel will auto-\/detect the Next.\+js framework. The root directory should be left as the default.
\item {\bfseries{Set Environment Variables}}\+: Add {\ttfamily NEXT\+\_\+\+PUBLIC\+\_\+\+API\+\_\+\+URL} in the project settings.
\item {\bfseries{Deploy}}\+: Click "{}\+Deploy"{}. Vercel will build and deploy the application.
\end{DoxyEnumerate}

Sources\+: \mbox{[}\doxylink{VERCEL__DEPLOYMENT__CHECKLIST_8md}{VERCEL\+\_\+\+DEPLOYMENT\+\_\+\+CHECKLIST.\+md}\+:43-\/78\mbox{]}(), \mbox{[}\doxylink{DEPLOYMENT_8md}{DEPLOYMENT.\+md}\+:72-\/84\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1672}{}\doxysubsubsection{\texorpdfstring{Vercel CLI}{Vercel CLI}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1672}
This method is useful for manual deployments from your local machine.


\begin{DoxyEnumerate}
\item {\bfseries{Install Vercel CLI}}\+: {\ttfamily bash npm install -\/g vercel }
\item {\bfseries{Login}}\+: {\ttfamily bash vercel login }
\item {\bfseries{Deploy}}\+: From the project root, run the deployment command and follow the prompts. {\ttfamily bash @section autotoc\+\_\+md1673 Deploy to production vercel -\/-\/prod } Sources\+: \mbox{[}\doxylink{VERCEL__DEPLOYMENT__CHECKLIST_8md}{VERCEL\+\_\+\+DEPLOYMENT\+\_\+\+CHECKLIST.\+md}\+:80-\/108\mbox{]}(), \mbox{[}\doxylink{DEPLOYMENT_8md}{DEPLOYMENT.\+md}\+:63-\/70\mbox{]}()
\end{DoxyEnumerate}\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1674}{}\doxysubsection{\texorpdfstring{Environment Variables}{Environment Variables}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1674}
The frontend requires an environment variable to know the URL of the backend API.

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{3}{|X[-1]}|}
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Variable   }&\cellcolor{\tableheadbgcolor}\textbf{ Description   }&\cellcolor{\tableheadbgcolor}\textbf{ Example Value (Production)    }\\\cline{1-3}
\endfirsthead
\hline
\endfoot
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Variable   }&\cellcolor{\tableheadbgcolor}\textbf{ Description   }&\cellcolor{\tableheadbgcolor}\textbf{ Example Value (Production)    }\\\cline{1-3}
\endhead
{\ttfamily NEXT\+\_\+\+PUBLIC\+\_\+\+API\+\_\+\+URL}   &The absolute URL of the deployed backend API. The {\ttfamily NEXT\+\_\+\+PUBLIC\+\_\+} prefix makes it available in the browser.   &{\ttfamily \href{https://your-project.vercel.app}{\texttt{ https\+://your-\/project.\+vercel.\+app}}}   \\\cline{1-3}
\end{longtabu}


This variable must be set in the Vercel project settings under "{}\+Environment Variables"{}. After the first deployment, you must update this variable with the actual Vercel project URL and redeploy if necessary.

Sources\+: \mbox{[}\doxylink{VERCEL__DEPLOYMENT__CHECKLIST_8md}{VERCEL\+\_\+\+DEPLOYMENT\+\_\+\+CHECKLIST.\+md}\+:63-\/78, 100-\/103, 149-\/155\mbox{]}(), \mbox{[}\doxylink{DEPLOYMENT_8md}{DEPLOYMENT.\+md}\+:120-\/126\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1675}{}\doxysubsection{\texorpdfstring{Post-\/\+Deployment and Troubleshooting}{Post-\/\+Deployment and Troubleshooting}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1675}
After each deployment, it is crucial to verify that the application is functioning correctly. A checklist is provided for this purpose.\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1676}{}\doxysubsubsection{\texorpdfstring{Verification Checklist}{Verification Checklist}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1676}

\begin{DoxyItemize}
\item[\DoxyUnchecked] Open the deployed URL and check that the frontend loads without errors.
\end{DoxyItemize}
\begin{DoxyItemize}
\item[\DoxyUnchecked] Verify the API health by visiting {\ttfamily \href{https://your-project.vercel.app/api/health}{\texttt{ https\+://your-\/project.\+vercel.\+app/api/health}}}.
\end{DoxyItemize}
\begin{DoxyItemize}
\item[\DoxyUnchecked] Test the interactive API documentation at {\ttfamily \href{https://your-project.vercel.app/docs}{\texttt{ https\+://your-\/project.\+vercel.\+app/docs}}}.
\end{DoxyItemize}
\begin{DoxyItemize}
\item[\DoxyUnchecked] Test all major features\+: 3D visualization, metrics, and the asset explorer.
\end{DoxyItemize}
\begin{DoxyItemize}
\item[\DoxyUnchecked] Check the browser console for any CORS or Java\+Script errors.
\end{DoxyItemize}

Sources\+: \mbox{[}\doxylink{VERCEL__DEPLOYMENT__CHECKLIST_8md}{VERCEL\+\_\+\+DEPLOYMENT\+\_\+\+CHECKLIST.\+md}\+:110-\/124\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1677}{}\doxysubsubsection{\texorpdfstring{Common Issues and Solutions}{Common Issues and Solutions}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1677}
\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{2}{|X[-1]}|}
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Issue   }&\cellcolor{\tableheadbgcolor}\textbf{ Solution    }\\\cline{1-2}
\endfirsthead
\hline
\endfoot
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Issue   }&\cellcolor{\tableheadbgcolor}\textbf{ Solution    }\\\cline{1-2}
\endhead
{\bfseries{Build Failed}}   &Check build logs in the Vercel dashboard. Verify all dependencies are listed in {\ttfamily requirements.\+txt} and {\ttfamily frontend/package.\+json}. Run the build locally ({\ttfamily cd frontend \&\& npm run build}) to debug.    \\\cline{1-2}
{\bfseries{API Not Found (404)}}   &Ensure {\ttfamily vercel.\+json} is in the project root and correctly configured. Verify that {\ttfamily \doxylink{api_2main_8py}{api/main.\+py}} exists and is the correct entry point.    \\\cline{1-2}
{\bfseries{CORS Errors}}   &The Fast\+API backend must be configured to allow origins from your Vercel domain. Update the {\ttfamily allow\+\_\+origins} list in {\ttfamily \doxylink{api_2main_8py}{api/main.\+py}}.    \\\cline{1-2}
{\bfseries{Lambda Size Exceeded}}   &The Python serverless function has a size limit. This is pre-\/configured to {\ttfamily 50mb} in {\ttfamily vercel.\+json}. If this error occurs, remove unused dependencies or consider lighter alternatives.   \\\cline{1-2}
\end{longtabu}


Sources\+: \mbox{[}\doxylink{VERCEL__DEPLOYMENT__CHECKLIST_8md}{VERCEL\+\_\+\+DEPLOYMENT\+\_\+\+CHECKLIST.\+md}\+:137-\/183\mbox{]}()

A code snippet for configuring CORS in {\ttfamily \doxylink{api_2main_8py}{api/main.\+py}}\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{comment}{\#\ In\ api/main.py}}
\DoxyCodeLine{app.add\_middleware(}
\DoxyCodeLine{\ \ \ \ CORSMiddleware,}
\DoxyCodeLine{\ \ \ \ allow\_origins=[\textcolor{stringliteral}{"{}https://*.vercel.app"{}},\ \textcolor{stringliteral}{"{}https://your-\/domain.com"{}}],}
\DoxyCodeLine{\ \ \ \ allow\_credentials=\textcolor{keyword}{True},}
\DoxyCodeLine{\ \ \ \ allow\_methods=[\textcolor{stringliteral}{"{}*"{}}],}
\DoxyCodeLine{\ \ \ \ allow\_headers=[\textcolor{stringliteral}{"{}*"{}}],}
\DoxyCodeLine{)}

\end{DoxyCode}


Sources\+: \mbox{[}\doxylink{VERCEL__DEPLOYMENT__CHECKLIST_8md}{VERCEL\+\_\+\+DEPLOYMENT\+\_\+\+CHECKLIST.\+md}\+:160-\/168\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1678}{}\doxysubsubsection{\texorpdfstring{Configuration}{Configuration}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1678}


{\bfseries{Relevant source files}}\begin{adjustwidth}{1em}{0em}


The following files were used as context for generating this wiki page\+:


\begin{DoxyItemize}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/pyproject.toml}{\texttt{ pyproject.\+toml}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/api/main.py}{\texttt{ api/main.\+py}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/frontend/next.config.js}{\texttt{ frontend/next.\+config.\+js}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/Makefile}{\texttt{ Makefile}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/frontend/package.json}{\texttt{ frontend/package.\+json}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/CONTRIBUTING.md}{\texttt{ CONTRIBUTING.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/SUMMARY.md}{\texttt{ SUMMARY.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/AUDIT_REPORT.md}{\texttt{ AUDIT\+\_\+\+REPORT.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/INTEGRATION_SUMMARY.md}{\texttt{ INTEGRATION\+\_\+\+SUMMARY.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/.pre-commit-config.yaml}{\texttt{ .pre-\/commit-\/config.\+yaml}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/.flake8}{\texttt{ .flake8}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/requirements-dev.txt}{\texttt{ requirements-\/dev.\+txt}}
\end{DoxyItemize}

\end{adjustwidth}
\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1679}{}\doxysection{\texorpdfstring{Configuration}{Configuration}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1679}
Configuration for the {\ttfamily financial-\/asset-\/relationship-\/db} project is managed through a combination of files that define the development environment, tool settings, application behavior, and deployment processes. The project uses a monorepo-\/like structure with distinct configurations for the Python backend and the Next.\+js frontend, unified by top-\/level tooling and scripts.

Key configuration files like {\ttfamily pyproject.\+toml}, {\ttfamily Makefile}, and {\ttfamily package.\+json} orchestrate a suite of development tools for testing, linting, and formatting, ensuring code quality and consistency. Application-\/level settings, such as API CORS policies and frontend build options, are handled within their respective codebases.\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1680}{}\doxysubsection{\texorpdfstring{Project-\/\+Level Configuration}{Project-\/\+Level Configuration}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1680}
Project-\/level configuration centralizes development tooling and provides a consistent interface for developers through {\ttfamily Makefile} commands.

Sources\+: \mbox{[}\doxylink{SUMMARY_8md}{SUMMARY.\+md}\mbox{]}(), \mbox{[}\doxylink{CONTRIBUTING_8md}{CONTRIBUTING.\+md}\mbox{]}(), \mbox{[}\doxylink{AUDIT__REPORT_8md}{AUDIT\+\_\+\+REPORT.\+md}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1681}{}\doxysubsubsection{\texorpdfstring{Development Tooling ({\ttfamily pyproject.\+toml})}{Development Tooling ({\ttfamily pyproject.\+toml})}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1681}
The {\ttfamily pyproject.\+toml} file is the central configuration hub for Python development tools, standardizing settings for testing, formatting, and static analysis.

The diagram below shows the tools configured in {\ttfamily pyproject.\+toml}.


\begin{DoxyCode}{0}
\DoxyCodeLine{graph\ TD}
\DoxyCodeLine{\ \ \ \ A[pyproject.toml]\ -\/-\/>\ B[pytest]}
\DoxyCodeLine{\ \ \ \ A\ -\/-\/>\ C[coverage]}
\DoxyCodeLine{\ \ \ \ A\ -\/-\/>\ D[black]}
\DoxyCodeLine{\ \ \ \ A\ -\/-\/>\ E[isort]}
\DoxyCodeLine{\ \ \ \ A\ -\/-\/>\ F[mypy]}
\DoxyCodeLine{\ \ \ \ A\ -\/-\/>\ G[pylint]}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ subgraph\ Testing}
\DoxyCodeLine{\ \ \ \ \ \ \ \ B}
\DoxyCodeLine{\ \ \ \ \ \ \ \ C}
\DoxyCodeLine{\ \ \ \ end}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ subgraph\ Formatting}
\DoxyCodeLine{\ \ \ \ \ \ \ \ D}
\DoxyCodeLine{\ \ \ \ \ \ \ \ E}
\DoxyCodeLine{\ \ \ \ end}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ subgraph\ Static\ Analysis}
\DoxyCodeLine{\ \ \ \ \ \ \ \ F}
\DoxyCodeLine{\ \ \ \ \ \ \ \ G}
\DoxyCodeLine{\ \ \ \ end}

\end{DoxyCode}


Sources\+: \mbox{[}pyproject.\+toml\mbox{]}(), \mbox{[}\doxylink{SUMMARY_8md}{SUMMARY.\+md}\+:83-\/90\mbox{]}()

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{3}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Tool   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Purpose   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Key Configurations    }\\\cline{1-3}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Tool   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Purpose   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Key Configurations    }\\\cline{1-3}
\endhead
{\ttfamily pytest}   &Test runner   &Verbose output, test markers ({\ttfamily unit}, {\ttfamily integration}, {\ttfamily slow}).    \\\cline{1-3}
{\ttfamily coverage}   &Code coverage   &Generates HTML and XML reports, sets a failure threshold of 80\%.    \\\cline{1-3}
{\ttfamily black}   &Code formatter   &Line length set to 120, targets Python 3.\+8+.    \\\cline{1-3}
{\ttfamily isort}   &Import sorter   &Uses a {\ttfamily black}-\/compatible profile.    \\\cline{1-3}
{\ttfamily mypy}   &Static type checker   &Checks untyped definitions, warns on return issues.    \\\cline{1-3}
{\ttfamily pylint}   &Linter   &Fails on a score below 8.\+0, ignores docstring warnings.   \\\cline{1-3}
\end{longtabu}


Sources\+: \mbox{[}pyproject.\+toml\mbox{]}(), \mbox{[}\doxylink{SUMMARY_8md}{SUMMARY.\+md}\+:83-\/90\mbox{]}(), \mbox{[}\doxylink{AUDIT__REPORT_8md}{AUDIT\+\_\+\+REPORT.\+md}\+:121-\/127\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1682}{}\doxysubsubsection{\texorpdfstring{Linter Configuration ({\ttfamily .flake8})}{Linter Configuration ({\ttfamily .flake8})}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1682}
While most tools are configured in {\ttfamily pyproject.\+toml}, {\ttfamily flake8} uses a dedicated {\ttfamily .flake8} file.

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{3}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Option   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Value   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-3}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Option   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Value   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-3}
\endhead
{\ttfamily max-\/line-\/length}   &120   &Sets the maximum line length to 120 characters.    \\\cline{1-3}
{\ttfamily max-\/complexity}   &15   &Sets the maximum cyclomatic complexity for functions.    \\\cline{1-3}
{\ttfamily ignore}   &E203, E501, W503   &Ignores specific error codes that conflict with {\ttfamily black}.   \\\cline{1-3}
\end{longtabu}


Sources\+: \mbox{[}.flake8\mbox{]}(), \mbox{[}\doxylink{SUMMARY_8md}{SUMMARY.\+md}\+:84\mbox{]}(), \mbox{[}\doxylink{AUDIT__REPORT_8md}{AUDIT\+\_\+\+REPORT.\+md}\+:129-\/134\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1683}{}\doxysubsubsection{\texorpdfstring{Development Commands ({\ttfamily Makefile})}{Development Commands ({\ttfamily Makefile})}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1683}
The {\ttfamily Makefile} provides a set of shortcut commands to simplify common development tasks, orchestrating the configured tools.

This diagram illustrates the workflow of the {\ttfamily make check} command.


\begin{DoxyCode}{0}
\DoxyCodeLine{flowchart\ TD}
\DoxyCodeLine{\ \ \ \ Start(make\ check)\ -\/-\/>\ Format\{make\ format-\/check\}}
\DoxyCodeLine{\ \ \ \ Format\ -\/-\/>\ Lint\{make\ lint\}}
\DoxyCodeLine{\ \ \ \ Lint\ -\/-\/>\ TypeCheck\{make\ type-\/check\}}
\DoxyCodeLine{\ \ \ \ TypeCheck\ -\/-\/>\ Test\{make\ test\}}
\DoxyCodeLine{\ \ \ \ Test\ -\/-\/>\ End(All\ Checks\ Pass)}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ Format\ -\/-\/\ Fails\ -\/-\/>\ Stop\_Format(Stop\ \&\ Report\ Error)}
\DoxyCodeLine{\ \ \ \ Lint\ -\/-\/\ Fails\ -\/-\/>\ Stop\_Lint(Stop\ \&\ Report\ Error)}
\DoxyCodeLine{\ \ \ \ TypeCheck\ -\/-\/\ Fails\ -\/-\/>\ Stop\_Type(Stop\ \&\ Report\ Error)}
\DoxyCodeLine{\ \ \ \ Test\ -\/-\/\ Fails\ -\/-\/>\ Stop\_Test(Stop\ \&\ Report\ Error)}

\end{DoxyCode}


Sources\+: \mbox{[}Makefile\+:54-\/55\mbox{]}(), \mbox{[}\doxylink{SUMMARY_8md}{SUMMARY.\+md}\+:65-\/79\mbox{]}()

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{2}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Command   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-2}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Command   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-2}
\endhead
{\ttfamily install-\/dev}   &Installs both production and development dependencies.    \\\cline{1-2}
{\ttfamily pre-\/commit}   &Installs pre-\/commit hooks.    \\\cline{1-2}
{\ttfamily format}   &Formats code using {\ttfamily black} and {\ttfamily isort}.    \\\cline{1-2}
{\ttfamily lint}   &Runs linters ({\ttfamily flake8} and {\ttfamily pylint}).    \\\cline{1-2}
{\ttfamily type-\/check}   &Runs {\ttfamily mypy} for static type analysis.    \\\cline{1-2}
{\ttfamily test}   &Runs {\ttfamily pytest} with code coverage.    \\\cline{1-2}
{\ttfamily check}   &Runs all checks\+: format check, lint, type-\/check, and test.   \\\cline{1-2}
\end{longtabu}


Sources\+: \mbox{[}Makefile\mbox{]}(), \mbox{[}\doxylink{CONTRIBUTING_8md}{CONTRIBUTING.\+md}\+:73-\/90\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1684}{}\doxysubsubsection{\texorpdfstring{Pre-\/commit Hooks}{Pre-\/commit Hooks}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1684}
The {\ttfamily .pre-\/commit-\/config.\+yaml} file configures hooks that run automatically before each commit to ensure code quality.

The sequence diagram below shows the pre-\/commit process.


\begin{DoxyCode}{0}
\DoxyCodeLine{sequenceDiagram}
\DoxyCodeLine{\ \ \ \ participant\ Dev\ as\ Developer}
\DoxyCodeLine{\ \ \ \ participant\ Git\ as\ Git\ Client}
\DoxyCodeLine{\ \ \ \ participant\ Hooks\ as\ Pre-\/commit\ Hooks}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ Dev-\/>>Git:\ git\ commit\ -\/m\ "{}..."{}}
\DoxyCodeLine{\ \ \ \ Git-\/>>Hooks:\ Execute\ hooks\ on\ staged\ files}
\DoxyCodeLine{\ \ \ \ activate\ Hooks}
\DoxyCodeLine{\ \ \ \ Hooks-\/>>Hooks:\ Run\ trailing-\/whitespace}
\DoxyCodeLine{\ \ \ \ Hooks-\/>>Hooks:\ Run\ end-\/of-\/file-\/fixer}
\DoxyCodeLine{\ \ \ \ Hooks-\/>>Hooks:\ Run\ check-\/yaml}
\DoxyCodeLine{\ \ \ \ Hooks-\/>>Hooks:\ Run\ black\ (formatter)}
\DoxyCodeLine{\ \ \ \ Hooks-\/>>Hooks:\ Run\ isort\ (importer\ sorter)}
\DoxyCodeLine{\ \ \ \ Hooks-\/>>Hooks:\ Run\ flake8\ (linter)}
\DoxyCodeLine{\ \ \ \ Hooks-\/>>Hooks:\ Run\ mypy\ (type\ checker)}
\DoxyCodeLine{\ \ \ \ alt\ All\ hooks\ pass}
\DoxyCodeLine{\ \ \ \ \ \ \ \ Hooks-\/-\/>>Git:\ Success}
\DoxyCodeLine{\ \ \ \ \ \ \ \ Git-\/-\/>>Dev:\ Commit\ successful}
\DoxyCodeLine{\ \ \ \ else\ At\ least\ one\ hook\ fails}
\DoxyCodeLine{\ \ \ \ \ \ \ \ Hooks-\/-\/xGit:\ Failure}
\DoxyCodeLine{\ \ \ \ \ \ \ \ Git-\/-\/xDev:\ Commit\ failed,\ fix\ errors}
\DoxyCodeLine{\ \ \ \ end}
\DoxyCodeLine{\ \ \ \ deactivate\ Hooks}

\end{DoxyCode}


Sources\+: \mbox{[}.pre-\/commit-\/config.\+yaml\mbox{]}(), \mbox{[}\doxylink{AUDIT__REPORT_8md}{AUDIT\+\_\+\+REPORT.\+md}\+:154-\/164\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1685}{}\doxysubsection{\texorpdfstring{Backend API Configuration ({\ttfamily api/main.\+py})}{Backend API Configuration ({\ttfamily api/main.\+py})}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1685}
The Fast\+API server configuration is defined directly within {\ttfamily \doxylink{api_2main_8py}{api/main.\+py}}.\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1686}{}\doxysubsubsection{\texorpdfstring{CORS Middleware}{CORS Middleware}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1686}
The API uses {\ttfamily CORSMiddleware} to control cross-\/origin requests from the frontend.

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{2}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Configuration   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-2}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Configuration   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-2}
\endhead
{\ttfamily allow\+\_\+origins}   &A list of allowed origins, including localhost for development and Vercel deployment URLs.    \\\cline{1-2}
{\ttfamily allow\+\_\+credentials}   &{\ttfamily True}, allows cookies to be included in cross-\/origin requests.    \\\cline{1-2}
{\ttfamily allow\+\_\+methods}   &{\ttfamily \mbox{[}"{}\texorpdfstring{$\ast$}{*}"{}\mbox{]}}, allows all standard HTTP methods.    \\\cline{1-2}
{\ttfamily allow\+\_\+headers}   &{\ttfamily \mbox{[}"{}\texorpdfstring{$\ast$}{*}"{}\mbox{]}}, allows all request headers.   \\\cline{1-2}
\end{longtabu}


The allowed origins are dynamically generated based on the {\ttfamily VERCEL\+\_\+\+URL} environment variable for production/preview deployments on Vercel, with localhost ports for local development.

Sources\+: \mbox{[}\doxylink{api_2main_8py}{api/main.\+py}\+:27-\/49\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1687}{}\doxysubsubsection{\texorpdfstring{Application Startup}{Application Startup}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1687}
The Fast\+API application is launched using Uvicorn. The recommended command for development starts the server with auto-\/reloading on port 8000.


\begin{DoxyCode}{0}
\DoxyCodeLine{python\ -\/m\ uvicorn\ api.main:app\ -\/-\/reload\ -\/-\/port\ 8000}

\end{DoxyCode}


Sources\+: \mbox{[}README.\+md\+:52\mbox{]}(), \mbox{[}\doxylink{QUICK__START_8md}{QUICK\+\_\+\+START.\+md}\+:43\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1688}{}\doxysubsection{\texorpdfstring{Frontend Configuration}{Frontend Configuration}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1688}
The Next.\+js frontend configuration is split between {\ttfamily package.\+json} for scripts and dependencies, and {\ttfamily next.\+config.\+js} for framework-\/specific settings.\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1689}{}\doxysubsubsection{\texorpdfstring{Scripts ({\ttfamily frontend/package.\+json})}{Scripts ({\ttfamily frontend/package.\+json})}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1689}
The {\ttfamily scripts} section in {\ttfamily package.\+json} defines commands for building, running, and testing the frontend application.

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{3}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Script   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Command   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-3}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Script   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Command   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-3}
\endhead
{\ttfamily dev}   &{\ttfamily next dev}   &Starts the Next.\+js development server.    \\\cline{1-3}
{\ttfamily build}   &{\ttfamily next build}   &Creates an optimized production build.    \\\cline{1-3}
{\ttfamily start}   &{\ttfamily next start}   &Starts a production server.    \\\cline{1-3}
{\ttfamily lint}   &{\ttfamily next lint}   &Runs the Next.\+js linter (ESLint).    \\\cline{1-3}
{\ttfamily test}   &{\ttfamily jest -\/-\/silent}   &Runs Jest tests.    \\\cline{1-3}
{\ttfamily test\+:coverage}   &{\ttfamily jest -\/-\/coverage -\/-\/silent}   &Runs Jest tests and generates a coverage report.   \\\cline{1-3}
\end{longtabu}


Sources\+: \mbox{[}frontend/package.\+json\mbox{]}(), \mbox{[}frontend/\texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}tests\texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}/config/package-\/validation.test.\+ts\+:90-\/128\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1690}{}\doxysubsubsection{\texorpdfstring{Next.\+js Build ({\ttfamily frontend/next.\+config.\+js})}{Next.\+js Build ({\ttfamily frontend/next.\+config.\+js})}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1690}
The {\ttfamily next.\+config.\+js} file contains settings for the Next.\+js build process. The current configuration is minimal, enabling React\textquotesingle{}s Strict Mode.


\begin{DoxyCode}{0}
\DoxyCodeLine{/**\ @type\ \{import('next').NextConfig\}\ */}
\DoxyCodeLine{const\ nextConfig\ =\ \{}
\DoxyCodeLine{\ \ reactStrictMode:\ true,}
\DoxyCodeLine{\};}
\DoxyCodeLine{}
\DoxyCodeLine{module.exports\ =\ nextConfig;}

\end{DoxyCode}


This setting helps identify potential problems in the application by running effects and checks twice in development mode.

Sources\+: \mbox{[}frontend/next.\+config.\+js\+:1-\/6\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1691}{}\doxysubsubsection{\texorpdfstring{Environment Variables}{Environment Variables}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1691}
The frontend relies on an environment variable to locate the backend API.

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{3}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Variable   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Example    }\\\cline{1-3}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Variable   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Example    }\\\cline{1-3}
\endhead
{\ttfamily NEXT\+\_\+\+PUBLIC\+\_\+\+API\+\_\+\+URL}   &The base URL for the Fast\+API backend.   &{\ttfamily \href{http://localhost:8000}{\texttt{ http\+://localhost\+:8000}}}   \\\cline{1-3}
\end{longtabu}


This is configured in a {\ttfamily .env.\+local} file in the {\ttfamily frontend} directory, based on the {\ttfamily .env.\+example} template in the project root.

Sources\+: \mbox{[}\doxylink{INTEGRATION__SUMMARY_8md}{INTEGRATION\+\_\+\+SUMMARY.\+md}\+:200-\/203\mbox{]}(), \mbox{[}\doxylink{QUICK__START_8md}{QUICK\+\_\+\+START.\+md}\+:49-\/51\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1692}{}\doxysubsection{\texorpdfstring{Deployment Configuration ({\ttfamily vercel.\+json})}{Deployment Configuration ({\ttfamily vercel.\+json})}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1692}
Deployment to Vercel is configured via {\ttfamily vercel.\+json}. This file defines how the project is built and how incoming requests are routed to either the Next.\+js frontend or the Python API.

The diagram below shows Vercel\textquotesingle{}s request routing.


\begin{DoxyCode}{0}
\DoxyCodeLine{graph\ TD}
\DoxyCodeLine{\ \ \ \ subgraph\ Vercel\ Platform}
\DoxyCodeLine{\ \ \ \ \ \ \ \ A[Incoming\ Request]\ -\/-\/>\ B\{Request\ Path\}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ B\ -\/-\/\ /api/*\ -\/-\/>\ C[Python/FastAPI\ Backend]}
\DoxyCodeLine{\ \ \ \ \ \ \ \ B\ -\/-\/\ else\ -\/-\/>\ D[Next.js\ Frontend]}
\DoxyCodeLine{\ \ \ \ end}

\end{DoxyCode}


This configuration ensures that API calls are correctly forwarded to the serverless Python function, while all other paths are handled by the Next.\+js application.

Sources\+: \mbox{[}\doxylink{INTEGRATION__SUMMARY_8md}{INTEGRATION\+\_\+\+SUMMARY.\+md}\+:104-\/108\mbox{]}(), \mbox{[}\doxylink{TESTING__GUIDE_8md}{TESTING\+\_\+\+GUIDE.\+md}\+:65-\/68\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1693}{}\doxysubsection{\texorpdfstring{Extensibility and Customization}{Extensibility and Customization}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1693}
\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1694}{}\doxysubsubsection{\texorpdfstring{How-\/\+To\+: Add a New Asset Type}{How-\/\+To\+: Add a New Asset Type}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1694}


{\bfseries{Relevant source files}}\begin{adjustwidth}{1em}{0em}


The following files were used as context for generating this wiki page\+:


\begin{DoxyItemize}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/src/models/financial_models.py}{\texttt{ src/models/financial\+\_\+models.\+py}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/src/data/sample_data.py}{\texttt{ src/data/sample\+\_\+data.\+py}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/README.md}{\texttt{ README.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/CONTRIBUTING.md}{\texttt{ CONTRIBUTING.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/ARCHITECTURE.md}{\texttt{ ARCHITECTURE.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/AI_RULES.md}{\texttt{ AI\+\_\+\+RULES.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/INTEGRATION_SUMMARY.md}{\texttt{ INTEGRATION\+\_\+\+SUMMARY.\+md}}
\end{DoxyItemize}\end{adjustwidth}
\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1695}{}\doxysection{\texorpdfstring{How-\/\+To\+: Add a New Asset Type}{How-\/\+To\+: Add a New Asset Type}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1695}
This guide provides a step-\/by-\/step process for extending the financial asset relationship database with a new asset type. The system is designed to be extensible, allowing developers to incorporate new financial instruments beyond the core classes of Equities, Bonds, Commodities, and Currencies.

Adding a new asset type primarily involves defining its data structure, adding it to the system\textquotesingle{}s enumeration of asset classes, and implementing the logic that governs its relationships with other assets. Following these steps will ensure the new asset is properly integrated into the graph visualization, metrics calculation, and API responses.

Sources\+: \mbox{[}README.\+md\mbox{]}(), \mbox{[}\doxylink{ARCHITECTURE_8md}{ARCHITECTURE.\+md}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1696}{}\doxysubsection{\texorpdfstring{Process Overview}{Process Overview}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1696}
The overall process for adding a new asset type involves modifications to the data, logic, and potentially the presentation layers.

This flowchart shows the high-\/level workflow for integrating a new asset type.


\begin{DoxyCode}{0}
\DoxyCodeLine{flowchart\ TD}
\DoxyCodeLine{\ \ \ \ A[Step\ 1:\ Extend\ Data\ Model<br/>Create\ new\ dataclass]\ -\/-\/>\ B[Step\ 2:\ Update\ AssetClass\ Enum<br/>Add\ new\ type\ to\ enum]}
\DoxyCodeLine{\ \ \ \ B\ -\/-\/>\ C[Step\ 3:\ Add\ Sample\ Data<br/>(Optional)\ Create\ sample\ instances]}
\DoxyCodeLine{\ \ \ \ C\ -\/-\/>\ D[Step\ 4:\ Define\ Relationship\ Rules<br/>Update\ AssetRelationshipGraph]}
\DoxyCodeLine{\ \ \ \ D\ -\/-\/>\ E[Step\ 5:\ Update\ Frontend<br/>(If\ needed)\ Modify\ types\ and\ components]}
\DoxyCodeLine{\ \ \ \ E\ -\/-\/>\ F[Step\ 6:\ Add\ Tests<br/>Unit\ and\ integration\ tests]}

\end{DoxyCode}


Sources\+: \mbox{[}README.\+md\+:112-\/122\mbox{]}(), \mbox{[}\doxylink{CONTRIBUTING_8md}{CONTRIBUTING.\+md}\+:195-\/203\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1697}{}\doxysubsection{\texorpdfstring{Step 1\+: Extend the Data Model}{Step 1\+: Extend the Data Model}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1697}
The first step is to define the data structure for the new asset. All asset types are Python dataclasses that inherit from the base {\ttfamily Asset} class defined in {\ttfamily \doxylink{financial__models_8py}{src/models/financial\+\_\+models.\+py}}.

Sources\+: \mbox{[}\doxylink{AI__RULES_8md}{AI\+\_\+\+RULES.\+md}\+:14\mbox{]}(), \mbox{[}\doxylink{CONTRIBUTING_8md}{CONTRIBUTING.\+md}\+:201\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1698}{}\doxysubsubsection{\texorpdfstring{Create a New Dataclass}{Create a New Dataclass}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1698}
Create a new Python file or add to the existing {\ttfamily \doxylink{financial__models_8py}{financial\+\_\+models.\+py}} a new dataclass that inherits from {\ttfamily Asset}. This new class should include fields specific to the new asset type. The project standard is to use Python\textquotesingle{}s {\ttfamily dataclasses} module for all structured data objects.

For example, to add a {\ttfamily Derivative} asset type\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keyword}{from}\ src.models.financial\_models\ \textcolor{keyword}{import}\ Asset,\ AssetClass}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{preprocessor}{@dataclass}}
\DoxyCodeLine{\textcolor{keyword}{class\ }Derivative(Asset):}
\DoxyCodeLine{\ \ \ \ underlying\_asset:\ str}
\DoxyCodeLine{\ \ \ \ expiration\_date:\ str}
\DoxyCodeLine{\ \ \ \ strike\_price:\ Optional[float]\ =\ \textcolor{keywordtype}{None}}

\end{DoxyCode}


Sources\+: \mbox{[}README.\+md\+:112-\/118\mbox{]}(), \mbox{[}\doxylink{AI__RULES_8md}{AI\+\_\+\+RULES.\+md}\+:37-\/38\mbox{]}()

The base {\ttfamily Asset} class provides a set of common fields that all asset types must have.

This class diagram illustrates how a new {\ttfamily Derivative} class inherits from the base {\ttfamily Asset} class, alongside other existing asset types.


\begin{DoxyCode}{0}
\DoxyCodeLine{classDiagram}
\DoxyCodeLine{\ \ \ \ class\ Asset\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +str\ id}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +str\ symbol}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +str\ name}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +AssetClass\ asset\_class}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +str\ sector}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +str\ currency}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +float\ price}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +dict\ additional\_fields}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ class\ Equity\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +float\ pe\_ratio}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +float\ dividend\_yield}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ class\ Bond\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +float\ yield}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +float\ duration}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ class\ Derivative\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +str\ underlying\_asset}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +str\ expiration\_date}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +float\ strike\_price}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ Asset\ <|-\/-\/\ Equity}
\DoxyCodeLine{\ \ \ \ Asset\ <|-\/-\/\ Bond}
\DoxyCodeLine{\ \ \ \ Asset\ <|-\/-\/\ Derivative}

\end{DoxyCode}


Sources\+: \mbox{[}README.\+md\+:112-\/118\mbox{]}(), \mbox{[}\doxylink{financial__models_8py}{src/models/financial\+\_\+models.\+py}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1699}{}\doxysubsection{\texorpdfstring{Step 2\+: Update the {\ttfamily Asset\+Class} Enum}{Step 2\+: Update the {\ttfamily Asset\+Class} Enum}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1699}
The {\ttfamily Asset\+Class} enumeration in {\ttfamily \doxylink{financial__models_8py}{src/models/financial\+\_\+models.\+py}} is used to categorize and identify different types of assets throughout the application. You must add your new asset type to this enum.


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{comment}{\#\ In\ src/models/financial\_models.py}}
\DoxyCodeLine{\textcolor{keyword}{from}\ enum\ \textcolor{keyword}{import}\ Enum}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keyword}{class\ }AssetClass(\mbox{\hyperlink{classEnum}{Enum}}):}
\DoxyCodeLine{\ \ \ \ EQUITY\ =\ \textcolor{stringliteral}{"{}Equity"{}}}
\DoxyCodeLine{\ \ \ \ BOND\ =\ \textcolor{stringliteral}{"{}Fixed\ Income"{}}}
\DoxyCodeLine{\ \ \ \ COMMODITY\ =\ \textcolor{stringliteral}{"{}Commodity"{}}}
\DoxyCodeLine{\ \ \ \ CURRENCY\ =\ \textcolor{stringliteral}{"{}Currency"{}}}
\DoxyCodeLine{\ \ \ \ REGULATORY\_EVENT\ =\ \textcolor{stringliteral}{"{}Regulatory\ Event"{}}}
\DoxyCodeLine{\ \ \ \ DERIVATIVE\ =\ \textcolor{stringliteral}{"{}Derivative"{}}\ \textcolor{comment}{\#\ Add\ the\ new\ type\ here}}

\end{DoxyCode}


Sources\+: \mbox{[}\doxylink{AI__RULES_8md}{AI\+\_\+\+RULES.\+md}\+:39-\/40\mbox{]}(), \mbox{[}\doxylink{financial__models_8py}{src/models/financial\+\_\+models.\+py}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1700}{}\doxysubsection{\texorpdfstring{Step 3\+: Add Sample Data (Optional)}{Step 3\+: Add Sample Data (Optional)}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1700}
To test and visualize the new asset type, it is recommended to add sample instances to {\ttfamily \doxylink{sample__data_8py}{src/data/sample\+\_\+data.\+py}}. This file is responsible for creating the initial dataset used in the application.

You would instantiate your new dataclass and add it to the list of assets that are loaded into the {\ttfamily \doxylink{classAssetRelationshipGraph}{Asset\+Relationship\+Graph}}.

Sources\+: \mbox{[}\doxylink{CONTRIBUTING_8md}{CONTRIBUTING.\+md}\+:202\mbox{]}(), \mbox{[}\doxylink{ARCHITECTURE_8md}{ARCHITECTURE.\+md}\+:79-\/85\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1701}{}\doxysubsection{\texorpdfstring{Step 4\+: Define New Relationship Rules}{Step 4\+: Define New Relationship Rules}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1701}
The core of the system is the {\ttfamily \doxylink{classAssetRelationshipGraph}{Asset\+Relationship\+Graph}} in {\ttfamily \doxylink{asset__graph_8py}{src/logic/asset\+\_\+graph.\+py}}, which automatically discovers relationships between assets. To make the system aware of how your new asset type interacts with others, you must update the {\ttfamily \+\_\+find\+\_\+relationships} method within this class.

This method iterates through pairs of assets and appends relationship tuples {\ttfamily (type, strength, is\+\_\+bidirectional)} based on custom logic.

The following flowchart shows the logic inside the {\ttfamily \+\_\+find\+\_\+relationships} method.


\begin{DoxyCode}{0}
\DoxyCodeLine{flowchart\ TD}
\DoxyCodeLine{\ \ \ \ start[Start\ \_find\_relationships]\ -\/-\/>\ loop\{For\ each\ pair\ of\ assets\ (asset1,\ asset2)\}}
\DoxyCodeLine{\ \ \ \ loop\ -\/-\/>\ check\_type\{Check\ asset\ types\}}
\DoxyCodeLine{\ \ \ \ check\_type\ -\/-\/>\ rule1\{Is\ asset1\ a\ Derivative\ and\ asset2\ an\ Equity?\}}
\DoxyCodeLine{\ \ \ \ rule1\ -\/-\/\ Yes\ -\/-\/>\ check\_underlying\{Is\ asset1.underlying\_asset\ ==\ asset2.symbol?\}}
\DoxyCodeLine{\ \ \ \ check\_underlying\ -\/-\/\ Yes\ -\/-\/>\ add\_rel[Add\ ("{}derivative\_underlying"{},\ 0.95,\ False)]}
\DoxyCodeLine{\ \ \ \ add\_rel\ -\/-\/>\ loop}
\DoxyCodeLine{\ \ \ \ check\_underlying\ -\/-\/\ No\ -\/-\/>\ loop}
\DoxyCodeLine{\ \ \ \ rule1\ -\/-\/\ No\ -\/-\/>\ other\_rules(...)}
\DoxyCodeLine{\ \ \ \ other\_rules\ -\/-\/>\ loop}
\DoxyCodeLine{\ \ \ \ loop\ -\/-\/>\ finish[End]}

\end{DoxyCode}


Sources\+: \mbox{[}README.\+md\+:120-\/122\mbox{]}(), \mbox{[}\doxylink{ARCHITECTURE_8md}{ARCHITECTURE.\+md}\+:46-\/53\mbox{]}()

Add a new conditional block to implement the logic for your new asset type. For example, to link a {\ttfamily Derivative} to its underlying {\ttfamily Equity}\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{comment}{\#\ Add\ to\ \_find\_relationships()\ in\ AssetRelationshipGraph}}
\DoxyCodeLine{\textcolor{keywordflow}{if}\ isinstance(asset1,\ Derivative)\ \textcolor{keywordflow}{and}\ isinstance(asset2,\ Equity):}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{if}\ asset1.underlying\_asset\ ==\ asset2.symbol:}
\DoxyCodeLine{\ \ \ \ \ \ \ \ relationships.append((\textcolor{stringliteral}{"{}derivative\_underlying"{}},\ 0.95,\ \textcolor{keyword}{False}))}

\end{DoxyCode}


Sources\+: \mbox{[}README.\+md\+:120-\/122\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1702}{}\doxysubsection{\texorpdfstring{Step 5\+: Update the Frontend (If Applicable)}{Step 5\+: Update the Frontend (If Applicable)}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1702}
If the new asset type has unique fields that need to be displayed in the user interface, you may need to update the frontend code. The project has a Next.\+js frontend that communicates with a Fast\+API backend.

Key files to update include\+:


\begin{DoxyItemize}
\item {\bfseries{{\ttfamily frontend/app/types/api.\+ts}}}\+: Add the new asset type and its specific fields to the Type\+Script interfaces to ensure type safety.
\item {\bfseries{{\ttfamily frontend/app/components/\+Asset\+List.\+tsx}}}\+: Modify the component to display the new fields in the asset explorer table.
\item {\bfseries{{\ttfamily \doxylink{api_2main_8py}{api/main.\+py}}}}\+: Ensure the Fast\+API endpoint serializes the new asset\textquotesingle{}s fields correctly.
\end{DoxyItemize}

Sources\+: \mbox{[}\doxylink{INTEGRATION__SUMMARY_8md}{INTEGRATION\+\_\+\+SUMMARY.\+md}\+:41-\/58\mbox{]}(), \mbox{[}\doxylink{frontend_2README_8md}{frontend/\+README.\+md}\+:41-\/51\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1703}{}\doxysubsection{\texorpdfstring{Step 6\+: Add Tests}{Step 6\+: Add Tests}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1703}
Finally, it is crucial to add tests for the new functionality. The project uses {\ttfamily pytest} for backend testing.


\begin{DoxyItemize}
\item {\bfseries{Unit Tests}}\+: Add tests to {\ttfamily tests/unit/test\+\_\+models.\+py} to validate the new dataclass, including any custom validation in {\ttfamily \+\_\+\+\_\+post\+\_\+init\+\_\+\+\_\+}.
\item {\bfseries{Integration Tests}}\+: Add tests to {\ttfamily tests/unit/test\+\_\+graph.\+py} to verify that the new relationship rules are correctly identified and that metrics are calculated properly with the new asset type included.
\end{DoxyItemize}

Follow the guidelines in {\ttfamily \doxylink{CONTRIBUTING_8md}{CONTRIBUTING.\+md}} for writing and running tests. New features must be accompanied by tests.

Sources\+: \mbox{[}\doxylink{CONTRIBUTING_8md}{CONTRIBUTING.\+md}\+:129-\/170\mbox{]}(), \mbox{[}\doxylink{AUDIT__REPORT_8md}{AUDIT\+\_\+\+REPORT.\+md}\+:111-\/128\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1704}{}\doxysubsection{\texorpdfstring{Summary}{Summary}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1704}
Adding a new asset type is a structured process that touches multiple layers of the application architecture. By extending the data model, updating enums, defining relationship logic, and adding tests, you can seamlessly integrate new financial instruments into the system. This modular design is a core strength of the {\ttfamily financial-\/asset-\/relationship-\/db} project, enabling it to evolve and support a wider range of financial analysis scenarios.

Sources\+: \mbox{[}\doxylink{ARCHITECTURE_8md}{ARCHITECTURE.\+md}\+:173-\/182\mbox{]}(), \mbox{[}README.\+md\+:109-\/110\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1705}{}\doxysubsubsection{\texorpdfstring{How-\/\+To\+: Create Custom Relationship Rules}{How-\/\+To\+: Create Custom Relationship Rules}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1705}


{\bfseries{Relevant source files}}\begin{adjustwidth}{1em}{0em}
The following files were used as context for generating this wiki page\+:
\begin{DoxyItemize}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/README.md}{\texttt{ README.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/src/logic/asset_graph.py}{\texttt{ src/logic/asset\+\_\+graph.\+py}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/AI_RULES.md}{\texttt{ AI\+\_\+\+RULES.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/CONTRIBUTING.md}{\texttt{ CONTRIBUTING.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/IMPROVEMENTS.md}{\texttt{ IMPROVEMENTS.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/AUDIT_REPORT.md}{\texttt{ AUDIT\+\_\+\+REPORT.\+md}}
\end{DoxyItemize}\end{adjustwidth}
\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1706}{}\doxysection{\texorpdfstring{How-\/\+To\+: Create Custom Relationship Rules}{How-\/\+To\+: Create Custom Relationship Rules}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1706}
The financial asset relationship database is designed to automatically discover connections between different financial assets. This guide explains how developers can extend the system by defining and implementing custom relationship rules. The core of this functionality resides in the {\ttfamily \doxylink{classAssetRelationshipGraph}{Asset\+Relationship\+Graph}} class, which processes assets and identifies relationships based on a predefined set of rules.

Creating a custom rule involves defining the conditions under which two assets are considered related, the type of relationship, and its relative strength. This process typically requires modifying the core relationship discovery engine and may involve extending the existing data models to support new asset types or attributes.

Sources\+: \mbox{[}README.\+md\+:82-\/85\mbox{]}(), \mbox{[}\doxylink{asset__graph_8py}{src/logic/asset\+\_\+graph.\+py}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1707}{}\doxysubsection{\texorpdfstring{Understanding Core Components}{Understanding Core Components}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1707}
Before creating a new rule, it\textquotesingle{}s essential to understand the primary components that govern asset relationships.

Sources\+: \mbox{[}README.\+md\+:65-\/76\mbox{]}(), \mbox{[}\doxylink{AI__RULES_8md}{AI\+\_\+\+RULES.\+md}\+:31-\/34\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1708}{}\doxysubsubsection{\texorpdfstring{Asset Data Models}{Asset Data Models}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1708}
All assets in the system are defined using Python {\ttfamily dataclasses}. There is a base {\ttfamily Asset} class, and specific asset types like {\ttfamily Equity}, {\ttfamily Bond}, and {\ttfamily Commodity} inherit from it. To create rules for a new type of asset, you must first define its model.

The diagram below shows the inheritance structure of the core financial models.


\begin{DoxyCode}{0}
\DoxyCodeLine{classDiagram}
\DoxyCodeLine{\ \ \ \ direction\ LR}
\DoxyCodeLine{\ \ \ \ class\ Asset\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +id:\ str}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +symbol:\ str}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +name:\ str}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +asset\_class:\ AssetClass}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +price:\ float}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ class\ Equity\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +sector:\ str}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +market\_cap:\ float}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ class\ Bond\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +issuer:\ str}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +credit\_rating:\ str}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ class\ Commodity\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +unit:\ str}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ class\ Currency\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +country:\ str}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ Asset\ <|-\/-\/\ Equity}
\DoxyCodeLine{\ \ \ \ Asset\ <|-\/-\/\ Bond}
\DoxyCodeLine{\ \ \ \ Asset\ <|-\/-\/\ Commodity}
\DoxyCodeLine{\ \ \ \ Asset\ <|-\/-\/\ Currency}

\end{DoxyCode}


This class diagram illustrates the inheritance hierarchy for financial asset models.

Sources\+: \mbox{[}\doxylink{AUDIT__REPORT_8md}{AUDIT\+\_\+\+REPORT.\+md}\+:21-\/25\mbox{]}(), \mbox{[}\doxylink{AI__RULES_8md}{AI\+\_\+\+RULES.\+md}\+:31-\/34\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1709}{}\doxysubsubsection{\texorpdfstring{The Relationship Discovery Engine}{The Relationship Discovery Engine}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1709}
The {\ttfamily \doxylink{classAssetRelationshipGraph}{Asset\+Relationship\+Graph}} class is the engine for relationship management. The automatic discovery process is handled by the {\ttfamily build\+\_\+relationships()} method, which in turn calls the private {\ttfamily \+\_\+find\+\_\+relationships()} method. This is the primary location for adding custom rule logic.

The {\ttfamily \+\_\+find\+\_\+relationships()} method iterates through all possible pairs of assets in the graph and applies a series of conditional checks to identify relationships.

The following sequence diagram shows the high-\/level flow when discovering relationships.


\begin{DoxyCode}{0}
\DoxyCodeLine{sequenceDiagram}
\DoxyCodeLine{\ \ \ \ participant\ App\ as\ "{}Application"{}}
\DoxyCodeLine{\ \ \ \ participant\ Graph\ as\ "{}AssetRelationshipGraph"{}}
\DoxyCodeLine{\ \ \ \ App-\/>>Graph:\ build\_relationships()}
\DoxyCodeLine{\ \ \ \ activate\ Graph}
\DoxyCodeLine{\ \ \ \ Graph-\/>>Graph:\ \_find\_relationships()}
\DoxyCodeLine{\ \ \ \ Note\ over\ Graph:\ Iterates\ through\ all\ asset\ pairs}
\DoxyCodeLine{\ \ \ \ Graph-\/>>Graph:\ add\_relationship(source,\ target,\ type,\ strength)}
\DoxyCodeLine{\ \ \ \ deactivate\ Graph}
\DoxyCodeLine{\ \ \ \ App-\/-\/>>App:\ Relationships\ built}

\end{DoxyCode}


This diagram shows the method calls involved in the automatic relationship discovery process.

Sources\+: \mbox{[}README.\+md\+:85\mbox{]}(), \mbox{[}\doxylink{asset__graph_8py}{src/logic/asset\+\_\+graph.\+py}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1710}{}\doxysubsection{\texorpdfstring{Step-\/by-\/\+Step Guide to Creating a Custom Rule}{Step-\/by-\/\+Step Guide to Creating a Custom Rule}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1710}
Follow these steps to add a new relationship rule to the system.\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1711}{}\doxysubsubsection{\texorpdfstring{1. Define or Extend Asset Models (If Necessary)}{1. Define or Extend Asset Models (If Necessary)}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1711}
If your new rule involves a new type of financial instrument, you must first define it as a {\ttfamily dataclass} that inherits from {\ttfamily Asset}. The project standards mandate the use of {\ttfamily dataclasses} for all structured data objects.

For example, to add a rule for derivatives, you would first define a {\ttfamily Derivative} class.


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keyword}{from}\ dataclasses\ \textcolor{keyword}{import}\ dataclass}
\DoxyCodeLine{\textcolor{keyword}{from}\ typing\ \textcolor{keyword}{import}\ Optional}
\DoxyCodeLine{\textcolor{keyword}{from}\ src.models.financial\_models\ \textcolor{keyword}{import}\ Asset,\ AssetClass}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{preprocessor}{@dataclass}}
\DoxyCodeLine{\textcolor{keyword}{class\ }Derivative(Asset):}
\DoxyCodeLine{\ \ \ \ underlying\_asset:\ str}
\DoxyCodeLine{\ \ \ \ expiration\_date:\ str}
\DoxyCodeLine{\ \ \ \ strike\_price:\ Optional[float]\ =\ \textcolor{keywordtype}{None}}

\end{DoxyCode}


{\itshape Source\+: \mbox{[}README.\+md\+:88-\/96\mbox{]}()}

Sources\+: \mbox{[}README.\+md\+:88-\/96\mbox{]}(), \mbox{[}\doxylink{AI__RULES_8md}{AI\+\_\+\+RULES.\+md}\+:31-\/34\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1712}{}\doxysubsubsection{\texorpdfstring{2. Modify the Relationship Discovery Logic}{2. Modify the Relationship Discovery Logic}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1712}
The logic for all relationship rules is centralized in the {\ttfamily \+\_\+find\+\_\+relationships()} method within {\ttfamily \doxylink{asset__graph_8py}{src/logic/asset\+\_\+graph.\+py}}. This method contains a nested loop that compares every asset with every other asset.

The general flow of this method is as follows\+:


\begin{DoxyEnumerate}
\item Iterate through each asset ({\ttfamily asset1}).
\item Iterate through each subsequent asset ({\ttfamily asset2}) to form a pair.
\item Apply a series of {\ttfamily if} statements to check the types and attributes of {\ttfamily asset1} and {\ttfamily asset2}.
\item If a condition is met, create a relationship tuple and append it to a list.
\item After checking all conditions for the pair, add the identified relationships to the graph.
\end{DoxyEnumerate}

The flowchart below visualizes this process.


\begin{DoxyCode}{0}
\DoxyCodeLine{flowchart\ TD}
\DoxyCodeLine{\ \ \ \ A[Start\ \_find\_relationships]\ -\/-\/>\ B\{Loop\ through\ all\ asset\ pairs\};}
\DoxyCodeLine{\ \ \ \ B\ -\/-\/>\ C[Get\ asset1,\ asset2];}
\DoxyCodeLine{\ \ \ \ C\ -\/-\/>\ D\{Check\ Rule\ 1:\ Same\ Sector?\};}
\DoxyCodeLine{\ \ \ \ D\ -\/-\/\ Yes\ -\/-\/>\ E[Append\ 'same\_sector'\ relationship];}
\DoxyCodeLine{\ \ \ \ D\ -\/-\/\ No\ -\/-\/>\ F\{Check\ Rule\ 2:\ Corporate\ Bond?\};}
\DoxyCodeLine{\ \ \ \ E\ -\/-\/>\ F;}
\DoxyCodeLine{\ \ \ \ F\ -\/-\/\ Yes\ -\/-\/>\ G[Append\ 'corp\_bond\_to\_equity'\ relationship];}
\DoxyCodeLine{\ \ \ \ F\ -\/-\/\ No\ -\/-\/>\ H\{...Check\ other\ rules...\};}
\DoxyCodeLine{\ \ \ \ G\ -\/-\/>\ H;}
\DoxyCodeLine{\ \ \ \ H\ -\/-\/\ Yes\ -\/-\/>\ I[Append\ custom\ relationship];}
\DoxyCodeLine{\ \ \ \ H\ -\/-\/\ No\ -\/-\/>\ J[End\ of\ checks\ for\ pair];}
\DoxyCodeLine{\ \ \ \ I\ -\/-\/>\ J;}
\DoxyCodeLine{\ \ \ \ J\ -\/-\/>\ B;}
\DoxyCodeLine{\ \ \ \ B\ -\/-\/\ All\ pairs\ checked\ -\/-\/>\ K[Add\ all\ found\ relationships\ to\ graph];}
\DoxyCodeLine{\ \ \ \ K\ -\/-\/>\ L[End];}

\end{DoxyCode}


This diagram shows the logical flow for checking relationship rules between asset pairs.

Sources\+: \mbox{[}\doxylink{asset__graph_8py}{src/logic/asset\+\_\+graph.\+py}\mbox{]}(), \mbox{[}README.\+md\+:85\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1713}{}\doxysubsubsection{\texorpdfstring{3. Implement the Rule Logic}{3. Implement the Rule Logic}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1713}
To implement your custom rule, add a new {\ttfamily if} block inside the nested loop in {\ttfamily \+\_\+find\+\_\+relationships()}. This block should check the asset types and the specific attributes that define the relationship.

When a relationship is found, you must create a tuple with the following structure and append it to the {\ttfamily relationships} list.

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{3}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Element   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Type   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-3}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Element   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Type   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-3}
\endhead
{\ttfamily type}   &{\ttfamily str}   &A unique name for the relationship (e.\+g., {\ttfamily derivative\+\_\+underlying}).    \\\cline{1-3}
{\ttfamily strength}   &{\ttfamily float}   &A normalized value from 0.\+0 to 1.\+0 indicating the relationship\textquotesingle{}s strength.    \\\cline{1-3}
{\ttfamily bidirectional}   &{\ttfamily bool}   &{\ttfamily True} if the relationship is symmetric (A-\/\texorpdfstring{$>$}{>}B and B-\/\texorpdfstring{$>$}{>}A), {\ttfamily False} otherwise.   \\\cline{1-3}
\end{longtabu}


{\itshape Source\+: \mbox{[}\doxylink{asset__graph_8py}{src/logic/asset\+\_\+graph.\+py}\mbox{]}()}

Here is an example of adding a rule to link a {\ttfamily Derivative} to its underlying {\ttfamily Equity}.


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{comment}{\#\ Add\ to\ \_find\_relationships()\ in\ AssetRelationshipGraph}}
\DoxyCodeLine{\textcolor{keywordflow}{if}\ isinstance(asset1,\ Derivative)\ \textcolor{keywordflow}{and}\ isinstance(asset2,\ Equity):}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{if}\ asset1.underlying\_asset\ ==\ asset2.symbol:}
\DoxyCodeLine{\ \ \ \ \ \ \ \ relationships.append((\textcolor{stringliteral}{"{}derivative\_underlying"{}},\ 0.95,\ \textcolor{keyword}{False}))}

\end{DoxyCode}


{\itshape Source\+: \mbox{[}README.\+md\+:99-\/102\mbox{]}()}

This code checks if one asset is a {\ttfamily Derivative} and the other is an {\ttfamily Equity}. If the derivative\textquotesingle{}s underlying asset symbol matches the equity\textquotesingle{}s symbol, it creates a directional relationship with a strength of 0.\+95.\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1714}{}\doxysubsection{\texorpdfstring{Best Practices and Configuration}{Best Practices and Configuration}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1714}
\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1715}{}\doxysubsubsection{\texorpdfstring{Managing Relationship Strengths}{Managing Relationship Strengths}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1715}
The codebase has been identified as having hardcoded "{}magic numbers"{} for relationship strengths (e.\+g., {\ttfamily 0.\+7} for {\ttfamily same\+\_\+sector}). It is recommended to extract these values into a centralized configuration file, such as {\ttfamily src/config.\+py}, to improve maintainability.

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{3}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Relationship Type   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Hardcoded Strength   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Recommended Constant    }\\\cline{1-3}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Relationship Type   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Hardcoded Strength   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Recommended Constant    }\\\cline{1-3}
\endhead
{\ttfamily same\+\_\+sector}   &{\ttfamily 0.\+7}   &{\ttfamily SAME\+\_\+\+SECTOR\+\_\+\+STRENGTH}    \\\cline{1-3}
{\ttfamily corporate\+\_\+bond\+\_\+to\+\_\+equity}   &{\ttfamily 0.\+9}   &{\ttfamily CORPORATE\+\_\+\+BOND\+\_\+\+STRENGTH}    \\\cline{1-3}
{\ttfamily currency\+\_\+exposure}   &{\ttfamily 0.\+8}   &{\ttfamily CURRENCY\+\_\+\+EXPOSURE\+\_\+\+STRENGTH}   \\\cline{1-3}
\end{longtabu}


{\itshape Source\+: \mbox{[}\doxylink{IMPROVEMENTS_8md}{IMPROVEMENTS.\+md}\+:23-\/39\mbox{]}()}\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1716}{}\doxysubsubsection{\texorpdfstring{Testing Your New Rule}{Testing Your New Rule}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1716}
All new features and bug fixes must be accompanied by tests. When you add a new relationship rule, you should also add a corresponding unit test to validate its behavior.


\begin{DoxyEnumerate}
\item {\bfseries{Test Structure}}\+: Tests for the graph logic are located in {\ttfamily \doxylink{test__asset__graph_8py}{tests/unit/test\+\_\+asset\+\_\+graph.\+py}}.
\item {\bfseries{Fixtures}}\+: Use shared fixtures from {\ttfamily \doxylink{tests_2conftest_8py}{tests/conftest.\+py}} to create sample assets for your test cases.
\item {\bfseries{Test Case}}\+: Write a test function that\+:
\begin{DoxyItemize}
\item Creates an {\ttfamily \doxylink{classAssetRelationshipGraph}{Asset\+Relationship\+Graph}}.
\item Adds the specific assets needed to trigger your new rule.
\item Calls {\ttfamily build\+\_\+relationships()}.
\item Asserts that the new relationship was created correctly with the expected type and strength.
\end{DoxyItemize}
\end{DoxyEnumerate}

{\itshape Sources\+: \mbox{[}\doxylink{CONTRIBUTING_8md}{CONTRIBUTING.\+md}\+:129-\/161\mbox{]}(), \mbox{[}\doxylink{AUDIT__REPORT_8md}{AUDIT\+\_\+\+REPORT.\+md}\+:105-\/118\mbox{]}()}\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1717}{}\doxysubsection{\texorpdfstring{Summary}{Summary}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1717}
Creating a custom relationship rule is a straightforward process that extends the core functionality of the application. The key steps are to define the necessary asset models, add conditional logic to the {\ttfamily \+\_\+find\+\_\+relationships} method in {\ttfamily \doxylink{classAssetRelationshipGraph}{Asset\+Relationship\+Graph}}, and provide comprehensive tests to ensure the rule functions as expected. By centralizing rule strengths and following the established testing patterns, you can contribute new, maintainable, and robust features to the relationship discovery engine.\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1718}{}\doxysubsection{\texorpdfstring{Development and Testing}{Development and Testing}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1718}
\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1719}{}\doxysubsubsection{\texorpdfstring{Testing Strategy}{Testing Strategy}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1719}


{\bfseries{Relevant source files}}\begin{adjustwidth}{1em}{0em}


The following files were used as context for generating this wiki page\+:


\begin{DoxyItemize}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/TESTING_GUIDE.md}{\texttt{ TESTING\+\_\+\+GUIDE.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/CONTRIBUTING.md}{\texttt{ CONTRIBUTING.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/AUDIT_REPORT.md}{\texttt{ AUDIT\+\_\+\+REPORT.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/tests/unit/test_documentation_validation.py}{\texttt{ tests/unit/test\+\_\+documentation\+\_\+validation.\+py}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/tests/integration/test_workflow_documentation.py}{\texttt{ tests/integration/test\+\_\+workflow\+\_\+documentation.\+py}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/COMPREHENSIVE_TEST_SUMMARY.md}{\texttt{ COMPREHENSIVE\+\_\+\+TEST\+\_\+\+SUMMARY.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/TEST_DOCUMENTATION_SUMMARY.md}{\texttt{ TEST\+\_\+\+DOCUMENTATION\+\_\+\+SUMMARY.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/README.md}{\texttt{ README.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/TESTING.md}{\texttt{ TESTING.\+md}}
\end{DoxyItemize}

\end{adjustwidth}
\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1720}{}\doxysection{\texorpdfstring{Testing Strategy}{Testing Strategy}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1720}
The project employs a comprehensive testing strategy that covers both the Python backend and the Type\+Script/\+React frontend. The approach emphasizes unit and integration tests to ensure code quality, data integrity, and prevent regressions. The strategy also includes unique validation for documentation and configuration files, treating them as critical project artifacts. The core frameworks are {\ttfamily pytest} for the backend and {\ttfamily Jest} with {\ttfamily @testing-\/library/react} for the frontend.

The testing infrastructure was a significant addition to the project, which initially had no tests. The current suite includes over 140 test cases across backend and frontend, validating everything from API endpoints and component rendering to Markdown file structure and dependency consistency.

{\itshape Sources\+: \mbox{[}\doxylink{TESTING__GUIDE_8md}{TESTING\+\_\+\+GUIDE.\+md}\mbox{]}(), \mbox{[}\doxylink{AUDIT__REPORT_8md}{AUDIT\+\_\+\+REPORT.\+md}\+:21-\/26\mbox{]}(), \mbox{[}\doxylink{CONTRIBUTING_8md}{CONTRIBUTING.\+md}\+:113-\/145\mbox{]}()}\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1721}{}\doxysubsection{\texorpdfstring{Test Architecture}{Test Architecture}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1721}
The testing architecture is segregated by application layer (backend, frontend) and test type (unit, integration). This separation ensures clarity and maintainability.

This diagram illustrates the high-\/level organization of the test suites.


\begin{DoxyCode}{0}
\DoxyCodeLine{graph\ TD}
\DoxyCodeLine{\ \ \ \ subgraph\ Testing}
\DoxyCodeLine{\ \ \ \ \ \ \ \ A[Test\ Suites]\ -\/-\/>\ B[Backend\ Tests];}
\DoxyCodeLine{\ \ \ \ \ \ \ \ A\ -\/-\/>\ C[Frontend\ Tests];}
\DoxyCodeLine{\ \ \ \ \ \ \ \ A\ -\/-\/>\ D[Documentation\ \&\ Config\ Tests];}
\DoxyCodeLine{\ \ \ \ end}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ subgraph\ Backend}
\DoxyCodeLine{\ \ \ \ \ \ \ \ B\ -\/-\/>\ B1[Pytest];}
\DoxyCodeLine{\ \ \ \ \ \ \ \ B1\ -\/-\/>\ B2[Unit\ Tests:\ \`{}tests/unit`];}
\DoxyCodeLine{\ \ \ \ \ \ \ \ B1\ -\/-\/>\ B3[Integration\ Tests:\ \`{}tests/integration`];}
\DoxyCodeLine{\ \ \ \ end}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ subgraph\ Frontend}
\DoxyCodeLine{\ \ \ \ \ \ \ \ C\ -\/-\/>\ C1[Jest];}
\DoxyCodeLine{\ \ \ \ \ \ \ \ C1\ -\/-\/>\ C2[Component\ Tests:\ \`{}frontend/\_\_tests\_\_/components`];}
\DoxyCodeLine{\ \ \ \ \ \ \ \ C1\ -\/-\/>\ C3[API\ Client\ Tests:\ \`{}frontend/\_\_tests\_\_/lib`];}
\DoxyCodeLine{\ \ \ \ end}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ subgraph\ Docs\_and\_Config}
\DoxyCodeLine{\ \ \ \ \ \ \ \ D\ -\/-\/>\ D1[Pytest];}
\DoxyCodeLine{\ \ \ \ \ \ \ \ D1\ -\/-\/>\ D2[Markdown\ Validation:\ \`{}test\_documentation\_validation.py`];}
\DoxyCodeLine{\ \ \ \ \ \ \ \ D1\ -\/-\/>\ D3[Config\ Validation:\ \`{}test\_config\_validation.py`];}
\DoxyCodeLine{\ \ \ \ \ \ \ \ D1\ -\/-\/>\ D4[Requirements\ Validation:\ \`{}test\_requirements.py`];}
\DoxyCodeLine{\ \ \ \ end}

\end{DoxyCode}


{\itshape Sources\+: \mbox{[}\doxylink{AUDIT__REPORT_8md}{AUDIT\+\_\+\+REPORT.\+md}\+:104-\/112\mbox{]}(), \mbox{[}\doxylink{CONTRIBUTING_8md}{CONTRIBUTING.\+md}\+:114-\/120\mbox{]}(), \mbox{[}\doxylink{TESTING__GUIDE_8md}{TESTING\+\_\+\+GUIDE.\+md}\+:18, 59\mbox{]}()}\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1722}{}\doxysubsubsection{\texorpdfstring{Directory Structure}{Directory Structure}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1722}
The project organizes test files into dedicated directories\+:

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{2}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Path   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-2}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Path   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-2}
\endhead
{\ttfamily tests/}   &Root directory for all backend Python tests.    \\\cline{1-2}
{\ttfamily tests/unit/}   &Contains unit tests for isolated backend components like API endpoints and data models.    \\\cline{1-2}
{\ttfamily tests/integration/}   &Contains integration tests for backend components, such as documentation and workflow validation.    \\\cline{1-2}
{\ttfamily \doxylink{tests_2conftest_8py}{tests/conftest.\+py}}   &Provides shared {\ttfamily pytest} fixtures for backend tests.    \\\cline{1-2}
{\ttfamily frontend/\+\_\+\+\_\+tests\+\_\+\+\_\+/}   &Root directory for all frontend Type\+Script/\+React tests.   \\\cline{1-2}
\end{longtabu}


{\itshape Sources\+: \mbox{[}\doxylink{AUDIT__REPORT_8md}{AUDIT\+\_\+\+REPORT.\+md}\+:104-\/112\mbox{]}(), \mbox{[}\doxylink{CONTRIBUTING_8md}{CONTRIBUTING.\+md}\+:114-\/120\mbox{]}()}\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1723}{}\doxysubsection{\texorpdfstring{Backend Testing (Python)}{Backend Testing (Python)}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1723}
Backend testing is performed using {\ttfamily pytest} and focuses on the Fast\+API application, data models, and core logic. The suite covers API endpoints, CORS configuration, Pydantic model validation, and error handling.

{\itshape Sources\+: \mbox{[}\doxylink{TESTING__GUIDE_8md}{TESTING\+\_\+\+GUIDE.\+md}\+:18-\/58\mbox{]}(), \mbox{[}\doxylink{TEST__SUMMARY_8md}{TEST\+\_\+\+SUMMARY.\+md}\+:10-\/56\mbox{]}()}\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1724}{}\doxysubsubsection{\texorpdfstring{Key Test Areas}{Key Test Areas}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1724}

\begin{DoxyItemize}
\item {\bfseries{API Endpoints}}\+: All REST endpoints are tested for correct responses, query parameter handling, and filtering logic.
\item {\bfseries{CORS and Security}}\+: {\ttfamily Test\+Validate\+Origin} ensures that Cross-\/\+Origin Resource Sharing (CORS) rules correctly validate origins from localhost and Vercel deployments, preventing unauthorized access.
\item {\bfseries{Concurrency}}\+: Tests verify that the core {\ttfamily \doxylink{classAssetRelationshipGraph}{Asset\+Relationship\+Graph}} is initialized in a thread-\/safe manner.
\item {\bfseries{Model Validation}}\+: Pydantic response models are validated to ensure data integrity and correct structure.
\item {\bfseries{Error Handling}}\+: The system is tested against invalid requests, server errors, and 404 not-\/found scenarios.
\end{DoxyItemize}

This class diagram shows some of the key test classes for the backend.


\begin{DoxyCode}{0}
\DoxyCodeLine{classDiagram}
\DoxyCodeLine{\ \ \ \ direction\ LR}
\DoxyCodeLine{\ \ \ \ class\ TestValidateOrigin\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +test\_http\_localhost\_dev()}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +test\_vercel\_url()}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +test\_invalid\_domain()}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ class\ TestAPIEndpoints\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +test\_get\_all\_assets()}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +test\_filter\_by\_asset\_class()}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +test\_asset\_detail\_retrieval()}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +test\_network\_metrics()}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ class\ TestErrorHandling\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +test\_server\_error\_handling()}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +test\_404\_responses()}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ class\ TestConcurrency\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +test\_thread\_safe\_double\_check\_locking()}
\DoxyCodeLine{\ \ \ \ \}}

\end{DoxyCode}


{\itshape Sources\+: \mbox{[}\doxylink{TESTING__GUIDE_8md}{TESTING\+\_\+\+GUIDE.\+md}\+:37-\/54\mbox{]}(), \mbox{[}\doxylink{TEST__SUMMARY_8md}{TEST\+\_\+\+SUMMARY.\+md}\+:16-\/56\mbox{]}()}\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1725}{}\doxysubsubsection{\texorpdfstring{Test Fixtures}{Test Fixtures}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1725}
Shared test data and setup are managed using fixtures in {\ttfamily \doxylink{tests_2conftest_8py}{tests/conftest.\+py}}. This includes sample assets ({\ttfamily sample\+\_\+equity}, {\ttfamily sample\+\_\+bond}) and graph instances ({\ttfamily empty\+\_\+graph}, {\ttfamily populated\+\_\+graph}), promoting test isolation and reusability.

{\itshape Sources\+: \mbox{[}\doxylink{AUDIT__REPORT_8md}{AUDIT\+\_\+\+REPORT.\+md}\+:114-\/122\mbox{]}()}\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1726}{}\doxysubsection{\texorpdfstring{Frontend Testing (Type\+Script)}{Frontend Testing (Type\+Script)}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1726}
Frontend testing uses {\ttfamily Jest} and {\ttfamily @testing-\/library/react} to validate React components, the API client, and user interactions. Tests are located in the {\ttfamily frontend/\+\_\+\+\_\+tests\+\_\+\+\_\+} directory.

{\itshape Sources\+: \mbox{[}\doxylink{TESTING__GUIDE_8md}{TESTING\+\_\+\+GUIDE.\+md}\+:59-\/130\mbox{]}(), \mbox{[}README.\+md\+:191-\/199\mbox{]}()}\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1727}{}\doxysubsubsection{\texorpdfstring{Key Test Areas}{Key Test Areas}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1727}

\begin{DoxyItemize}
\item {\bfseries{API Client ({\ttfamily api.\+test.\+ts})}}\+: The Axios-\/based API client is extensively tested to verify correct endpoint calls, parameter handling, and response data parsing. All API methods, including {\ttfamily get\+Assets}, {\ttfamily get\+Asset\+Detail}, and {\ttfamily get\+Visualization\+Data}, are covered.
\item {\bfseries{React Components}}\+: Components like {\ttfamily Asset\+List}, {\ttfamily Metrics\+Dashboard}, and {\ttfamily Network\+Visualization} are tested for rendering, data loading, user interactions (e.\+g., filtering), and handling of empty or error states.
\item {\bfseries{Mock Data Validation}}\+: A dedicated test file, {\ttfamily frontend/\+\_\+\+\_\+tests\+\_\+\+\_\+/test-\/utils.\+test.\+ts}, validates all mock data objects used in the test suite to ensure they conform to Type\+Script interfaces and maintain data integrity.
\item {\bfseries{Page-\/\+Level Integration}}\+: The main application page is tested to ensure correct component integration, tab switching, and data loading flows.
\end{DoxyItemize}

This diagram shows the structure of the frontend test suites.


\begin{DoxyCode}{0}
\DoxyCodeLine{graph\ TD}
\DoxyCodeLine{\ \ \ \ subgraph\ Frontend\_Tests}
\DoxyCodeLine{\ \ \ \ \ \ \ \ FT[Jest\ Test\ Suites]\ -\/-\/>\ API[API\ Client:\ api.test.ts];}
\DoxyCodeLine{\ \ \ \ \ \ \ \ FT\ -\/-\/>\ Comp[Component\ Tests];}
\DoxyCodeLine{\ \ \ \ \ \ \ \ FT\ -\/-\/>\ Mock[Mock\ Data\ Validation:\ test-\/utils.test.ts];}
\DoxyCodeLine{\ \ \ \ \ \ \ \ FT\ -\/-\/>\ Page[Page\ Integration:\ page.test.tsx];}
\DoxyCodeLine{\ \ \ \ end}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ subgraph\ Components}
\DoxyCodeLine{\ \ \ \ \ \ \ \ Comp\ -\/-\/>\ AL[AssetList.test.tsx];}
\DoxyCodeLine{\ \ \ \ \ \ \ \ Comp\ -\/-\/>\ MD[MetricsDashboard.test.tsx];}
\DoxyCodeLine{\ \ \ \ \ \ \ \ Comp\ -\/-\/>\ NV[NetworkVisualization.test.tsx];}
\DoxyCodeLine{\ \ \ \ end}

\end{DoxyCode}


{\itshape Sources\+: \mbox{[}\doxylink{TESTING__GUIDE_8md}{TESTING\+\_\+\+GUIDE.\+md}\+:61-\/130\mbox{]}(), \mbox{[}\doxylink{COMPREHENSIVE__TEST__SUMMARY_8md}{COMPREHENSIVE\+\_\+\+TEST\+\_\+\+SUMMARY.\+md}\+:20-\/44\mbox{]}()}\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1728}{}\doxysubsection{\texorpdfstring{Documentation and Configuration Testing}{Documentation and Configuration Testing}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1728}
A unique aspect of this project\textquotesingle{}s testing strategy is the validation of non-\/code artifacts like Markdown documentation and configuration files. These tests run within the {\ttfamily pytest} framework and ensure that project metadata and documentation remain accurate and well-\/formatted.

{\itshape Sources\+: \mbox{[}\doxylink{TEST__DOCUMENTATION__SUMMARY_8md}{TEST\+\_\+\+DOCUMENTATION\+\_\+\+SUMMARY.\+md}\mbox{]}(), \mbox{[}\doxylink{unit_2test__documentation__validation_8py}{tests/unit/test\+\_\+documentation\+\_\+validation.\+py}\mbox{]}()}\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1729}{}\doxysubsubsection{\texorpdfstring{Documentation Validation}{Documentation Validation}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1729}
Tests in {\ttfamily \doxylink{unit_2test__documentation__validation_8py}{tests/unit/test\+\_\+documentation\+\_\+validation.\+py}} and {\ttfamily \doxylink{test__workflow__documentation_8py}{tests/integration/test\+\_\+workflow\+\_\+documentation.\+py}} validate {\ttfamily .md} files for\+:


\begin{DoxyItemize}
\item {\bfseries{Structure}}\+: Presence of required titles and sections (e.\+g., {\ttfamily \#\# Overview}).
\item {\bfseries{Formatting}}\+: Correct Markdown syntax, no trailing whitespace, and proper code block closure.
\item {\bfseries{Content Accuracy}}\+: Mentions of key files and technologies (e.\+g., {\ttfamily pytest}, {\ttfamily pr-\/agent.\+yml}).
\item {\bfseries{Consistency}}\+: Cross-\/validation between different documentation files to ensure file counts and other metrics match.
\item {\bfseries{Security}}\+: Checks for hardcoded secrets like Git\+Hub tokens.
\end{DoxyItemize}

The following class diagram outlines the test classes responsible for documentation validation.


\begin{DoxyCode}{0}
\DoxyCodeLine{classDiagram}
\DoxyCodeLine{\ \ \ \ class\ TestDependencyMatrix\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +test\_file\_counts\_match()}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +test\_dependency\_format()}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ class\ TestSystemManifest\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +test\_has\_project\_overview()}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +test\_directory\_structure\_format()}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ class\ TestDocumentationConsistency\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +test\_file\_counts\_match\_between\_documents()}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +test\_timestamps\_are\_recent()}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ class\ TestDocumentationRealisticContent\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +test\_documented\_files\_exist()}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +test\_documented\_dependencies\_are\_real\_packages()}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ class\ TestSecurityAndBestPractices\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ +test\_no\_hardcoded\_secrets()}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ TestDependencyMatrix\ -\/-\/|>\ DocumentationValidation}
\DoxyCodeLine{\ \ \ \ TestSystemManifest\ -\/-\/|>\ DocumentationValidation}
\DoxyCodeLine{\ \ \ \ TestDocumentationConsistency\ -\/-\/|>\ DocumentationValidation}
\DoxyCodeLine{\ \ \ \ TestDocumentationRealisticContent\ -\/-\/|>\ DocumentationValidation}
\DoxyCodeLine{\ \ \ \ TestSecurityAndBestPractices\ -\/-\/|>\ DocumentationValidation}

\end{DoxyCode}


{\itshape Sources\+: \mbox{[}\doxylink{TEST__DOCUMENTATION__SUMMARY_8md}{TEST\+\_\+\+DOCUMENTATION\+\_\+\+SUMMARY.\+md}\+:21-\/65\mbox{]}(), \mbox{[}\doxylink{unit_2test__documentation__validation_8py}{tests/unit/test\+\_\+documentation\+\_\+validation.\+py}\mbox{]}(), \mbox{[}\doxylink{integration_2test__documentation__validation_8py}{tests/integration/test\+\_\+documentation\+\_\+validation.\+py}\+:228-\/244\mbox{]}()}\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1730}{}\doxysubsubsection{\texorpdfstring{Configuration and Dependency Testing}{Configuration and Dependency Testing}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1730}
Tests like {\ttfamily \doxylink{test__config__validation_8py}{tests/unit/test\+\_\+config\+\_\+validation.\+py}} and {\ttfamily \doxylink{test__requirements_8py}{tests/integration/test\+\_\+requirements.\+py}} validate\+:


\begin{DoxyItemize}
\item {\bfseries{JSON/\+YAML Syntax}}\+: Ensures configuration files like {\ttfamily vercel.\+json} and {\ttfamily .github/workflows/pr-\/agent.\+yml} are well-\/formed.
\item {\bfseries{Dependency Integrity}}\+: {\ttfamily requirements.\+txt} and {\ttfamily package.\+json} are checked for required packages, consistent versioning, and security pins.
\end{DoxyItemize}

{\itshape Sources\+: \mbox{[}\doxylink{TESTING__GUIDE_8md}{TESTING\+\_\+\+GUIDE.\+md}\+:40-\/58\mbox{]}(), \mbox{[}\doxylink{TEST__GENERATION__SUMMARY_8md}{TEST\+\_\+\+GENERATION\+\_\+\+SUMMARY.\+md}\+:10-\/31\mbox{]}(), \mbox{[}\doxylink{COMPREHENSIVE__TEST__SUMMARY_8md}{COMPREHENSIVE\+\_\+\+TEST\+\_\+\+SUMMARY.\+md}\+:83-\/85\mbox{]}()}\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1731}{}\doxysubsection{\texorpdfstring{Execution and CI/\+CD}{Execution and CI/\+CD}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1731}
Tests are designed to be run locally by developers and automatically in a CI/\+CD pipeline.

{\itshape Sources\+: \mbox{[}\doxylink{CONTRIBUTING_8md}{CONTRIBUTING.\+md}\+:99-\/111\mbox{]}(), \mbox{[}\doxylink{TESTING__GUIDE_8md}{TESTING\+\_\+\+GUIDE.\+md}\+:132-\/171\mbox{]}()}\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1732}{}\doxysubsubsection{\texorpdfstring{Local Execution}{Local Execution}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1732}
\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{3}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Environment   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Command   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-3}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Environment   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Command   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-3}
\endhead
{\bfseries{Backend}}   &{\ttfamily pytest}   &Runs all Python tests.    \\\cline{1-3}
&{\ttfamily pytest -\/-\/cov=api -\/-\/cov=src}   &Runs tests with a coverage report.    \\\cline{1-3}
{\bfseries{Frontend}}   &{\ttfamily cd frontend \&\& npm test}   &Runs all Type\+Script/\+React tests.    \\\cline{1-3}
&{\ttfamily cd frontend \&\& npm test -\/-\/ -\/-\/coverage}   &Runs frontend tests with coverage.    \\\cline{1-3}
{\bfseries{All Checks}}   &{\ttfamily make check}   &A utility command to run formatting, linting, type-\/checking, and all tests.   \\\cline{1-3}
\end{longtabu}


{\itshape Sources\+: \mbox{[}\doxylink{CONTRIBUTING_8md}{CONTRIBUTING.\+md}\+:104, 133-\/145\mbox{]}(), \mbox{[}\doxylink{TESTING__GUIDE_8md}{TESTING\+\_\+\+GUIDE.\+md}\+:134-\/158\mbox{]}(), \mbox{[}README.\+md\+:185-\/212\mbox{]}()}\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1733}{}\doxysubsubsection{\texorpdfstring{CI/\+CD Integration}{CI/\+CD Integration}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1733}
Tests are integrated into a Git\+Hub Actions workflow ({\ttfamily .github/workflows/ci.\+yml}), which runs on every push and pull request.

This flowchart shows the CI testing pipeline.


\begin{DoxyCode}{0}
\DoxyCodeLine{flowchart\ TD}
\DoxyCodeLine{\ \ \ \ A[Push\ or\ PR]\ -\/-\/>\ B\{CI\ Workflow\};}
\DoxyCodeLine{\ \ \ \ B\ -\/-\/>\ C[Backend\ Job];}
\DoxyCodeLine{\ \ \ \ B\ -\/-\/>\ D[Frontend\ Job];}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ subgraph\ C\ [Backend\ Job]}
\DoxyCodeLine{\ \ \ \ \ \ \ \ C1[Setup\ Python]\ -\/-\/>\ C2[Install\ Dependencies];}
\DoxyCodeLine{\ \ \ \ \ \ \ \ C2\ -\/-\/>\ C3[Lint\ \&\ Format\ Check];}
\DoxyCodeLine{\ \ \ \ \ \ \ \ C3\ -\/-\/>\ C4[Run\ Pytest];}
\DoxyCodeLine{\ \ \ \ end}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ subgraph\ D\ [Frontend\ Job]}
\DoxyCodeLine{\ \ \ \ \ \ \ \ D1[Setup\ Node.js]\ -\/-\/>\ D2[Install\ Dependencies];}
\DoxyCodeLine{\ \ \ \ \ \ \ \ D2\ -\/-\/>\ D3[Run\ Jest\ Tests];}
\DoxyCodeLine{\ \ \ \ end}

\end{DoxyCode}


{\itshape Sources\+: \mbox{[}\doxylink{TESTING__GUIDE_8md}{TESTING\+\_\+\+GUIDE.\+md}\+:239-\/268\mbox{]}(), \mbox{[}\doxylink{AUDIT__REPORT_8md}{AUDIT\+\_\+\+REPORT.\+md}\+:144-\/155\mbox{]}()}\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1734}{}\doxysubsubsection{\texorpdfstring{Pre-\/commit Hooks}{Pre-\/commit Hooks}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1734}
To ensure code quality before commits, the project uses {\ttfamily pre-\/commit} hooks. These hooks automatically run formatters ({\ttfamily black}, {\ttfamily isort}), linters ({\ttfamily flake8}), and type checkers ({\ttfamily mypy}), catching issues early.

{\itshape Sources\+: \mbox{[}\doxylink{CONTRIBUTING_8md}{CONTRIBUTING.\+md}\+:86-\/92\mbox{]}(), \mbox{[}\doxylink{AUDIT__REPORT_8md}{AUDIT\+\_\+\+REPORT.\+md}\+:159-\/168\mbox{]}()}\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1735}{}\doxysubsection{\texorpdfstring{Conclusion}{Conclusion}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1735}
The testing strategy for the Financial Asset Relationship Database is robust and multi-\/faceted. It provides comprehensive coverage for backend logic, frontend components, and critical project artifacts like documentation and configuration. By integrating automated checks into both pre-\/commit hooks and the CI/\+CD pipeline, the strategy enforces high standards of quality and stability, enabling developers to contribute with confidence.

{\itshape Sources\+: \mbox{[}\doxylink{AUDIT__REPORT_8md}{AUDIT\+\_\+\+REPORT.\+md}\+:255-\/265\mbox{]}(), \mbox{[}\doxylink{SUMMARY_8md}{SUMMARY.\+md}\+:167-\/171\mbox{]}()}\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1736}{}\doxysubsubsection{\texorpdfstring{Running Tests}{Running Tests}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1736}


{\bfseries{Relevant source files}}\begin{adjustwidth}{1em}{0em}


The following files were used as context for generating this wiki page\+:


\begin{DoxyItemize}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/pyproject.toml}{\texttt{ pyproject.\+toml}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/conftest.py}{\texttt{ conftest.\+py}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/frontend/jest.config.js}{\texttt{ frontend/jest.\+config.\+js}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/test_scripts.sh}{\texttt{ test\+\_\+scripts.\+sh}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/TESTING_GUIDE.md}{\texttt{ TESTING\+\_\+\+GUIDE.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/CONTRIBUTING.md}{\texttt{ CONTRIBUTING.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/README.md}{\texttt{ README.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/tests/integration/test_documentation_validation.py}{\texttt{ tests/integration/test\+\_\+documentation\+\_\+validation.\+py}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/COMPREHENSIVE_TEST_SUMMARY.md}{\texttt{ COMPREHENSIVE\+\_\+\+TEST\+\_\+\+SUMMARY.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/TEST_DOCUMENTATION_SUMMARY.md}{\texttt{ TEST\+\_\+\+DOCUMENTATION\+\_\+\+SUMMARY.\+md}}
\end{DoxyItemize}\end{adjustwidth}
\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1737}{}\doxysection{\texorpdfstring{Running Tests}{Running Tests}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1737}
The project employs a comprehensive testing strategy that covers both the Python backend and the Next.\+js frontend, ensuring code quality, stability, and correctness. The testing infrastructure is built around industry-\/standard tools\+: {\ttfamily pytest} for the backend and {\ttfamily Jest} with {\ttfamily React Testing Library} for the frontend. With over 140 test cases, the suite validates everything from API endpoints and component rendering to configuration files and documentation integrity.

This guide provides a detailed overview of the testing architecture, command-\/line execution, and the different types of tests available in the repository. For more information on development workflows, see the \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/CONTRIBUTING.md}{\texttt{ CONTRIBUTING.\+md}} guide.

Sources\+: \mbox{[}\doxylink{TESTING__GUIDE_8md}{TESTING\+\_\+\+GUIDE.\+md}\+:5-\/8\mbox{]}(), \mbox{[}\doxylink{CONTRIBUTING_8md}{CONTRIBUTING.\+md}\+:100-\/103\mbox{]}(), \mbox{[}README.\+md\+:144-\/146\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1738}{}\doxysubsection{\texorpdfstring{Test Architecture Overview}{Test Architecture Overview}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1738}
The project maintains two parallel testing stacks, one for the Python backend and one for the Type\+Script/\+React frontend. This separation allows for isolated, framework-\/specific testing while ensuring complete coverage of the application.

The following diagram illustrates the high-\/level testing architecture.


\begin{DoxyCode}{0}
\DoxyCodeLine{graph\ TD}
\DoxyCodeLine{\ \ \ \ subgraph\ Backend\ Testing\ [Python]}
\DoxyCodeLine{\ \ \ \ \ \ \ \ B1[Pytest]\ -\/-\/>\ B2\{Test\ Runner\};}
\DoxyCodeLine{\ \ \ \ \ \ \ \ B3[tests/unit]\ -\/-\/>\ B1;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ B4[tests/integration]\ -\/-\/>\ B1;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ B5[conftest.py]\ -\/-\/>\ B1;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ B6[pyproject.toml]\ -\/-\/\ config\ -\/-\/>\ B1;}
\DoxyCodeLine{\ \ \ \ end}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ subgraph\ Frontend\ Testing\ [TypeScript/React]}
\DoxyCodeLine{\ \ \ \ \ \ \ \ F1[Jest]\ -\/-\/>\ F2\{Test\ Runner\};}
\DoxyCodeLine{\ \ \ \ \ \ \ \ F3[frontend/\_\_tests\_\_]\ -\/-\/>\ F1;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ F4[React\ Testing\ Library]\ -\/-\/>\ F1;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ F5[jest.config.js]\ -\/-\/\ config\ -\/-\/>\ F1;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ F6[package.json]\ -\/-\/\ scripts\ -\/-\/>\ F1;}
\DoxyCodeLine{\ \ \ \ end}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ subgraph\ CI/CD\ [GitHub\ Actions]}
\DoxyCodeLine{\ \ \ \ \ \ \ \ G1[Push/PR]\ -\/-\/>\ G2\{Run\ Tests\};}
\DoxyCodeLine{\ \ \ \ \ \ \ \ G2\ -\/-\/>\ B2;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ G2\ -\/-\/>\ F2;}
\DoxyCodeLine{\ \ \ \ end}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ B2\ -\/-\/>\ B7[Coverage\ Report];}
\DoxyCodeLine{\ \ \ \ F2\ -\/-\/>\ F7[Coverage\ Report];}

\end{DoxyCode}


This diagram shows the separate testing stacks for the backend (Pytest) and frontend (Jest), both of which are executed during the CI/\+CD process.

Sources\+: \mbox{[}\doxylink{TESTING__GUIDE_8md}{TESTING\+\_\+\+GUIDE.\+md}\+:10-\/21\mbox{]}(), \mbox{[}\doxylink{CONTRIBUTING_8md}{CONTRIBUTING.\+md}\+:105-\/112\mbox{]}(), \mbox{[}\doxylink{AUDIT__REPORT_8md}{AUDIT\+\_\+\+REPORT.\+md}\+:104-\/107\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1739}{}\doxysubsection{\texorpdfstring{Backend Testing (Python)}{Backend Testing (Python)}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1739}
The backend test suite uses {\ttfamily pytest} to validate the Fast\+API application, core logic, data models, and configuration files. Tests are organized into {\ttfamily unit} and {\ttfamily integration} directories.

Sources\+: \mbox{[}\doxylink{TESTING__GUIDE_8md}{TESTING\+\_\+\+GUIDE.\+md}\+:23-\/25\mbox{]}(), \mbox{[}\doxylink{CONTRIBUTING_8md}{CONTRIBUTING.\+md}\+:105-\/112\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1740}{}\doxysubsubsection{\texorpdfstring{Structure and Configuration}{Structure and Configuration}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1740}

\begin{DoxyItemize}
\item {\bfseries{Test Runner}}\+: {\ttfamily pytest}
\item {\bfseries{Configuration}}\+: {\ttfamily pyproject.\+toml} defines pytest settings, including test paths and markers.
\item {\bfseries{Fixtures}}\+: Shared test fixtures, such as {\ttfamily sample\+\_\+equity} and {\ttfamily populated\+\_\+graph}, are defined in {\ttfamily \doxylink{tests_2conftest_8py}{tests/conftest.\+py}} to provide reusable data for tests.
\item {\bfseries{Directory Structure}}\+:
\begin{DoxyItemize}
\item {\ttfamily tests/unit/}\+: For isolated tests of individual components, such as API endpoints or data models.
\item {\ttfamily tests/integration/}\+: For tests that verify interactions between multiple components or validate entire files (e.\+g., documentation, requirements).
\end{DoxyItemize}
\end{DoxyItemize}

Sources\+: \mbox{[}\doxylink{CONTRIBUTING_8md}{CONTRIBUTING.\+md}\+:105-\/112\mbox{]}(), \mbox{[}\doxylink{AUDIT__REPORT_8md}{AUDIT\+\_\+\+REPORT.\+md}\+:113-\/122\mbox{]}(), \mbox{[}\doxylink{TEST__DOCUMENTATION__SUMMARY_8md}{TEST\+\_\+\+DOCUMENTATION\+\_\+\+SUMMARY.\+md}\+:11\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1741}{}\doxysubsubsection{\texorpdfstring{Test Coverage}{Test Coverage}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1741}
The backend tests provide extensive coverage, including\+:


\begin{DoxyItemize}
\item API endpoints, query parameters, and filtering.
\item CORS configuration and security validation.
\item Pydantic model validation and error handling.
\item Thread-\/safe graph initialization.
\item Configuration file validation ({\ttfamily vercel.\+json}, {\ttfamily requirements.\+txt}).
\item Documentation file integrity and formatting.
\end{DoxyItemize}

Sources\+: \mbox{[}\doxylink{TESTING__GUIDE_8md}{TESTING\+\_\+\+GUIDE.\+md}\+:31-\/59\mbox{]}(), \mbox{[}\doxylink{TEST__DOCUMENTATION__SUMMARY_8md}{TEST\+\_\+\+DOCUMENTATION\+\_\+\+SUMMARY.\+md}\+:15-\/49\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1742}{}\doxysubsubsection{\texorpdfstring{Running Backend Tests}{Running Backend Tests}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1742}
The following table summarizes the commands used to run backend tests. These can be executed directly or via the {\ttfamily Makefile}.

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{3}{|X[-1]}|}
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Command   }&\cellcolor{\tableheadbgcolor}\textbf{ Description   }&\cellcolor{\tableheadbgcolor}\textbf{ Source    }\\\cline{1-3}
\endfirsthead
\hline
\endfoot
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Command   }&\cellcolor{\tableheadbgcolor}\textbf{ Description   }&\cellcolor{\tableheadbgcolor}\textbf{ Source    }\\\cline{1-3}
\endhead
{\ttfamily pytest}   &Runs all tests in the {\ttfamily tests/} directory.   &\mbox{[}\doxylink{CONTRIBUTING_8md}{CONTRIBUTING.\+md}\+:126\mbox{]}()    \\\cline{1-3}
{\ttfamily pytest -\/v}   &Runs all tests with verbose output.   &\mbox{[}\doxylink{TESTING__GUIDE_8md}{TESTING\+\_\+\+GUIDE.\+md}\+:121\mbox{]}()    \\\cline{1-3}
{\ttfamily pytest -\/-\/cov=api -\/-\/cov=src}   &Runs tests and generates a coverage report.   &\mbox{[}\doxylink{TESTING__GUIDE_8md}{TESTING\+\_\+\+GUIDE.\+md}\+:124\mbox{]}()    \\\cline{1-3}
{\ttfamily pytest -\/m unit}   &Runs only tests marked with the {\ttfamily unit} marker.   &\mbox{[}\doxylink{CONTRIBUTING_8md}{CONTRIBUTING.\+md}\+:132\mbox{]}()    \\\cline{1-3}
{\ttfamily make test}   &Makefile shortcut to run tests with coverage.   &\mbox{[}\doxylink{CONTRIBUTING_8md}{CONTRIBUTING.\+md}\+:87\mbox{]}()    \\\cline{1-3}
{\ttfamily make lint}   &Runs linters like {\ttfamily flake8} and {\ttfamily pylint}.   &\mbox{[}\doxylink{CONTRIBUTING_8md}{CONTRIBUTING.\+md}\+:84\mbox{]}()   \\\cline{1-3}
\end{longtabu}
\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1743}{}\doxysubsection{\texorpdfstring{Frontend Testing (Type\+Script)}{Frontend Testing (Type\+Script)}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1743}
The frontend test suite uses {\ttfamily Jest} and {\ttfamily React Testing Library} to validate React components, the API client, and configuration files.

Sources\+: \mbox{[}\doxylink{TESTING__GUIDE_8md}{TESTING\+\_\+\+GUIDE.\+md}\+:61-\/66\mbox{]}(), \mbox{[}README.\+md\+:157-\/159\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1744}{}\doxysubsubsection{\texorpdfstring{Structure and Configuration}{Structure and Configuration}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1744}

\begin{DoxyItemize}
\item {\bfseries{Test Runner}}\+: {\ttfamily Jest}, configured via {\ttfamily frontend/jest.\+config.\+js}.
\item {\bfseries{Utilities}}\+: {\ttfamily React Testing Library} is used for rendering components and simulating user interactions.
\item {\bfseries{Setup}}\+: {\ttfamily frontend/jest.\+setup.\+js} configures the test environment, including mocks for browser APIs like {\ttfamily window.\+match\+Media}.
\item {\bfseries{Test Location}}\+: All test files are located within the {\ttfamily frontend/\+\_\+\+\_\+tests\+\_\+\+\_\+} directory, mirroring the structure of the {\ttfamily app} directory.
\end{DoxyItemize}

Sources\+: \mbox{[}\doxylink{TESTING__GUIDE_8md}{TESTING\+\_\+\+GUIDE.\+md}\+:61-\/66\mbox{]}(), \mbox{[}\doxylink{TEST__SUMMARY_8md}{TEST\+\_\+\+SUMMARY.\+md}\+:88-\/96\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1745}{}\doxysubsubsection{\texorpdfstring{Test Coverage}{Test Coverage}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1745}
Frontend tests validate\+:


\begin{DoxyItemize}
\item The API client library ({\ttfamily app/lib/api.\+ts}), including all endpoint functions and error handling.
\item React components, covering rendering, data loading, user interactions (filtering), and empty/error states.
\item The main application page, including tab switching and component integration.
\item Configuration files like {\ttfamily package.\+json} and {\ttfamily package-\/lock.\+json} for dependency integrity.
\end{DoxyItemize}

Sources\+: \mbox{[}\doxylink{TESTING__GUIDE_8md}{TESTING\+\_\+\+GUIDE.\+md}\+:68-\/117\mbox{]}(), \mbox{[}\doxylink{TEST__GENERATION__REPORT_8md}{TEST\+\_\+\+GENERATION\+\_\+\+REPORT.\+md}\+:21-\/46\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1746}{}\doxysubsubsection{\texorpdfstring{Running Frontend Tests}{Running Frontend Tests}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1746}
The following commands are run from the {\ttfamily frontend/} directory.

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{3}{|X[-1]}|}
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Command   }&\cellcolor{\tableheadbgcolor}\textbf{ Description   }&\cellcolor{\tableheadbgcolor}\textbf{ Source    }\\\cline{1-3}
\endfirsthead
\hline
\endfoot
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Command   }&\cellcolor{\tableheadbgcolor}\textbf{ Description   }&\cellcolor{\tableheadbgcolor}\textbf{ Source    }\\\cline{1-3}
\endhead
{\ttfamily npm test}   &Runs all frontend tests.   &\mbox{[}\doxylink{TESTING__GUIDE_8md}{TESTING\+\_\+\+GUIDE.\+md}\+:133\mbox{]}()    \\\cline{1-3}
{\ttfamily npm run test\+:watch}   &Runs tests in interactive watch mode.   &\mbox{[}\doxylink{TESTING__GUIDE_8md}{TESTING\+\_\+\+GUIDE.\+md}\+:136\mbox{]}()    \\\cline{1-3}
{\ttfamily npm run test\+:coverage}   &Runs tests and generates a coverage report.   &\mbox{[}\doxylink{TESTING__GUIDE_8md}{TESTING\+\_\+\+GUIDE.\+md}\+:139\mbox{]}()    \\\cline{1-3}
{\ttfamily npm test -\/-\/ Asset\+List.\+test.\+tsx}   &Runs tests for a specific file.   &\mbox{[}\doxylink{TESTING__GUIDE_8md}{TESTING\+\_\+\+GUIDE.\+md}\+:94\mbox{]}()   \\\cline{1-3}
\end{longtabu}
\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1747}{}\doxysubsection{\texorpdfstring{Specialized Test Suites}{Specialized Test Suites}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1747}
Beyond typical unit and integration tests, the project includes specialized suites to ensure the quality of documentation and configuration.

Sources\+: \mbox{[}\doxylink{COMPREHENSIVE__TEST__SUMMARY_8md}{COMPREHENSIVE\+\_\+\+TEST\+\_\+\+SUMMARY.\+md}\+:92-\/109\mbox{]}(), \mbox{[}\doxylink{TEST__DOCUMENTATION__SUMMARY_8md}{TEST\+\_\+\+DOCUMENTATION\+\_\+\+SUMMARY.\+md}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1748}{}\doxysubsubsection{\texorpdfstring{Documentation Validation}{Documentation Validation}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1748}
A unique feature of this project\textquotesingle{}s test suite is the validation of Markdown documentation files. These tests ensure that documentation remains accurate, well-\/formatted, and maintainable.

The following diagram shows the validation flow for a documentation file.


\begin{DoxyCode}{0}
\DoxyCodeLine{flowchart\ TD}
\DoxyCodeLine{\ \ \ \ A[pytest\ runs\ test\_documentation\_validation.py]\ -\/-\/>\ B\{Load\ .md\ File\};}
\DoxyCodeLine{\ \ \ \ B\ -\/-\/>\ C[Check\ Existence\ \&\ Readability];}
\DoxyCodeLine{\ \ \ \ B\ -\/-\/>\ D[Validate\ Structure];}
\DoxyCodeLine{\ \ \ \ D\ -\/-\/>\ D1[Has\ H1\ Title];}
\DoxyCodeLine{\ \ \ \ D\ -\/-\/>\ D2[Has\ Required\ Sections];}
\DoxyCodeLine{\ \ \ \ B\ -\/-\/>\ E[Validate\ Formatting];}
\DoxyCodeLine{\ \ \ \ E\ -\/-\/>\ E1[No\ Trailing\ Whitespace];}
\DoxyCodeLine{\ \ \ \ E\ -\/-\/>\ E2[Code\ Blocks\ Closed];}
\DoxyCodeLine{\ \ \ \ B\ -\/-\/>\ F[Validate\ Content];}
\DoxyCodeLine{\ \ \ \ F\ -\/-\/>\ F1[Mentions\ Key\ Files];}
\DoxyCodeLine{\ \ \ \ F\ -\/-\/>\ F2[No\ Hardcoded\ Secrets];}
\DoxyCodeLine{\ \ \ \ C\ \&\ D\ \&\ E\ \&\ F\ -\/-\/>\ G[Test\ Passed/Failed];}

\end{DoxyCode}


These tests are located in files like {\ttfamily \doxylink{integration_2test__documentation__validation_8py}{tests/integration/test\+\_\+documentation\+\_\+validation.\+py}} and {\ttfamily \doxylink{unit_2test__documentation__validation_8py}{tests/unit/test\+\_\+documentation\+\_\+validation.\+py}}. They check for\+:


\begin{DoxyItemize}
\item Correct Markdown syntax and heading structure.
\item Presence of required sections like "{}\+Overview"{}.
\item Absence of hardcoded secrets.
\item Consistency of information between different documentation files.
\end{DoxyItemize}

Sources\+: \mbox{[}\doxylink{integration_2test__documentation__validation_8py}{tests/integration/test\+\_\+documentation\+\_\+validation.\+py}\mbox{]}(), \mbox{[}\doxylink{TEST__DOCUMENTATION__SUMMARY_8md}{TEST\+\_\+\+DOCUMENTATION\+\_\+\+SUMMARY.\+md}\+:15-\/49\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1749}{}\doxysubsubsection{\texorpdfstring{Configuration File Validation}{Configuration File Validation}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1749}
Tests are in place to validate various configuration files, preventing common errors related to dependencies and deployment settings.


\begin{DoxyItemize}
\item {\bfseries{{\ttfamily requirements.\+txt} / {\ttfamily requirements-\/dev.\+txt}}}\+: Tests ensure required packages are present, versions are correctly specified, and security pins are in place.
\item {\bfseries{{\ttfamily package.\+json} / {\ttfamily package-\/lock.\+json}}}\+: Tests validate dependency versions, script availability, and integrity between the two files.
\item {\bfseries{{\ttfamily vercel.\+json} / {\ttfamily tsconfig.\+json}}}\+: Deployment and Type\+Script compiler settings are validated for correctness.
\end{DoxyItemize}

Sources\+: \mbox{[}\doxylink{TEST__GENERATION__SUMMARY_8md}{TEST\+\_\+\+GENERATION\+\_\+\+SUMMARY.\+md}\+:14-\/35\mbox{]}(), \mbox{[}\doxylink{TESTING__GUIDE_8md}{TESTING\+\_\+\+GUIDE.\+md}\+:47-\/59\mbox{]}(), \mbox{[}\doxylink{TEST__GENERATION__REPORT_8md}{TEST\+\_\+\+GENERATION\+\_\+\+REPORT.\+md}\+:21-\/72\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1750}{}\doxysubsection{\texorpdfstring{CI/\+CD Integration}{CI/\+CD Integration}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1750}
All tests are designed to run automatically in the CI/\+CD pipeline using Git\+Hub Actions. The workflow is configured to execute both backend and frontend test suites on every push and pull request, ensuring that no failing tests are merged into the main branch.

The CI pipeline performs the following steps\+:


\begin{DoxyEnumerate}
\item Checks out the code.
\item Sets up Python and Node.\+js environments.
\item Installs backend and frontend dependencies.
\item Runs the respective test suites, often with coverage reporting.
\end{DoxyEnumerate}

Sources\+: \mbox{[}\doxylink{TESTING__GUIDE_8md}{TESTING\+\_\+\+GUIDE.\+md}\+:169-\/194\mbox{]}(), \mbox{[}\doxylink{AUDIT__REPORT_8md}{AUDIT\+\_\+\+REPORT.\+md}\+:138-\/148\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1751}{}\doxysubsubsection{\texorpdfstring{CI/\+CD Workflows}{CI/\+CD Workflows}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1751}


{\bfseries{Relevant source files}}\begin{adjustwidth}{1em}{0em}
The following files were used as context for generating this wiki page\+:


\begin{DoxyItemize}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/tests/integration/test_github_workflows.py}{\texttt{ tests/integration/test\+\_\+github\+\_\+workflows.\+py}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/AUDIT_REPORT.md}{\texttt{ AUDIT\+\_\+\+REPORT.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/SUMMARY.md}{\texttt{ SUMMARY.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/CHANGELOG.md}{\texttt{ CHANGELOG.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/CONTRIBUTING.md}{\texttt{ CONTRIBUTING.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/BRANCH_CLEANUP_SUMMARY.md}{\texttt{ BRANCH\+\_\+\+CLEANUP\+\_\+\+SUMMARY.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/README.md}{\texttt{ README.\+md}}
\item COMPREHENSIVE\+\_\+\+TEST\+\_\+\+SUMMARY.md
\end{DoxyItemize}

\end{adjustwidth}
\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1752}{}\doxysection{\texorpdfstring{CI/\+CD Workflows}{CI/\+CD Workflows}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1752}
The project employs a streamlined and robust set of CI/\+CD workflows managed through Git\+Hub Actions. The system was significantly refactored to remove 23 irrelevant workflow files for technologies not used in the project (like .NET, Docker, and Node.\+js), consolidating the pipeline into a few focused, Python-\/centric workflows. This cleanup reduced CI/\+CD resource usage and improved maintainability. The core of the CI strategy is a consolidated pipeline ({\ttfamily ci.\+yml}) for testing and quality checks, supplemented by automated PR management ({\ttfamily pr-\/agent.\+yml}), security scanning, and branch maintenance.

A key feature of this repository is that the workflows themselves are subject to comprehensive integration testing using {\ttfamily pytest}. These tests validate YAML syntax, structure, security best practices, and action configurations, ensuring the CI/\+CD infrastructure remains reliable and secure. This approach prevents common workflow errors like duplicate keys or invalid syntax from being merged.

Sources\+: \mbox{[}\doxylink{AUDIT__REPORT_8md}{AUDIT\+\_\+\+REPORT.\+md}\+:40-\/47, 102-\/113\mbox{]}(), \mbox{[}\doxylink{SUMMARY_8md}{SUMMARY.\+md}\+:12-\/20\mbox{]}(), \mbox{[}\doxylink{test__github__workflows_8py}{tests/integration/test\+\_\+github\+\_\+workflows.\+py}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1753}{}\doxysubsection{\texorpdfstring{Workflow Architecture}{Workflow Architecture}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1753}
The project utilizes several Git\+Hub Actions workflows, each triggered by different events, to automate testing, security scanning, PR management, and repository maintenance. The main workflows are {\ttfamily ci.\+yml}, {\ttfamily pr-\/agent.\+yml}, {\ttfamily codeql.\+yml}, {\ttfamily dependency-\/review.\+yml}, and {\ttfamily branch-\/cleanup.\+yml}.

This diagram illustrates the high-\/level architecture of the Git\+Hub Actions workflows, their triggers, and their primary functions.


\begin{DoxyCode}{0}
\DoxyCodeLine{graph\ TD}
\DoxyCodeLine{\ \ \ \ subgraph\ Triggers}
\DoxyCodeLine{\ \ \ \ \ \ \ \ A[Push\ to\ main]}
\DoxyCodeLine{\ \ \ \ \ \ \ \ B[Pull\ Request]}
\DoxyCodeLine{\ \ \ \ \ \ \ \ C[PR\ Comment\ /\ Review]}
\DoxyCodeLine{\ \ \ \ \ \ \ \ D[Weekly\ Schedule]}
\DoxyCodeLine{\ \ \ \ end}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ subgraph\ Workflows}
\DoxyCodeLine{\ \ \ \ \ \ \ \ W1[ci.yml]}
\DoxyCodeLine{\ \ \ \ \ \ \ \ W2[pr-\/agent.yml]}
\DoxyCodeLine{\ \ \ \ \ \ \ \ W3[codeql.yml]}
\DoxyCodeLine{\ \ \ \ \ \ \ \ W4[dependency-\/review.yml]}
\DoxyCodeLine{\ \ \ \ \ \ \ \ W5[branch-\/cleanup.yml]}
\DoxyCodeLine{\ \ \ \ end}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ subgraph\ Actions}
\DoxyCodeLine{\ \ \ \ \ \ \ \ J1[Run\ Tests\ \&\ Quality\ Checks]}
\DoxyCodeLine{\ \ \ \ \ \ \ \ J2[Automated\ PR\ Review\ \&\ Merge]}
\DoxyCodeLine{\ \ \ \ \ \ \ \ J3[Static\ Code\ Analysis\ (Security)]}
\DoxyCodeLine{\ \ \ \ \ \ \ \ J4[Dependency\ Vulnerability\ Scan]}
\DoxyCodeLine{\ \ \ \ \ \ \ \ J5[Identify\ Stale\ Branches]}
\DoxyCodeLine{\ \ \ \ end}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ A\ -\/-\/>\ W1}
\DoxyCodeLine{\ \ \ \ B\ -\/-\/>\ W1}
\DoxyCodeLine{\ \ \ \ B\ -\/-\/>\ W4}
\DoxyCodeLine{\ \ \ \ C\ -\/-\/>\ W2}
\DoxyCodeLine{\ \ \ \ D\ -\/-\/>\ W3}
\DoxyCodeLine{\ \ \ \ D\ -\/-\/>\ W5}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ W1\ -\/-\/>\ J1}
\DoxyCodeLine{\ \ \ \ W2\ -\/-\/>\ J2}
\DoxyCodeLine{\ \ \ \ W3\ -\/-\/>\ J3}
\DoxyCodeLine{\ \ \ \ W4\ -\/-\/>\ J4}
\DoxyCodeLine{\ \ \ \ W5\ -\/-\/>\ J5}

\end{DoxyCode}


Sources\+: \mbox{[}\doxylink{SUMMARY_8md}{SUMMARY.\+md}\+:104-\/109\mbox{]}(), \mbox{[}\doxylink{AUDIT__REPORT_8md}{AUDIT\+\_\+\+REPORT.\+md}\+:109-\/113\mbox{]}(), \mbox{[}\doxylink{BRANCH__CLEANUP__SUMMARY_8md}{BRANCH\+\_\+\+CLEANUP\+\_\+\+SUMMARY.\+md}\+:21-\/28\mbox{]}(), \mbox{[}\doxylink{test__github__workflows_8py}{tests/integration/test\+\_\+github\+\_\+workflows.\+py}\+:215-\/220\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1754}{}\doxysubsection{\texorpdfstring{Consolidated CI Pipeline ({\ttfamily ci.\+yml})}{Consolidated CI Pipeline ({\ttfamily ci.\+yml})}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1754}
Sources\+: \mbox{[}\doxylink{SUMMARY_8md}{SUMMARY.\+md}\+:104-\/119\mbox{]}(), \mbox{[}\doxylink{AUDIT__REPORT_8md}{AUDIT\+\_\+\+REPORT.\+md}\+:102-\/113\mbox{]}()

The {\ttfamily ci.\+yml} workflow is the primary CI/\+CD pipeline, responsible for running a suite of quality and security checks on every push and pull request to the {\ttfamily main} branch. It replaced several redundant Python-\/specific workflows like {\ttfamily python-\/app.\+yml} and {\ttfamily pylint.\+yml}. The pipeline is structured into two main jobs\+: {\ttfamily test} and {\ttfamily security}.

The flow diagram below shows the sequence of jobs and steps within the {\ttfamily ci.\+yml} pipeline.


\begin{DoxyCode}{0}
\DoxyCodeLine{flowchart\ TD}
\DoxyCodeLine{\ \ \ \ Start[Trigger:\ Push/PR]\ -\/-\/>\ TestJob\{Test\ Job\};}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ subgraph\ TestJob\ [Python\ Matrix:\ 3.8,\ 3.9,\ 3.10,\ 3.11,\ 3.12]}
\DoxyCodeLine{\ \ \ \ \ \ \ \ direction\ LR}
\DoxyCodeLine{\ \ \ \ \ \ \ \ T1[Install\ Deps]\ -\/-\/>\ T2[Lint]\ -\/-\/>\ T3[Format\ Check]\ -\/-\/>\ T4[Type\ Check]\ -\/-\/>\ T5[Run\ Pytest]}
\DoxyCodeLine{\ \ \ \ end}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ TestJob\ -\/-\/>\ SecurityJob\{Security\ Job\};}
\DoxyCodeLine{\ \ \ \ subgraph\ SecurityJob}
\DoxyCodeLine{\ \ \ \ \ \ \ \ direction\ LR}
\DoxyCodeLine{\ \ \ \ \ \ \ \ S1[Scan\ with\ bandit]\ -\/-\/>\ S2[Scan\ with\ safety]}
\DoxyCodeLine{\ \ \ \ end}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ SecurityJob\ -\/-\/>\ Finish[End]}

\end{DoxyCode}


Sources\+: \mbox{[}\doxylink{SUMMARY_8md}{SUMMARY.\+md}\+:107-\/119\mbox{]}(), \mbox{[}\doxylink{AUDIT__REPORT_8md}{AUDIT\+\_\+\+REPORT.\+md}\+:105-\/108\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1755}{}\doxysubsubsection{\texorpdfstring{Test Job}{Test Job}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1755}
The {\ttfamily test} job runs in a matrix across multiple Python versions to ensure compatibility. It performs a sequence of checks, and a failure in any step will fail the job.

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{1}{|X[-1]}|}
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Python Versions Tested    }\\\cline{1-1}
\endfirsthead
\hline
\endfoot
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Python Versions Tested    }\\\cline{1-1}
\endhead
3.\+8    \\\cline{1-1}
3.\+9    \\\cline{1-1}
3.\+10    \\\cline{1-1}
3.\+11    \\\cline{1-1}
3.\+12   \\\cline{1-1}
\end{longtabu}


Sources\+: \mbox{[}\doxylink{SUMMARY_8md}{SUMMARY.\+md}\+:108-\/109\mbox{]}()

The steps executed in the {\ttfamily test} job are\+:


\begin{DoxyEnumerate}
\item {\bfseries{Install Dependencies}}\+: Installs production and development dependencies from {\ttfamily requirements.\+txt} and {\ttfamily requirements-\/dev.\+txt}, using a cache to speed up builds.
\item {\bfseries{Lint}}\+: Runs {\ttfamily flake8} and {\ttfamily pylint} to check for code style and errors.
\item {\bfseries{Format Check}}\+: Runs {\ttfamily black} and {\ttfamily isort} to ensure code is formatted correctly.
\item {\bfseries{Type Check}}\+: Runs {\ttfamily mypy} for static type checking.
\item {\bfseries{Test}}\+: Executes the {\ttfamily pytest} suite with coverage reporting. Coverage reports are uploaded as artifacts.
\end{DoxyEnumerate}

Sources\+: \mbox{[}\doxylink{SUMMARY_8md}{SUMMARY.\+md}\+:109-\/112\mbox{]}(), \mbox{[}\doxylink{CONTRIBUTING_8md}{CONTRIBUTING.\+md}\+:79-\/92\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1756}{}\doxysubsubsection{\texorpdfstring{Security Job}{Security Job}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1756}
The {\ttfamily security} job runs after the {\ttfamily test} job completes successfully. It uses two tools to scan for potential security vulnerabilities\+:


\begin{DoxyItemize}
\item {\bfseries{{\ttfamily safety}}}\+: Checks for known vulnerabilities in installed Python dependencies.
\item {\bfseries{{\ttfamily bandit}}}\+: Performs static security analysis on the Python codebase to find common security issues.
\end{DoxyItemize}

Sources\+: \mbox{[}\doxylink{SUMMARY_8md}{SUMMARY.\+md}\+:115-\/118\mbox{]}(), \mbox{[}\doxylink{AUDIT__REPORT_8md}{AUDIT\+\_\+\+REPORT.\+md}\+:108\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1757}{}\doxysubsection{\texorpdfstring{PR Agent Workflow ({\ttfamily pr-\/agent.\+yml})}{PR Agent Workflow ({\ttfamily pr-\/agent.\+yml})}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1757}
Sources\+: \mbox{[}\doxylink{test__github__workflows_8py}{tests/integration/test\+\_\+github\+\_\+workflows.\+py}\+:207-\/404\mbox{]}()

The {\ttfamily pr-\/agent.\+yml} workflow automates pull request reviews, comments, and merging based on specific triggers like PR review comments. It is designed to respond to commands like {\ttfamily @copilot} in comments. The workflow is composed of three distinct jobs.\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1758}{}\doxysubsubsection{\texorpdfstring{Jobs}{Jobs}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1758}
\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{2}{|X[-1]}|}
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Job Name   }&\cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-2}
\endfirsthead
\hline
\endfoot
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Job Name   }&\cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-2}
\endhead
{\ttfamily pr-\/agent-\/trigger}   &The main job that runs on PR comments or reviews. It lints, tests, and posts results back to the PR.    \\\cline{1-2}
{\ttfamily auto-\/merge-\/check}   &Checks if a PR can be auto-\/merged based on approval status and successful checks.    \\\cline{1-2}
{\ttfamily dependency-\/update}   &Auto-\/approves and merges dependency updates from trusted bots like Dependabot and Renovate.   \\\cline{1-2}
\end{longtabu}


Sources\+: \mbox{[}\doxylink{test__github__workflows_8py}{tests/integration/test\+\_\+github\+\_\+workflows.\+py}\+:414-\/424\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1759}{}\doxysubsubsection{\texorpdfstring{Trigger and Logic Flow}{Trigger and Logic Flow}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1759}
The workflow uses conditional logic ({\ttfamily if}) to execute jobs based on the event context.

This diagram shows the conditional logic for the {\ttfamily pr-\/agent.\+yml} jobs.


\begin{DoxyCode}{0}
\DoxyCodeLine{flowchart\ TD}
\DoxyCodeLine{\ \ \ \ subgraph\ Triggers}
\DoxyCodeLine{\ \ \ \ \ \ \ \ T1[PR\ Comment\ with\ '@copilot']}
\DoxyCodeLine{\ \ \ \ \ \ \ \ T2[PR\ Review\ 'CHANGES\_REQUESTED']}
\DoxyCodeLine{\ \ \ \ \ \ \ \ T3[PR\ Sync\ with\ 'approved'\ review]}
\DoxyCodeLine{\ \ \ \ \ \ \ \ T4[PR\ from\ Dependabot/Renovate]}
\DoxyCodeLine{\ \ \ \ end}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ subgraph\ Jobs}
\DoxyCodeLine{\ \ \ \ \ \ \ \ J1[pr-\/agent-\/trigger]}
\DoxyCodeLine{\ \ \ \ \ \ \ \ J2[auto-\/merge-\/check]}
\DoxyCodeLine{\ \ \ \ \ \ \ \ J3[dependency-\/update]}
\DoxyCodeLine{\ \ \ \ end}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ T1\ -\/-\/>\ J1}
\DoxyCodeLine{\ \ \ \ T2\ -\/-\/>\ J1}
\DoxyCodeLine{\ \ \ \ T3\ -\/-\/>\ J2}
\DoxyCodeLine{\ \ \ \ T4\ -\/-\/>\ J3}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ J1\ -\/-\/>\ J1\_S1[Setup\ Env]\ -\/-\/>\ J1\_S2[Install\ Deps]\ -\/-\/>\ J1\_S3[Lint\ \&\ Test]\ -\/-\/>\ J1\_S4[Post\ Comment\ to\ PR]}

\end{DoxyCode}


Sources\+: \mbox{[}\doxylink{test__github__workflows_8py}{tests/integration/test\+\_\+github\+\_\+workflows.\+py}\+:440-\/447, 532-\/542, 550-\/556\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1760}{}\doxysubsubsection{\texorpdfstring{Permissions}{Permissions}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1760}
The workflow requests specific, limited permissions to follow the principle of least privilege.


\begin{DoxyItemize}
\item {\bfseries{Top-\/\+Level}}\+: {\ttfamily contents\+: read}
\item {\bfseries{{\ttfamily pr-\/agent-\/trigger}}}\+: {\ttfamily issues\+: write} (to comment on PRs)
\item {\bfseries{{\ttfamily auto-\/merge-\/check}}}\+: {\ttfamily issues\+: write}, {\ttfamily pull-\/requests\+: write} (to merge)
\item {\bfseries{{\ttfamily dependency-\/update}}}\+: {\ttfamily pull-\/requests\+: write} (to approve and merge)
\end{DoxyItemize}

Sources\+: \mbox{[}tests/integration/test\+\_\+githubworkflows.\+py\+:426-\/439\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1761}{}\doxysubsection{\texorpdfstring{Branch Management Workflow ({\ttfamily branch-\/cleanup.\+yml})}{Branch Management Workflow ({\ttfamily branch-\/cleanup.\+yml})}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1761}
Sources\+: \mbox{[}\doxylink{BRANCH__CLEANUP__SUMMARY_8md}{BRANCH\+\_\+\+CLEANUP\+\_\+\+SUMMARY.\+md}\+:21-\/28\mbox{]}()

To maintain repository hygiene, the {\ttfamily branch-\/cleanup.\+yml} workflow runs automatically on a weekly schedule. Its purpose is to identify and report on stale branches that have not been updated recently.

{\bfseries{Key Features\+:}}


\begin{DoxyItemize}
\item {\bfseries{Schedule}}\+: Runs weekly to detect stale branches.
\item {\bfseries{Manual Trigger}}\+: Can be run on-\/demand from the Git\+Hub Actions UI.
\item {\bfseries{Reporting}}\+: Generates a report of stale branches in the workflow run summary.
\end{DoxyItemize}

This automation helps prevent the accumulation of unnecessary branches, as detailed in the "{}"{} "{}\+Branch Cleanup Analysis"{}.

Sources\+: \mbox{[}\doxylink{BRANCH__CLEANUP__SUMMARY_8md}{BRANCH\+\_\+\+CLEANUP\+\_\+\+SUMMARY.\+md}\+:21-\/28\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1762}{}\doxysubsection{\texorpdfstring{Security Workflows}{Security Workflows}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1762}
The repository uses standard, Git\+Hub-\/provided security workflows to proactively identify vulnerabilities.

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{2}{|X[-1]}|}
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Workflow File   }&\cellcolor{\tableheadbgcolor}\textbf{ Purpose    }\\\cline{1-2}
\endfirsthead
\hline
\endfoot
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Workflow File   }&\cellcolor{\tableheadbgcolor}\textbf{ Purpose    }\\\cline{1-2}
\endhead
{\ttfamily codeql.\+yml}   &Performs deep static code analysis to find security vulnerabilities.    \\\cline{1-2}
{\ttfamily dependency-\/review.\+yml}   &Scans for vulnerabilities in dependencies added or changed in a PR.   \\\cline{1-2}
\end{longtabu}


Sources\+: \mbox{[}\doxylink{SUMMARY_8md}{SUMMARY.\+md}\+:104-\/109\mbox{]}(), \mbox{[}\doxylink{AUDIT__REPORT_8md}{AUDIT\+\_\+\+REPORT.\+md}\+:109-\/113\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1763}{}\doxysubsection{\texorpdfstring{Workflow Validation Testing}{Workflow Validation Testing}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1763}
A unique aspect of this project is its comprehensive integration test suite for the Git\+Hub Actions workflows themselves, located in {\ttfamily \doxylink{test__github__workflows_8py}{tests/integration/test\+\_\+github\+\_\+workflows.\+py}}. These tests use {\ttfamily pytest} to parse the workflow YAML files and validate them against a series of rules, ensuring their correctness and security before they are even run by Git\+Hub Actions.

This diagram shows the structure of the workflow test suite.


\begin{DoxyCode}{0}
\DoxyCodeLine{graph\ TD}
\DoxyCodeLine{\ \ \ \ subgraph\ Pytest\ Suite}
\DoxyCodeLine{\ \ \ \ \ \ \ \ A[test\_github\_workflows.py]}
\DoxyCodeLine{\ \ \ \ end}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ subgraph\ Test\ Classes}
\DoxyCodeLine{\ \ \ \ \ \ \ \ C1[TestWorkflowSyntax]}
\DoxyCodeLine{\ \ \ \ \ \ \ \ C2[TestWorkflowStructure]}
\DoxyCodeLine{\ \ \ \ \ \ \ \ C3[TestWorkflowActions]}
\DoxyCodeLine{\ \ \ \ \ \ \ \ C4[TestPrAgentWorkflow]}
\DoxyCodeLine{\ \ \ \ \ \ \ \ C5[TestWorkflowSecurity]}
\DoxyCodeLine{\ \ \ \ \ \ \ \ C6[TestWorkflowMaintainability]}
\DoxyCodeLine{\ \ \ \ \ \ \ \ C7[TestWorkflowEdgeCases]}
\DoxyCodeLine{\ \ \ \ end}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ A\ -\/-\/>\ C1}
\DoxyCodeLine{\ \ \ \ A\ -\/-\/>\ C2}
\DoxyCodeLine{\ \ \ \ A\ -\/-\/>\ C3}
\DoxyCodeLine{\ \ \ \ A\ -\/-\/>\ C4}
\DoxyCodeLine{\ \ \ \ A\ -\/-\/>\ C5}
\DoxyCodeLine{\ \ \ \ A\ -\/-\/>\ C6}
\DoxyCodeLine{\ \ \ \ A\ -\/-\/>\ C7}

\end{DoxyCode}


Sources\+: \mbox{[}\doxylink{test__github__workflows_8py}{tests/integration/test\+\_\+github\+\_\+workflows.\+py}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1764}{}\doxysubsubsection{\texorpdfstring{Test Coverage}{Test Coverage}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1764}
The test suite is organized into multiple classes, each targeting a specific aspect of workflow validation.

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{2}{|X[-1]}|}
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Test Class   }&\cellcolor{\tableheadbgcolor}\textbf{ Validation Checks    }\\\cline{1-2}
\endfirsthead
\hline
\endfoot
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Test Class   }&\cellcolor{\tableheadbgcolor}\textbf{ Validation Checks    }\\\cline{1-2}
\endhead
{\ttfamily Test\+Workflow\+Syntax}   &Valid YAML syntax, no duplicate keys, file is readable.    \\\cline{1-2}
{\ttfamily Test\+Workflow\+Structure}   &Presence of {\ttfamily name}, {\ttfamily on}, and {\ttfamily jobs} fields. Ensures jobs have steps.    \\\cline{1-2}
{\ttfamily Test\+Workflow\+Actions}   &Actions use version tags (e.\+g., {\ttfamily @v2}), steps have {\ttfamily name} or {\ttfamily uses}.    \\\cline{1-2}
{\ttfamily Test\+Pr\+Agent\+Workflow}   &Specific checks for {\ttfamily pr-\/agent.\+yml}, including triggers, job structure, and step configurations.    \\\cline{1-2}
{\ttfamily Test\+Workflow\+Security}   &No hardcoded secrets, sensitive data uses the {\ttfamily secrets} context.    \\\cline{1-2}
{\ttfamily Test\+Workflow\+Maintainability}   &Steps have descriptive names, file size is reasonable.    \\\cline{1-2}
{\ttfamily Test\+Workflow\+Edge\+Cases}   &Correct file extensions ({\ttfamily .yml}/{\ttfamily .yaml}), UTF-\/8 encoding, no tabs for indentation.    \\\cline{1-2}
{\ttfamily Test\+Workflow\+Performance}   &Recommends use of caching to improve performance.    \\\cline{1-2}
{\ttfamily Test\+Workflow\+Advanced\+Security}   &Checks for potential environment variable injection and secrets being logged.    \\\cline{1-2}
{\ttfamily Test\+Workflow\+Job\+Configuration}   &Jobs specify a standard runner ({\ttfamily runs-\/on}).   \\\cline{1-2}
\end{longtabu}


Sources\+: \mbox{[}\doxylink{test__github__workflows_8py}{tests/integration/test\+\_\+github\+\_\+workflows.\+py}\+:79, 134, 183, 207, 313, 357, 386, 406, 611, 706\mbox{]}(), \mbox{[}\doxylink{COMPREHENSIVE__TEST__SUMMARY_8md}{COMPREHENSIVE\+\_\+\+TEST\+\_\+\+SUMMARY.\+md}\+:120-\/129\mbox{]}()

This proactive testing of the CI/\+CD configuration itself is a critical practice that enhances the stability and security of the entire development lifecycle.\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1765}{}\doxysubsection{\texorpdfstring{Conclusion}{Conclusion}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1765}
The CI/\+CD system for this project is a modern, consolidated, and robust implementation. By removing legacy clutter and focusing on a single, well-\/tested pipeline, the project benefits from faster, more reliable, and more secure automated checks. The inclusion of automated PR management, branch cleanup, and comprehensive self-\/testing of the workflows demonstrates a mature approach to Dev\+Ops, ensuring high-\/quality code and a clean, maintainable repository.

Sources\+: \mbox{[}\doxylink{AUDIT__REPORT_8md}{AUDIT\+\_\+\+REPORT.\+md}\+:231-\/239\mbox{]}(), \mbox{[}\doxylink{SUMMARY_8md}{SUMMARY.\+md}\+:144-\/148\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1766}{}\doxysubsubsection{\texorpdfstring{Developer Scripts and Tooling}{Developer Scripts and Tooling}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1766}


{\bfseries{Relevant source files}}\begin{adjustwidth}{1em}{0em}


The following files were used as context for generating this wiki page\+:


\begin{DoxyItemize}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/SUMMARY.md}{\texttt{ SUMMARY.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/CONTRIBUTING.md}{\texttt{ CONTRIBUTING.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/BRANCH_CLEANUP_SUMMARY.md}{\texttt{ BRANCH\+\_\+\+CLEANUP\+\_\+\+SUMMARY.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/BRANCH_CLEANUP_ANALYSIS.md}{\texttt{ BRANCH\+\_\+\+CLEANUP\+\_\+\+ANALYSIS.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/BRANCH_CLEANUP_QUICK_REFERENCE.md}{\texttt{ BRANCH\+\_\+\+CLEANUP\+\_\+\+QUICK\+\_\+\+REFERENCE.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/AUDIT_REPORT.md}{\texttt{ AUDIT\+\_\+\+REPORT.\+md}}
\item \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/TESTING_GUIDE.md}{\texttt{ TESTING\+\_\+\+GUIDE.\+md}}
\end{DoxyItemize}\end{adjustwidth}
\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1767}{}\doxysection{\texorpdfstring{Developer Scripts and Tooling}{Developer Scripts and Tooling}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1767}
The project is equipped with a comprehensive suite of developer scripts and tooling designed to streamline development, enforce code quality, and maintain repository hygiene. The primary entry point for developers is a {\ttfamily Makefile} that provides shortcuts for common tasks like installation, testing, and formatting. This is supplemented by shell scripts for specialized tasks like branch cleanup and automated quality checks via pre-\/commit hooks.

This tooling ensures a consistent development environment and automates quality assurance, allowing developers to focus on building features. For detailed setup instructions and workflow, refer to the \href{https://github.com/DashFin/financial-asset-relationship-db/blob/main/CONTRIBUTING.md}{\texttt{ CONTRIBUTING.\+md}} guide.

Sources\+: \mbox{[}\doxylink{SUMMARY_8md}{SUMMARY.\+md}\mbox{]}(), \mbox{[}\doxylink{CONTRIBUTING_8md}{CONTRIBUTING.\+md}\mbox{]}(), \mbox{[}\doxylink{AUDIT__REPORT_8md}{AUDIT\+\_\+\+REPORT.\+md}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1768}{}\doxysubsection{\texorpdfstring{Makefile Commands}{Makefile Commands}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1768}
The {\ttfamily Makefile} serves as the central command interface for developers, abstracting away the specifics of various tools. It provides a set of simple, memorable commands for all essential development lifecycle tasks.

Sources\+: \mbox{[}\doxylink{SUMMARY_8md}{SUMMARY.\+md}\+:37-\/55\mbox{]}(), \mbox{[}\doxylink{CONTRIBUTING_8md}{CONTRIBUTING.\+md}\+:65-\/71\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1769}{}\doxysubsubsection{\texorpdfstring{Command Reference}{Command Reference}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1769}
The following table summarizes the available {\ttfamily make} commands and their functions.

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{2}{|X[-1]}|}
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Command   }&\cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-2}
\endfirsthead
\hline
\endfoot
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Command   }&\cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-2}
\endhead
{\ttfamily make help}   &Shows all available commands.    \\\cline{1-2}
{\ttfamily make install}   &Installs production dependencies from {\ttfamily requirements.\+txt}.    \\\cline{1-2}
{\ttfamily make install-\/dev}   &Installs all development and production dependencies.    \\\cline{1-2}
{\ttfamily make test}   &Runs the test suite with {\ttfamily pytest} and generates a coverage report.    \\\cline{1-2}
{\ttfamily make test-\/fast}   &Runs the test suite without coverage for quicker feedback.    \\\cline{1-2}
{\ttfamily make lint}   &Runs linters, specifically {\ttfamily flake8} and {\ttfamily pylint}.    \\\cline{1-2}
{\ttfamily make format}   &Formats code using {\ttfamily black} and sorts imports with {\ttfamily isort}.    \\\cline{1-2}
{\ttfamily make format-\/check}   &Checks formatting with {\ttfamily black} and {\ttfamily isort} without making changes.    \\\cline{1-2}
{\ttfamily make type-\/check}   &Runs static type checking using {\ttfamily mypy}.    \\\cline{1-2}
{\ttfamily make pre-\/commit}   &Installs the pre-\/commit hooks.    \\\cline{1-2}
{\ttfamily make pre-\/commit-\/run}   &Runs the pre-\/commit hooks on all files in the repository.    \\\cline{1-2}
{\ttfamily make clean}   &Cleans up generated files like {\ttfamily .pytest\+\_\+cache}, {\ttfamily .coverage}, and {\ttfamily htmlcov/}.    \\\cline{1-2}
{\ttfamily make run}   &Runs the main application ({\ttfamily \doxylink{app_8py}{app.\+py}}).    \\\cline{1-2}
{\ttfamily make check}   &A comprehensive check that runs {\ttfamily format-\/check}, {\ttfamily lint}, {\ttfamily type-\/check}, and {\ttfamily test}.   \\\cline{1-2}
\end{longtabu}


Sources\+: \mbox{[}\doxylink{SUMMARY_8md}{SUMMARY.\+md}\+:60-\/75\mbox{]}(), \mbox{[}\doxylink{CONTRIBUTING_8md}{CONTRIBUTING.\+md}\+:94-\/113\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1770}{}\doxysubsubsection{\texorpdfstring{{\ttfamily make check} Workflow}{{\ttfamily make check} Workflow}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1770}
The {\ttfamily make check} command is a crucial part of the local development workflow, ensuring code meets quality standards before it is committed. The following diagram illustrates the sequence of checks it performs.


\begin{DoxyCode}{0}
\DoxyCodeLine{flowchart\ TD}
\DoxyCodeLine{\ \ \ \ A[Start:\ make\ check]\ -\/-\/>\ B\{Format\ Check\};}
\DoxyCodeLine{\ \ \ \ B\ -\/-\/\ Pass\ -\/-\/>\ C\{Linting\};}
\DoxyCodeLine{\ \ \ \ B\ -\/-\/\ Fail\ -\/-\/>\ F[End:\ Failure];}
\DoxyCodeLine{\ \ \ \ C\ -\/-\/\ Pass\ -\/-\/>\ D\{Type\ Checking\};}
\DoxyCodeLine{\ \ \ \ C\ -\/-\/\ Fail\ -\/-\/>\ F;}
\DoxyCodeLine{\ \ \ \ D\ -\/-\/\ Pass\ -\/-\/>\ E\{Testing\};}
\DoxyCodeLine{\ \ \ \ D\ -\/-\/\ Fail\ -\/-\/>\ F;}
\DoxyCodeLine{\ \ \ \ E\ -\/-\/\ Pass\ -\/-\/>\ G[End:\ Success];}
\DoxyCodeLine{\ \ \ \ E\ -\/-\/\ Fail\ -\/-\/>\ F;}

\end{DoxyCode}


This diagram shows the sequential execution of format checking, linting, type checking, and testing when {\ttfamily make check} is run.

Sources\+: \mbox{[}\doxylink{SUMMARY_8md}{SUMMARY.\+md}\+:75\mbox{]}(), \mbox{[}\doxylink{CONTRIBUTING_8md}{CONTRIBUTING.\+md}\+:112-\/113\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1771}{}\doxysubsection{\texorpdfstring{Branch Management and Cleanup}{Branch Management and Cleanup}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1771}
The repository has a structured approach to branch management to maintain a clean and understandable git history. This includes strict naming conventions, policies for short-\/lived branches, and automated tooling to identify and clean up stale or merged branches.

Sources\+: \mbox{[}\doxylink{BRANCH__CLEANUP__ANALYSIS_8md}{BRANCH\+\_\+\+CLEANUP\+\_\+\+ANALYSIS.\+md}\mbox{]}(), \mbox{[}\doxylink{CONTRIBUTING_8md}{CONTRIBUTING.\+md}\+:120-\/140\mbox{]}(), \mbox{[}\doxylink{BRANCH__CLEANUP__SUMMARY_8md}{BRANCH\+\_\+\+CLEANUP\+\_\+\+SUMMARY.\+md}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1772}{}\doxysubsubsection{\texorpdfstring{Branch Naming Conventions}{Branch Naming Conventions}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1772}
To keep branches organized, the project follows a descriptive naming convention based on the type of work being done.

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{3}{|X[-1]}|}
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Prefix   }&\cellcolor{\tableheadbgcolor}\textbf{ Purpose   }&\cellcolor{\tableheadbgcolor}\textbf{ Example    }\\\cline{1-3}
\endfirsthead
\hline
\endfoot
\hline
\cellcolor{\tableheadbgcolor}\textbf{ Prefix   }&\cellcolor{\tableheadbgcolor}\textbf{ Purpose   }&\cellcolor{\tableheadbgcolor}\textbf{ Example    }\\\cline{1-3}
\endhead
{\ttfamily feature/}   &New feature development   &{\ttfamily feature/add-\/api-\/endpoint}    \\\cline{1-3}
{\ttfamily bugfix/}   &Bug fixes   &{\ttfamily bugfix/database-\/connection}    \\\cline{1-3}
{\ttfamily docs/}   &Documentation updates   &{\ttfamily docs/update-\/readme}    \\\cline{1-3}
{\ttfamily refactor/}   &Code refactoring   &{\ttfamily refactor/simplify-\/graph-\/logic}    \\\cline{1-3}
{\ttfamily test/}   &Test additions or improvements   &{\ttfamily test/add-\/model-\/validation-\/tests}    \\\cline{1-3}
{\ttfamily chore/}   &Maintenance tasks   &{\ttfamily chore/upgrade-\/dependencies}   \\\cline{1-3}
\end{longtabu}


Sources\+: \mbox{[}\doxylink{CONTRIBUTING_8md}{CONTRIBUTING.\+md}\+:124-\/132\mbox{]}(), \mbox{[}\doxylink{BRANCH__CLEANUP__QUICK__REFERENCE_8md}{BRANCH\+\_\+\+CLEANUP\+\_\+\+QUICK\+\_\+\+REFERENCE.\+md}\+:83-\/91\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1773}{}\doxysubsubsection{\texorpdfstring{Cleanup Tools}{Cleanup Tools}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1773}
Two primary tools are provided to assist with branch cleanup\+: an automated Git\+Hub Actions workflow and an interactive local script.


\begin{DoxyEnumerate}
\item {\bfseries{Automated Workflow ({\ttfamily branch-\/cleanup.\+yml})}}\+: This Git\+Hub Actions workflow runs on a weekly schedule to identify stale branches (inactive for 90+ days) and generates a report. It can also be triggered manually. Sources\+: \mbox{[}\doxylink{BRANCH__CLEANUP__SUMMARY_8md}{BRANCH\+\_\+\+CLEANUP\+\_\+\+SUMMARY.\+md}\+:30-\/38\mbox{]}()
\item {\bfseries{Interactive Script ({\ttfamily cleanup-\/branches.\+sh})}}\+: A shell script for developers to run locally. It provides an interactive menu to identify and safely delete merged or stale branches, both locally and remotely. Sources\+: \mbox{[}\doxylink{BRANCH__CLEANUP__SUMMARY_8md}{BRANCH\+\_\+\+CLEANUP\+\_\+\+SUMMARY.\+md}\+:40-\/47\mbox{]}(), \mbox{[}\doxylink{BRANCH__CLEANUP__QUICK__REFERENCE_8md}{BRANCH\+\_\+\+CLEANUP\+\_\+\+QUICK\+\_\+\+REFERENCE.\+md}\+:5-\/9\mbox{]}()
\end{DoxyEnumerate}

The flow of the interactive {\ttfamily cleanup-\/branches.\+sh} script is as follows\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{flowchart\ TD}
\DoxyCodeLine{\ \ \ \ subgraph\ Interactive\ Script\ Flow}
\DoxyCodeLine{\ \ \ \ \ \ \ \ A[Run\ ./cleanup-\/branches.sh]\ -\/-\/>\ B\{Select\ Action\};}
\DoxyCodeLine{\ \ \ \ \ \ \ \ B\ -\/-\/>\ C[List\ Merged\ Branches];}
\DoxyCodeLine{\ \ \ \ \ \ \ \ B\ -\/-\/>\ D[List\ Stale\ Branches];}
\DoxyCodeLine{\ \ \ \ \ \ \ \ B\ -\/-\/>\ E[List\ Remote\ Branches\ not\ Local];}
\DoxyCodeLine{\ \ \ \ \ \ \ \ C\ -\/-\/>\ C1\{Confirm\ Deletion\};}
\DoxyCodeLine{\ \ \ \ \ \ \ \ D\ -\/-\/>\ D1\{Confirm\ Deletion\};}
\DoxyCodeLine{\ \ \ \ \ \ \ \ E\ -\/-\/>\ E1[No\ Action];}
\DoxyCodeLine{\ \ \ \ \ \ \ \ C1\ -\/-\/\ Yes\ -\/-\/>\ C2[Delete\ Branches];}
\DoxyCodeLine{\ \ \ \ \ \ \ \ D1\ -\/-\/\ Yes\ -\/-\/>\ D2[Delete\ Branches];}
\DoxyCodeLine{\ \ \ \ \ \ \ \ C1\ -\/-\/\ No\ -\/-\/>\ B;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ D1\ -\/-\/\ No\ -\/-\/>\ B;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ C2\ -\/-\/>\ F[End];}
\DoxyCodeLine{\ \ \ \ \ \ \ \ D2\ -\/-\/>\ F;}
\DoxyCodeLine{\ \ \ \ end}

\end{DoxyCode}


This diagram outlines the user\textquotesingle{}s journey through the {\ttfamily cleanup-\/branches.\+sh} script, from selecting an action to confirming and executing branch deletion.

Sources\+: \mbox{[}\doxylink{BRANCH__CLEANUP__SUMMARY_8md}{BRANCH\+\_\+\+CLEANUP\+\_\+\+SUMMARY.\+md}\+:40-\/47\mbox{]}(), \mbox{[}\doxylink{BRANCH__CLEANUP__QUICK__REFERENCE_8md}{BRANCH\+\_\+\+CLEANUP\+\_\+\+QUICK\+\_\+\+REFERENCE.\+md}\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1774}{}\doxysubsection{\texorpdfstring{Quality Assurance Tooling}{Quality Assurance Tooling}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1774}
The project integrates several tools to automate code quality checks, which are run both locally via pre-\/commit hooks and in the CI/\+CD pipeline.

Sources\+: \mbox{[}\doxylink{AUDIT__REPORT_8md}{AUDIT\+\_\+\+REPORT.\+md}\+:121-\/145\mbox{]}(), \mbox{[}\doxylink{CONTRIBUTING_8md}{CONTRIBUTING.\+md}\+:100-\/113\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1775}{}\doxysubsubsection{\texorpdfstring{Pre-\/commit Hooks}{Pre-\/commit Hooks}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1775}
Pre-\/commit hooks are configured in {\ttfamily .pre-\/commit-\/config.\+yaml} to run a series of checks automatically before a commit is created. This prevents common issues and ensures code adheres to project standards.

The configured hooks perform the following actions\+:


\begin{DoxyItemize}
\item Trailing whitespace removal
\item End-\/of-\/file fixing
\item Validation of YAML, JSON, and TOML files
\item Code formatting with {\ttfamily black}
\item Import sorting with {\ttfamily isort}
\item Linting with {\ttfamily flake8}
\item Static type checking with {\ttfamily mypy}
\end{DoxyItemize}

To install the hooks, a developer runs {\ttfamily make pre-\/commit} or {\ttfamily pre-\/commit install}.

Sources\+: \mbox{[}\doxylink{AUDIT__REPORT_8md}{AUDIT\+\_\+\+REPORT.\+md}\+:200-\/211\mbox{]}(), \mbox{[}\doxylink{CONTRIBUTING_8md}{CONTRIBUTING.\+md}\+:73-\/79\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1776}{}\doxysubsubsection{\texorpdfstring{Developer Workflow with QA Tools}{Developer Workflow with QA Tools}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1776}
The following diagram shows a typical developer workflow, incorporating the automated tooling.


\begin{DoxyCode}{0}
\DoxyCodeLine{sequenceDiagram}
\DoxyCodeLine{\ \ \ \ participant\ Dev\ as\ Developer}
\DoxyCodeLine{\ \ \ \ participant\ Local\ as\ Local\ Machine}
\DoxyCodeLine{\ \ \ \ participant\ Remote\ as\ GitHub\ Repository}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ Dev-\/>>Local:\ git\ checkout\ -\/b\ feature/new-\/thing}
\DoxyCodeLine{\ \ \ \ Dev-\/>>Local:\ Write\ code\ and\ tests}
\DoxyCodeLine{\ \ \ \ Dev-\/>>Local:\ git\ commit\ -\/m\ "{}feat:\ new\ thing"{}}
\DoxyCodeLine{\ \ \ \ activate\ Local}
\DoxyCodeLine{\ \ \ \ Local-\/>>Local:\ Run\ pre-\/commit\ hooks\ (format,\ lint,\ etc.)}
\DoxyCodeLine{\ \ \ \ Note\ right\ of\ Local:\ Hooks\ run\ automatically}
\DoxyCodeLine{\ \ \ \ alt\ Hooks\ Pass}
\DoxyCodeLine{\ \ \ \ \ \ \ \ Local-\/-\/>>Dev:\ Commit\ successful}
\DoxyCodeLine{\ \ \ \ else\ Hooks\ Fail}
\DoxyCodeLine{\ \ \ \ \ \ \ \ Local-\/-\/>>Dev:\ Commit\ failed,\ fix\ issues}
\DoxyCodeLine{\ \ \ \ end}
\DoxyCodeLine{\ \ \ \ deactivate\ Local}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ Dev-\/>>Remote:\ git\ push\ origin\ feature/new-\/thing}
\DoxyCodeLine{\ \ \ \ Dev-\/>>Remote:\ Create\ Pull\ Request}
\DoxyCodeLine{\ \ \ \ activate\ Remote}
\DoxyCodeLine{\ \ \ \ Remote-\/>>Remote:\ Run\ CI\ Workflow\ (ci.yml)}
\DoxyCodeLine{\ \ \ \ Note\ right\ of\ Remote:\ Includes\ lint,\ type-\/check,\ test,\ security}
\DoxyCodeLine{\ \ \ \ Remote-\/-\/>>Dev:\ PR\ checks\ pass/fail}
\DoxyCodeLine{\ \ \ \ deactivate\ Remote}

\end{DoxyCode}


This sequence diagram illustrates how a developer\textquotesingle{}s actions trigger automated quality checks both locally (pre-\/commit) and remotely (CI workflow).

Sources\+: \mbox{[}\doxylink{CONTRIBUTING_8md}{CONTRIBUTING.\+md}\+:81-\/118\mbox{]}(), \mbox{[}\doxylink{AUDIT__REPORT_8md}{AUDIT\+\_\+\+REPORT.\+md}\+:148-\/160\mbox{]}()\hypertarget{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1777}{}\doxysubsection{\texorpdfstring{Testing Scripts}{Testing Scripts}}\label{md__2app_2doc__state_2github__reposRepoArchDocGenContext_2DashFin-FarDb_2financial-asset-relatiof77ecf5773ca6e409d961a44553707c0_autotoc_md1777}
Testing is managed through {\ttfamily pytest} and can be invoked using simple {\ttfamily Makefile} commands.


\begin{DoxyItemize}
\item {\ttfamily make test}\+: Runs all tests with coverage reporting. This is the standard command for full validation.
\item {\ttfamily make test-\/fast}\+: Runs tests without coverage, which is faster and useful for quick checks during development.
\item {\ttfamily pytest -\/m \texorpdfstring{$<$}{<}marker\texorpdfstring{$>$}{>}}\+: Allows running specific test groups, such as {\ttfamily unit} tests.
\end{DoxyItemize}

The project contains a comprehensive test suite, including unit tests for models and logic, and integration tests for configurations and workflows.

Sources\+: \mbox{[}\doxylink{TESTING__GUIDE_8md}{TESTING\+\_\+\+GUIDE.\+md}\+:231-\/259\mbox{]}(), \mbox{[}\doxylink{CONTRIBUTING_8md}{CONTRIBUTING.\+md}\+:188-\/199\mbox{]}(), \mbox{[}\doxylink{SUMMARY_8md}{SUMMARY.\+md}\+:66-\/67\mbox{]}()
